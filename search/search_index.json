{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Bussysteme Quicklinks Google Colabs Sakai Aufgaben 0 Organisatorisches","title":"\u00dcbersicht"},{"location":"#bussysteme","text":"","title":"Bussysteme"},{"location":"#quicklinks","text":"Google Colabs Sakai Aufgaben","title":"Quicklinks"},{"location":"#0-organisatorisches","text":"","title":"0 Organisatorisches"},{"location":"1_1_Geb%C3%A4udeautomation/","text":"1.1 Geb\u00e4udeautomation \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu Die Aufgaben von Geb\u00e4udeautomation-Management, Raumautomation, und Anlagenautomation abgrenzen Die Aufgaben auf Feld-, Automations-, und Managementebene abgrenzen Aufgaben der Geb\u00e4udeautomation Sicherstellung von Komfort und Sicherheit Energieeffizienz Betriebskostenoptimierung Produktivi\u00e4tssteigerung \ud83e\udde0 Abgrenzung verschiedene Ebenen der Geb\u00e4udeautomation Struktur nach VDI 3814 Lauckner und Krimmling 2020 Anlagenautomation die Regelung, Steuerung, Prozessf\u00fchrung und \u00dcberwachung von Technikzentralen im Geb\u00e4ude, u. a. Heizungsanlagen, Anlagen der L\u00fcftungs-, Klima- und K\u00e4ltetechnik Raumautomation dezentrale Teilprozesse, zur Aufrechterhaltung eines lokalen Raumklimas durch Steuerungen und Bedienung der Ger\u00e4te. Schalenmodell nach VDI 3813 Blatt 1 VDI 3813 Blatt 1 Segment: kleinste Einheit im Schalenmodell ein Raum kann aus mehreren Segmenten bestehen, die f\u00fcr sich selbst funktionsf\u00e4hig sind. Raum: ein Volumen, das von sechs Bauteilen abgeschlossen wird Bereich: Zusammenschluss mehrerer R\u00e4ume z.B. Flur mit Toiletten und einigen B\u00fcros, z.B. eine ganze Etage z.B. ein Foyer Geb\u00e4ude: \"Geb\u00e4ude sind selbst\u00e4ndig benutzbare \u00fcberdeckte bauliche Anlagen, die von Menschen betreten werden k\u00f6nnen.\" 1BayBO Art. 2 Abs. 2 [26] Geb\u00e4udeautomation-Management \u00fcbergeordnete Prozesse, zur \u00dcberwachung und Steuerung (Geb\u00e4udeleittechnik) https://link.springer.com/chapter/10.1007/978-3-319-25876-8_9 Hierarchie der Geb\u00e4udeautomation (Automatisierungspyramide) Anlagen- und Raumautomation m\u00fcssen verkn\u00fcpft sein z. B. die Anpassung der zentralen W\u00e4rmeerzeugung an den dezentralen W\u00e4rmebedarf in den Geb\u00e4udezonen Verkn\u00fcpfung erfolgt in der Automationsebene z. B. Prozess\u00fcberwachung und Optimierung Lauckner und Krimmling 2020 Fazit Geb\u00e4udeautomation ist ein komplexes Thema mit verschiedenen Zielfunktionen und Nutzergruppen Einzelne Anlagen m\u00fcssen gesteuert werden R\u00e4ume m\u00fcssen der Nutzung entsprechend gesteuert werden Geb\u00e4udeautomation-Management ist die \u00fcbergeordnete Instanz, die die Anlagen- und Raumautomation im Besten Fall verkn\u00fcpft","title":"Geb\u00e4udeautomation"},{"location":"1_1_Geb%C3%A4udeautomation/#11-gebaudeautomation","text":"\ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu Die Aufgaben von Geb\u00e4udeautomation-Management, Raumautomation, und Anlagenautomation abgrenzen Die Aufgaben auf Feld-, Automations-, und Managementebene abgrenzen","title":"1.1 Geb\u00e4udeautomation"},{"location":"1_1_Geb%C3%A4udeautomation/#aufgaben-der-gebaudeautomation","text":"Sicherstellung von Komfort und Sicherheit Energieeffizienz Betriebskostenoptimierung Produktivi\u00e4tssteigerung","title":"Aufgaben der Geb\u00e4udeautomation"},{"location":"1_1_Geb%C3%A4udeautomation/#abgrenzung-verschiedene-ebenen-der-gebaudeautomation","text":"Struktur nach VDI 3814","title":"\ud83e\udde0 Abgrenzung verschiedene Ebenen der Geb\u00e4udeautomation"},{"location":"1_1_Geb%C3%A4udeautomation/#lauckner-und-krimmling-2020","text":"","title":"Lauckner und Krimmling 2020"},{"location":"1_1_Geb%C3%A4udeautomation/#anlagenautomation","text":"die Regelung, Steuerung, Prozessf\u00fchrung und \u00dcberwachung von Technikzentralen im Geb\u00e4ude, u. a. Heizungsanlagen, Anlagen der L\u00fcftungs-, Klima- und K\u00e4ltetechnik","title":"Anlagenautomation"},{"location":"1_1_Geb%C3%A4udeautomation/#raumautomation","text":"dezentrale Teilprozesse, zur Aufrechterhaltung eines lokalen Raumklimas durch Steuerungen und Bedienung der Ger\u00e4te.","title":"Raumautomation"},{"location":"1_1_Geb%C3%A4udeautomation/#schalenmodell-nach-vdi-3813-blatt-1","text":"","title":"Schalenmodell nach VDI 3813 Blatt 1"},{"location":"1_1_Geb%C3%A4udeautomation/#vdi-3813-blatt-1","text":"","title":"VDI 3813 Blatt 1"},{"location":"1_1_Geb%C3%A4udeautomation/#segment","text":"kleinste Einheit im Schalenmodell ein Raum kann aus mehreren Segmenten bestehen, die f\u00fcr sich selbst funktionsf\u00e4hig sind.","title":"Segment:"},{"location":"1_1_Geb%C3%A4udeautomation/#raum","text":"ein Volumen, das von sechs Bauteilen abgeschlossen wird","title":"Raum:"},{"location":"1_1_Geb%C3%A4udeautomation/#bereich","text":"Zusammenschluss mehrerer R\u00e4ume z.B. Flur mit Toiletten und einigen B\u00fcros, z.B. eine ganze Etage z.B. ein Foyer","title":"Bereich:"},{"location":"1_1_Geb%C3%A4udeautomation/#gebaude","text":"\"Geb\u00e4ude sind selbst\u00e4ndig benutzbare \u00fcberdeckte bauliche Anlagen, die von Menschen betreten werden k\u00f6nnen.\"","title":"Geb\u00e4ude:"},{"location":"1_1_Geb%C3%A4udeautomation/#1baybo-art-2-abs-2-26","text":"","title":"1BayBO Art. 2 Abs. 2 [26]"},{"location":"1_1_Geb%C3%A4udeautomation/#gebaudeautomation-management","text":"\u00fcbergeordnete Prozesse, zur \u00dcberwachung und Steuerung (Geb\u00e4udeleittechnik)","title":"Geb\u00e4udeautomation-Management"},{"location":"1_1_Geb%C3%A4udeautomation/#httpslinkspringercomchapter101007978-3-319-25876-8_9","text":"","title":"https://link.springer.com/chapter/10.1007/978-3-319-25876-8_9"},{"location":"1_1_Geb%C3%A4udeautomation/#hierarchie-der-gebaudeautomation-automatisierungspyramide","text":"Anlagen- und Raumautomation m\u00fcssen verkn\u00fcpft sein z. B. die Anpassung der zentralen W\u00e4rmeerzeugung an den dezentralen W\u00e4rmebedarf in den Geb\u00e4udezonen Verkn\u00fcpfung erfolgt in der Automationsebene z. B. Prozess\u00fcberwachung und Optimierung","title":"Hierarchie der Geb\u00e4udeautomation (Automatisierungspyramide)"},{"location":"1_1_Geb%C3%A4udeautomation/#lauckner-und-krimmling-2020_1","text":"","title":"Lauckner und Krimmling 2020"},{"location":"1_1_Geb%C3%A4udeautomation/#fazit","text":"Geb\u00e4udeautomation ist ein komplexes Thema mit verschiedenen Zielfunktionen und Nutzergruppen Einzelne Anlagen m\u00fcssen gesteuert werden R\u00e4ume m\u00fcssen der Nutzung entsprechend gesteuert werden Geb\u00e4udeautomation-Management ist die \u00fcbergeordnete Instanz, die die Anlagen- und Raumautomation im Besten Fall verkn\u00fcpft","title":"Fazit"},{"location":"1_2_Planungsabl%C3%A4ufe/","text":"1.2 Planungsabl\u00e4ufe Planungsabl\u00e4ufe f\u00fcr die Geb\u00e4udeautomation Im folgenden wird ein Planungsablauf f\u00fcr die Geb\u00e4udeautomation (vereinfacht stilisiert) vorgestellt Hierbei wird auf das Beispiel einer Raumautomation eingegangen Hochschule Biberach - Nachhaltiges Planen, Bauen und Betreiben durch Einsatz von Geb\u00e4udeautomation Leistungsphase Bezeichnung Geb\u00e4ude (\u00a7 34) Innenr\u00e4ume (\u00a7 34) Technische Ausr\u00fcstung (\u00a7 55) 1 Grundlagenermittlung 2 % 2 % 2 % 2 Vorplanung 7 % 7 % 9 % 3 Entwurfsplanung 15 % 15 % 17 % 4 Genehmigungsplanung 3 % 2 % 2 % 5 Ausf\u00fchrungsplanung 25 % 30 % 22 % 6 Vorbereitung der Vergabe 10 % 7 % 7 % 7 Mitwirkung bei der Vergabe 4 % 3 % 5 % 8 Objekt\u00fcberwachung \u2013 Bau\u00fcberwachung und Dokumentation 32 % 32 % 35 % 9 Objektbetreuung 2 % 2 % 1 % Summe 100 % 100 % 100 % Leistungsbild gem\u00e4\u00df HOAI 2013 und HOAI 2021 Grundlagenermittlung und Bedarfsplanung Zun\u00e4chst wird z.B. w\u00e4hrend der Ausschreibungsphase ein Lastenheft erstellt, welches beschreibt was erreicht werden soll H\u00e4ufig enth\u00e4lt dieses eine textuelle Beschreibung des gew\u00fcnschten Endzustandes meist formuliert durch die Kund:in / Bauherr:in ggf. unterst\u00fctzt durch einen Planungsb\u00fcro Je nach Projekt kann hier auch auf bestehende Normen verwiesen werden bzw. diese m\u00fcssen ber\u00fccksichtigt werden z.B. Energieeffizienzklasse A nach EN15232 d.h. Heizsystem mit Einzelraumre\u00adgelung mit Kom\u00admunikation und Bedarfsanforde\u00adrung \ud83e\udd13 \u00d6sterreich Leistungsgruppen der standardisierten Bauausschreibung Komponenten-basiert. D.h. es werden Komponenten(typen) beschrieben, die in der Ausschreibung verwendet werden sollen und weniger auf die Erf\u00fcllung von Funktionen eingegangen Leistungsgruppen LG 84 - GA-System Raumautomation LG 85 GA-System Anlagenautomation (AA) LG 86 GA-Management (GA-M) \ud83e\udd13 Schweiz St\u00e4rkerer Fokus auf die Funktionen (z.B. durch Funktionstests) KBOB Empfehlung Geb\u00e4udetechnik dient als Definition der Anforderung an die geb\u00e4ude-technischen Installationen und Anlagen Vor- bis Genehmigungsplanung Fachplaner nehmen eine formale Beschreibung der Funktionen vor Die konzipieren wie die Funktionen umgesetzt werden sollen (Pflichtenheft) Typisch f\u00fcr diese Phase ist die Erstellung von Flie\u00dfbildern und Schemata z.B. Stromlaufpl\u00e4ne, Pneumatikpl\u00e4ne, Hydraulikpl\u00e4ne, etc. Raumautomations-Schema und Raumautomations-Funktionschema (VDI 3813) Analgenautomations-Schema und Anlagenautomations-Funktionschema (VDI 3814) Komponenten-Sicht durch Preplanning https://www.eplan.de/unternehmen/news/automatisiertes-engineering-in-der-gebaudeautomation/ Funktions-Sicht durch Raumautomations-Schema (VDI 3813) Zuordnung von Sensoren, Aktoren und Funktionen zueinander und zu Raum vs. Segment (keine genaue R\u00e4umliche Positionierung) Blockbausteine f\u00fcr Funktionen: Nutzen Attribute der Sensoren, um Attribute der Aktoren zu ver\u00e4ndern Funktionen Eingaben : Werte, die in die Funktion eingehen und sich abh\u00e4ngig vom Systemzustand \u00e4ndern k\u00f6nnen Parameter : unver\u00e4nderliche Werte, die einmalig konfiguriert werden (z.B. in Abh\u00e4ngigkeit der Raumgr\u00f6\u00dfe) Ausgaben : Werte, welche von der Funktion abh\u00e4ngig von Parametern und Eingaben zur\u00fcckgegeben werden Viele Funktionen stehen f\u00fcr viele Systeme standardisiert zur Verf\u00fcgung (z.B. Loxone , Beckhoff , etc.) oder k\u00f6nnen selbst implementiert werden Vorsicht, das stimmt nicht ganze mit der \u00fcblichen Benennung bei Programmiersprachen \u00fcberein Sensorfunktionen Ziel: Erfassen von Zust\u00e4nden Pr\u00e4senzerkennung, Fenster\u00fcberwachung, Taupunkt\u00fcberwachung, Lufttemperaturmessung, Helligkeitsmessung, Luftqualit\u00e4tsmessung, Windgeschwindigkeit, Niederschlag Sensorfuktionen != Sensoren / Datenpunkte \"k\u00fcnstliche\" Trennung erh\u00f6ht Flexibilit\u00e4t Ein Datenpunkt / Sensor Lufttemperaturmessung Luftqualit\u00e4tsmessung ggf. Taupunkt\u00fcberwachung https://www.sensorshop24.de/raumkombifuehler-fuer-temperatur-und-feuchte-0-10v-4-20ma Beispiel Verschattungkorrektur https://infosys.beckhoff.com/index.php?content=../content/1031/tcplclibhvac/11659363083.html&id= Aktorfunktionen Ziel: Steuerung von Komponenten bin\u00e4rer Schaltaktor Lichtaktor, Sonnenschutzaktor, Stellantriebsaktor (z.B: Heizk\u00f6rper) Bedien-, Anzeige und Managementfunktionen Bedien- und Anzeigefunktionen ( lokal ) Stellantriebsaktor, Sonnenschutzstellen, Antriebstellen, Temperatursollwertstellen, Raumnutzungsart w\u00e4hlen, Pr\u00e4senzmelden Managementfunktionen Aufzeichnung, Archivierung und statistische Analyse Anwendungsfunktionen sind Programmabl\u00e4ufe die meist mehrere Aktoren und Sensoren miteinbeziehen Raumklima Energieniveauwahl, Energieniveauwahl mit Startoptimierung,Sollwertermittlung, Funktionswahl, Temperaturregelung, Raum\u2010Zulufttemperatur\u2010Kaskade, Ventilatorsteuerung, Sequenzsteuerung, Stellwertbegrenzung, Luftqualit\u00e4tsregelung, Nachtk\u00fchlung, Volumenstromregelung Anwendungsfunktionen Beleuchtung Lichtschaltung, Treppenlichtschaltung , Automatiklicht, Tageslichtschaltung, Kostantlichtregelung, D\u00e4mmerungsschaltung Sonnenschutz Priorit\u00e4tssteuerung, D\u00e4mmerungsautomatik, Sonnenautomatik, Lamellennachf\u00fchrung, Verschattungskorrektur, Thermoautomatik, Witterungsschutz \u00dcbergreifend Belegungsauswertung, Steuerung \u00fcber Raumnutzung, Zeitprogramm, Trennwandsteuerung, Thermoautomatik Beispiel Treppenlichtschaltung \u00dcber die Funktion Treppenlichtschaltung k\u00f6nnen Beleuchtungseinrichtungen tempor\u00e4r eingeschaltet werden. Nach Ablauf der Treppenlichthaltezeit kann eine Abschaltvorwarnzeit aktiv werden, die den Nutzer z. B. durch kurzzeitige Unterbrechung(\u201eFlackern\u201c) \u00fcber die bevorstehende Abschaltung informiert. Ein erneuter Empfang einer Eingabeinformation zum Einschalten startet die Verz\u00f6gerungszeit neu. Die Funktion ben\u00f6tigt als Eingabeinformation das Ergebnis der Bedienfunktion Licht stellen und liefert ihrerseits die Ausgabeinformation f\u00fcr eine oder mehrere Aktorfunktionen Lichtaktor. Zusammenhang zwischen verschiedenen Funktionen https://assets.new.siemens.com/siemens/assets/api/uuid:c107cd4a-cbd2-4b40-aeaa-a1face4c3dc7/planungshandbuch-gebaudeautomation-de.pdf Schritt Raumautomations-Schema Ableitungen aus Vorplanung und Raumautomations-Schema Raumautomations-Schema zielt insbesondere auf die Implementierung, der gezielten Funktionalit\u00e4t (Funktionsbausteine werden auch in der Programmierung eingesetzt) Grafisches Werkzeug: Intuitive Pr\u00fcfung auf Vollst\u00e4ndigkeit m\u00f6glich Entscheidung f\u00fcr Raum und Segment z.b. ein vs. mehrere Bewegungsmelder pro Segment F\u00fcr die Mengenplanung und Installationsplanung ist eine andere Darstellung hilfreicher \u270d\ufe0f Aufgabe 1_2_1: Raumautomationsschema f\u00fcr ein Treppenhaus Bef\u00fcllen Sie das vorliegende Raumautomations-Schema mit den entsprechenden Funktionen f\u00fcr die Beleuchtung eines Treppenhauses Alle Leuchten werden \u00fcber einen Aktor f\u00fcr das gemachte Treppenhaus zusammengefasst Das Treppenhaus verbindet zwei Stockwerke, auf jedem soll ein bedienelement f\u00fcr die Beleuchtung angebracht werden Die Anwendungsfunktion Treppenlichtschaltung soll hier\u00fcber gesteuert werden k\u00f6nnen zus\u00e4tzlich soll die Beleuchtung auch direkt aus der Geb\u00e4udeleittechnik gesteuert werden k\u00f6nnen L\u00f6sung Ausf\u00fchrung Entscheidung f\u00fcr Hardware und Software, um die Funktionen umzusetzen Erstellung von Detailpl\u00e4nen und Dokumentationen Installation der Hardware und Verkabelung Implementierung von Software Funktionstests Beispiel: Parametrisierung eines DALI-Systems Beispiel: Programmierung eine SPS Bussysteme i.d.R. gibt es eine Vielzahl von m\u00f6glichen Bussystemen, die f\u00fcr die Umsetzung der Funktionen in Frage kommen h\u00e4ufig werden mehrere Bussysteme kombiniert und m\u00fcssen orchestriert werden neben den Kosten m\u00fcssen auch Anforderungen an Erweiterbarkeit und Wartbarkeit ber\u00fccksichtigt werden Erweiterbarkeit: Wie einfach ist es, neue Komponenten hinzuzuf\u00fcgen? Wie offen ist das System f\u00fcr Ver\u00e4nderungen? Wartbarkeit: Sind Dienstleister oder Personal verf\u00fcgbar, die das System warten k\u00f6nnen? Ist davon auszugehen, dass das System in 10 Jahren noch verf\u00fcgbar ist? Betriebsphase Softwareupdates: Wie k\u00f6nnen Softwareupdates eingespielt werden? Over-the-Air vs manuell? Wie werden die Updates getestet? Funktionstests: Wie kann die Funktionalit\u00e4t \u00fcberpr\u00fcft werden? Wie k\u00f6nnen Fehler identifiziert werden? Automatisierungspyramide Cloud Zunehmende Bedeutung von Cloud-Systemen Insbesondere die h\u00f6heren Ebenen der Automatisierungspyramide werden zunehmend in die Cloud verlagert Appendix: Ausgew\u00e4hlte Anwendungsfunktionen Funktionen f\u00fcr die Raumklimaregelung II Startoptimierung Wird dem Raumtemperaturregler \u00fcber ein Zeitprogramm zus\u00e4tzlich zum gegenw\u00e4rtigen Energieniveau auch das n\u00e4chste und der zugeh\u00f6rige Zeitpunkt mitgeteilt, ist der Regler in der Lage, den optimalen Aufheizzeitpunkt des Raums anhand zus\u00e4tzlicher Informationen, wie der Raum- und der Au\u00dfentemperatur, so zu bestimmen, dass die gew\u00fcnschte Raumtemperatur genau zu dem gew\u00e4hlten Zeitpunkt zur Verf\u00fcgung steht (Erweiterung der Energieniveauwahl). Fenster\u00fcberwachung Bei ge\u00f6ffneten Fenstern sorgt die Fenster\u00fcberwachung f\u00fcr eine automatische Umschaltung auf das Energieniveau Geb\u00e4udeschutz um Energieverschwendung zu vermeiden. Der Zustand der Fenster wird \u00fcber entsprechende Kontakte eingelesen. Funktionen f\u00fcr die Raumklimaregelung III Sollwertermittlung Abh\u00e4ngig vom Energieniveau muss ein Raumtemperaturregler in der Lage sein, die korrekte Sollwertvorgabe zu ermitteln. Zus\u00e4tzlich kann der Sollwert bei hohen Au\u00dfentemperaturen gleitend angehoben werden ( Sommerkompensation ), um zu gro\u00dfe Unterschiede zur Raumtemperatur zu vermeiden. Temperaturregelung Die eigentliche Regelung der Raumtemperatur durch Ermittlung der korrekten Stellantriebsstellung f\u00fcr Heizen oder K\u00fchlen erfolgt durch die Funktion Temperaturregelung. In den meisten F\u00e4llen kommen PI-Regler zum Einsatz, die in der Lage sind, statische Regelabweichungen zu eliminieren. Funktionen f\u00fcr die Raumklimaregelung IV Ventilatorsteuerung Luftgest\u00fctzte Anlagen, z. B. Gebl\u00e4sekonvektoren, verf\u00fcgen \u00fcber Ventilatoren zum Lufttransport. Die Luftmenge kann dabei meist mehrstufig an die erforderliche Heiz- oder K\u00fchlleistung angepasst werden. Die Wahl der geeigneten Ventilatorstufe erfolgt anhand der Differenz der Ist- zur Soll-Raumlufttemperatur oder analog zu den Stellantrieben der Heiz- oder K\u00fchlregister. Luftqualit\u00e4tsregelung Wird die Versorgung der R\u00e4ume mit Frischluft \u00fcber mechanische Systeme, wie Zentral- oder Fassadenl\u00fcftungsanlagen gew\u00e4hrleistet, wird die Zuluftmenge zur Einsparung elektrischer Energie f\u00fcr die Ventilatoren an die Raumluftqualit\u00e4t angepasst . Funktionen f\u00fcr die Raumklimaregelung IV Nachtk\u00fchlung K\u00fchle Nachtluft l\u00e4sst sich zum Herunterk\u00fchlen der Raumluft nutzen, falls Fenster oder Fassadenklappen motorisch ge\u00f6ffnet werden k\u00f6nnen oder Gebl\u00e4sekonvektoren mit Zuluftklappen vorhanden sind. Diese Funktion sollte mit Hilfe der gemessenen lokalen Raumtemperatur und der Au\u00dfentemperatur raumindividuell ausgef\u00fchrt werden, um eine optimale Absenkung zu erreichen. Thermoautomatik Durch die Fenster eintretendes Sonnenlicht sorgt f\u00fcr einen W\u00e4rmeeintrag in den Raum, der je nach Raumtemperatur willkommen oder unwillkommen ist. Die Thermoautomatik \u00fcbernimmt in unbelegten R\u00e4umen nun die Kontrolle \u00fcber den Sonnenschutz zur Unterst\u00fctzung von Heiz- oder K\u00fchlvorg\u00e4ngen. So kann im Sommer eine \u00dcberhitzung vermieden und im Winter die Heizung durch solare Gewinne entlastet werden. Funktionen f\u00fcr Beleuchtung, Blendschutz und Tageslichtnutzung Konstantlichtregelung Ein Sensor zur Erfassung der Raumhelligkeit, z. B. innerhalb eines Multisensors, sorgt f\u00fcr die exakte Anpassung des Beleuchtungsniveaus an die Arbeitsaufgabe. Hierf\u00fcr erforderlich sind dimmf\u00e4hige Aktoren (analoger Ausgang). Tageslichtschaltung Der \"kleine Bruder\" der Konstantlichtregelung ist \u00fcberall dort einsetzbar, wo die Beleuchtung nur schaltbar ausgef\u00fchrt werden kann. Zur Erfassung der Helligkeit ist ebenfalls ein Sensor im Raum erforderlich. Unterschreitet das Tageslicht die erforderliche Raumhelligkeit, wird Kunstlicht automatisch in ein oder mehreren Stufen zugeschaltet und bei Zunahme des Tageslichtanteils wieder abgeschaltet (digitaler Ausgang). Funktionen f\u00fcr Beleuchtung etc. II Automatiklicht In R\u00e4umen ohne ausreichende Tageslichtversorgung, z. B. in Fluren oder Sanit\u00e4rr\u00e4umen, l\u00e4sst sich Energie sparen, indem die Beleuchtung nur tempor\u00e4r eingeschaltet wird. Die Pr\u00e4senzerkennung liefert die hierf\u00fcr erforderlichen Sensordaten. Eine einstellbare Abschaltverz\u00f6gerung sorgt f\u00fcr Beleuchtungskomfort. Sonnenautomatik Au\u00dfenliegende Jalousien und bedingt auch Markisen sorgen vor allem f\u00fcr einen W\u00e4rmeschutz des Geb\u00e4udes. Innenliegende Jalousien, Vertikallamellen u. \u00e4. sorgen vor allem f\u00fcr Blendfreiheit an Arbeitspl\u00e4tzen. Die Sonnenautomatik sorgt nutzt Wetterdaten, damit der au\u00dfenliegende Sonnenschutz eine einstellbare Position immer dann einnimmt, wenn eine bestimmte Strahlungsintensit\u00e4t \u00fcberschritten wird. Der innen liegende Blendschutz ist i. d. R. nicht automatisiert, da das Blendungsempfinden individuell zu bewerten ist. Funktionen f\u00fcr Beleuchtung etc. III Lamellennachf\u00fchrung Die Lamellennachf\u00fchrung ist eine Weiterentwicklung der Sonnenautomatik . Bei hoher Strahlungsintensit\u00e4t f\u00e4hrt der Sonnenschutz dazu in eine Stellung, die zyklisch dem Sonnenstand angepasst wird. So wird unter Aufrechterhaltung des Blendschutzes die Tageslichtversorgung maximiert. Verschattungskorrektur Umliegende Geb\u00e4ude oder eigene Geb\u00e4udeteile sorgen auf den Fassaden f\u00fcr Schattenwurf, der die Blendschutzfunktion f\u00fcr die im Schatten liegenden Jalousien zeitweise unn\u00f6tig macht. Die Jalousien sollten f\u00fcr eine bessere Tageslichtversorgung in dieser Zeit ge\u00f6ffnet sein. Die Verschattungskorrektur korrigiert dies in Verbindung mit der Sonnenautomatik oder der Lamellennachf\u00fchrung arbeitet. Die Funktion wird gelegentlich auch Jahresverschattungsdiagramm genannt. Funktionen f\u00fcr Beleuchtung etc. IV D\u00e4mmerungsschaltung Au\u00dfenbeleuchtung ist nur dann erforderlich, wenn es dunkel wird. Da der Zeitpunkt jahreszeitlich variiert, sorgt die D\u00e4mmerungsschaltung selbstst\u00e4ndig f\u00fcr den optimalen Einschaltmoment. Witterungsschutz Witterungsschutzfunktionen vermeiden Sch\u00e4den an der Sonnenschutzanlage. Sensoren f\u00fcr Temperatur, Niederschlag, Windgeschwindigkeit und -richtung stellen die erforderlichen Wetterdaten zur Verf\u00fcgung, damit der Sonnenschutz rechtzeitig vor Besch\u00e4digungen eingezogen wird (ggf. auch f\u00fcr Fenster).","title":"Planungsabl\u00e4ufe"},{"location":"1_2_Planungsabl%C3%A4ufe/#12-planungsablaufe","text":"","title":"1.2 Planungsabl\u00e4ufe"},{"location":"1_2_Planungsabl%C3%A4ufe/#planungsablaufe-fur-die-gebaudeautomation","text":"Im folgenden wird ein Planungsablauf f\u00fcr die Geb\u00e4udeautomation (vereinfacht stilisiert) vorgestellt Hierbei wird auf das Beispiel einer Raumautomation eingegangen","title":"Planungsabl\u00e4ufe f\u00fcr die Geb\u00e4udeautomation"},{"location":"1_2_Planungsabl%C3%A4ufe/#hochschule-biberach-nachhaltiges-planen-bauen-und-betreiben-durch-einsatz-von-gebaudeautomation","text":"Leistungsphase Bezeichnung Geb\u00e4ude (\u00a7 34) Innenr\u00e4ume (\u00a7 34) Technische Ausr\u00fcstung (\u00a7 55) 1 Grundlagenermittlung 2 % 2 % 2 % 2 Vorplanung 7 % 7 % 9 % 3 Entwurfsplanung 15 % 15 % 17 % 4 Genehmigungsplanung 3 % 2 % 2 % 5 Ausf\u00fchrungsplanung 25 % 30 % 22 % 6 Vorbereitung der Vergabe 10 % 7 % 7 % 7 Mitwirkung bei der Vergabe 4 % 3 % 5 % 8 Objekt\u00fcberwachung \u2013 Bau\u00fcberwachung und Dokumentation 32 % 32 % 35 % 9 Objektbetreuung 2 % 2 % 1 % Summe 100 % 100 % 100 %","title":"Hochschule Biberach - Nachhaltiges Planen, Bauen und Betreiben durch Einsatz von Geb\u00e4udeautomation"},{"location":"1_2_Planungsabl%C3%A4ufe/#leistungsbild-gema-hoai-2013-und-hoai-2021","text":"","title":"Leistungsbild gem\u00e4\u00df HOAI 2013 und HOAI 2021"},{"location":"1_2_Planungsabl%C3%A4ufe/#grundlagenermittlung-und-bedarfsplanung","text":"Zun\u00e4chst wird z.B. w\u00e4hrend der Ausschreibungsphase ein Lastenheft erstellt, welches beschreibt was erreicht werden soll H\u00e4ufig enth\u00e4lt dieses eine textuelle Beschreibung des gew\u00fcnschten Endzustandes meist formuliert durch die Kund:in / Bauherr:in ggf. unterst\u00fctzt durch einen Planungsb\u00fcro Je nach Projekt kann hier auch auf bestehende Normen verwiesen werden bzw. diese m\u00fcssen ber\u00fccksichtigt werden z.B. Energieeffizienzklasse A nach EN15232 d.h. Heizsystem mit Einzelraumre\u00adgelung mit Kom\u00admunikation und Bedarfsanforde\u00adrung","title":"Grundlagenermittlung und Bedarfsplanung"},{"location":"1_2_Planungsabl%C3%A4ufe/#osterreich","text":"Leistungsgruppen der standardisierten Bauausschreibung Komponenten-basiert. D.h. es werden Komponenten(typen) beschrieben, die in der Ausschreibung verwendet werden sollen und weniger auf die Erf\u00fcllung von Funktionen eingegangen Leistungsgruppen LG 84 - GA-System Raumautomation LG 85 GA-System Anlagenautomation (AA) LG 86 GA-Management (GA-M)","title":"\ud83e\udd13 \u00d6sterreich"},{"location":"1_2_Planungsabl%C3%A4ufe/#schweiz","text":"St\u00e4rkerer Fokus auf die Funktionen (z.B. durch Funktionstests) KBOB Empfehlung Geb\u00e4udetechnik dient als Definition der Anforderung an die geb\u00e4ude-technischen Installationen und Anlagen","title":"\ud83e\udd13 Schweiz"},{"location":"1_2_Planungsabl%C3%A4ufe/#vor-bis-genehmigungsplanung","text":"Fachplaner nehmen eine formale Beschreibung der Funktionen vor Die konzipieren wie die Funktionen umgesetzt werden sollen (Pflichtenheft) Typisch f\u00fcr diese Phase ist die Erstellung von Flie\u00dfbildern und Schemata z.B. Stromlaufpl\u00e4ne, Pneumatikpl\u00e4ne, Hydraulikpl\u00e4ne, etc. Raumautomations-Schema und Raumautomations-Funktionschema (VDI 3813) Analgenautomations-Schema und Anlagenautomations-Funktionschema (VDI 3814)","title":"Vor- bis Genehmigungsplanung"},{"location":"1_2_Planungsabl%C3%A4ufe/#komponenten-sicht-durch-preplanning","text":"","title":"Komponenten-Sicht durch Preplanning"},{"location":"1_2_Planungsabl%C3%A4ufe/#httpswwweplandeunternehmennewsautomatisiertes-engineering-in-der-gebaudeautomation","text":"","title":"https://www.eplan.de/unternehmen/news/automatisiertes-engineering-in-der-gebaudeautomation/"},{"location":"1_2_Planungsabl%C3%A4ufe/#funktions-sicht-durch-raumautomations-schema-vdi-3813","text":"Zuordnung von Sensoren, Aktoren und Funktionen zueinander und zu Raum vs. Segment (keine genaue R\u00e4umliche Positionierung) Blockbausteine f\u00fcr Funktionen: Nutzen Attribute der Sensoren, um Attribute der Aktoren zu ver\u00e4ndern","title":"Funktions-Sicht durch Raumautomations-Schema (VDI 3813)"},{"location":"1_2_Planungsabl%C3%A4ufe/#funktionen","text":"Eingaben : Werte, die in die Funktion eingehen und sich abh\u00e4ngig vom Systemzustand \u00e4ndern k\u00f6nnen Parameter : unver\u00e4nderliche Werte, die einmalig konfiguriert werden (z.B. in Abh\u00e4ngigkeit der Raumgr\u00f6\u00dfe) Ausgaben : Werte, welche von der Funktion abh\u00e4ngig von Parametern und Eingaben zur\u00fcckgegeben werden Viele Funktionen stehen f\u00fcr viele Systeme standardisiert zur Verf\u00fcgung (z.B. Loxone , Beckhoff , etc.) oder k\u00f6nnen selbst implementiert werden","title":"Funktionen"},{"location":"1_2_Planungsabl%C3%A4ufe/#vorsicht-das-stimmt-nicht-ganze-mit-der-ublichen-benennung-bei-programmiersprachen-uberein","text":"","title":"Vorsicht, das stimmt nicht ganze mit der \u00fcblichen Benennung bei Programmiersprachen \u00fcberein"},{"location":"1_2_Planungsabl%C3%A4ufe/#sensorfunktionen","text":"Ziel: Erfassen von Zust\u00e4nden Pr\u00e4senzerkennung, Fenster\u00fcberwachung, Taupunkt\u00fcberwachung, Lufttemperaturmessung, Helligkeitsmessung, Luftqualit\u00e4tsmessung, Windgeschwindigkeit, Niederschlag","title":"Sensorfunktionen"},{"location":"1_2_Planungsabl%C3%A4ufe/#sensorfuktionen-sensoren-datenpunkte","text":"\"k\u00fcnstliche\" Trennung erh\u00f6ht Flexibilit\u00e4t Ein Datenpunkt / Sensor Lufttemperaturmessung Luftqualit\u00e4tsmessung ggf. Taupunkt\u00fcberwachung","title":"Sensorfuktionen != Sensoren / Datenpunkte"},{"location":"1_2_Planungsabl%C3%A4ufe/#httpswwwsensorshop24deraumkombifuehler-fuer-temperatur-und-feuchte-0-10v-4-20ma","text":"","title":"https://www.sensorshop24.de/raumkombifuehler-fuer-temperatur-und-feuchte-0-10v-4-20ma"},{"location":"1_2_Planungsabl%C3%A4ufe/#beispiel-verschattungkorrektur","text":"","title":"Beispiel Verschattungkorrektur"},{"location":"1_2_Planungsabl%C3%A4ufe/#httpsinfosysbeckhoffcomindexphpcontentcontent1031tcplclibhvac11659363083htmlid","text":"","title":"https://infosys.beckhoff.com/index.php?content=../content/1031/tcplclibhvac/11659363083.html&amp;id="},{"location":"1_2_Planungsabl%C3%A4ufe/#aktorfunktionen","text":"Ziel: Steuerung von Komponenten bin\u00e4rer Schaltaktor Lichtaktor, Sonnenschutzaktor, Stellantriebsaktor (z.B: Heizk\u00f6rper)","title":"Aktorfunktionen"},{"location":"1_2_Planungsabl%C3%A4ufe/#bedien-anzeige-und-managementfunktionen","text":"Bedien- und Anzeigefunktionen ( lokal ) Stellantriebsaktor, Sonnenschutzstellen, Antriebstellen, Temperatursollwertstellen, Raumnutzungsart w\u00e4hlen, Pr\u00e4senzmelden Managementfunktionen Aufzeichnung, Archivierung und statistische Analyse","title":"Bedien-, Anzeige und Managementfunktionen"},{"location":"1_2_Planungsabl%C3%A4ufe/#anwendungsfunktionen","text":"sind Programmabl\u00e4ufe die meist mehrere Aktoren und Sensoren miteinbeziehen Raumklima Energieniveauwahl, Energieniveauwahl mit Startoptimierung,Sollwertermittlung, Funktionswahl, Temperaturregelung, Raum\u2010Zulufttemperatur\u2010Kaskade, Ventilatorsteuerung, Sequenzsteuerung, Stellwertbegrenzung, Luftqualit\u00e4tsregelung, Nachtk\u00fchlung, Volumenstromregelung","title":"Anwendungsfunktionen"},{"location":"1_2_Planungsabl%C3%A4ufe/#anwendungsfunktionen_1","text":"Beleuchtung Lichtschaltung, Treppenlichtschaltung , Automatiklicht, Tageslichtschaltung, Kostantlichtregelung, D\u00e4mmerungsschaltung Sonnenschutz Priorit\u00e4tssteuerung, D\u00e4mmerungsautomatik, Sonnenautomatik, Lamellennachf\u00fchrung, Verschattungskorrektur, Thermoautomatik, Witterungsschutz \u00dcbergreifend Belegungsauswertung, Steuerung \u00fcber Raumnutzung, Zeitprogramm, Trennwandsteuerung, Thermoautomatik","title":"Anwendungsfunktionen"},{"location":"1_2_Planungsabl%C3%A4ufe/#beispiel-treppenlichtschaltung","text":"\u00dcber die Funktion Treppenlichtschaltung k\u00f6nnen Beleuchtungseinrichtungen tempor\u00e4r eingeschaltet werden. Nach Ablauf der Treppenlichthaltezeit kann eine Abschaltvorwarnzeit aktiv werden, die den Nutzer z. B. durch kurzzeitige Unterbrechung(\u201eFlackern\u201c) \u00fcber die bevorstehende Abschaltung informiert. Ein erneuter Empfang einer Eingabeinformation zum Einschalten startet die Verz\u00f6gerungszeit neu. Die Funktion ben\u00f6tigt als Eingabeinformation das Ergebnis der Bedienfunktion Licht stellen und liefert ihrerseits die Ausgabeinformation f\u00fcr eine oder mehrere Aktorfunktionen Lichtaktor.","title":"Beispiel Treppenlichtschaltung"},{"location":"1_2_Planungsabl%C3%A4ufe/#zusammenhang-zwischen-verschiedenen-funktionen","text":"","title":"Zusammenhang zwischen verschiedenen Funktionen"},{"location":"1_2_Planungsabl%C3%A4ufe/#httpsassetsnewsiemenscomsiemensassetsapiuuidc107cd4a-cbd2-4b40-aeaa-a1face4c3dc7planungshandbuch-gebaudeautomation-depdf","text":"","title":"https://assets.new.siemens.com/siemens/assets/api/uuid:c107cd4a-cbd2-4b40-aeaa-a1face4c3dc7/planungshandbuch-gebaudeautomation-de.pdf"},{"location":"1_2_Planungsabl%C3%A4ufe/#schritt-raumautomations-schema","text":"","title":"Schritt Raumautomations-Schema"},{"location":"1_2_Planungsabl%C3%A4ufe/#ableitungen-aus-vorplanung-und-raumautomations-schema","text":"Raumautomations-Schema zielt insbesondere auf die Implementierung, der gezielten Funktionalit\u00e4t (Funktionsbausteine werden auch in der Programmierung eingesetzt) Grafisches Werkzeug: Intuitive Pr\u00fcfung auf Vollst\u00e4ndigkeit m\u00f6glich Entscheidung f\u00fcr Raum und Segment z.b. ein vs. mehrere Bewegungsmelder pro Segment F\u00fcr die Mengenplanung und Installationsplanung ist eine andere Darstellung hilfreicher","title":"Ableitungen aus Vorplanung und Raumautomations-Schema"},{"location":"1_2_Planungsabl%C3%A4ufe/#aufgabe-1_2_1-raumautomationsschema-fur-ein-treppenhaus","text":"Bef\u00fcllen Sie das vorliegende Raumautomations-Schema mit den entsprechenden Funktionen f\u00fcr die Beleuchtung eines Treppenhauses Alle Leuchten werden \u00fcber einen Aktor f\u00fcr das gemachte Treppenhaus zusammengefasst Das Treppenhaus verbindet zwei Stockwerke, auf jedem soll ein bedienelement f\u00fcr die Beleuchtung angebracht werden Die Anwendungsfunktion Treppenlichtschaltung soll hier\u00fcber gesteuert werden k\u00f6nnen zus\u00e4tzlich soll die Beleuchtung auch direkt aus der Geb\u00e4udeleittechnik gesteuert werden k\u00f6nnen","title":"\u270d\ufe0f Aufgabe 1_2_1: Raumautomationsschema f\u00fcr ein Treppenhaus"},{"location":"1_2_Planungsabl%C3%A4ufe/#losung","text":"","title":"L\u00f6sung"},{"location":"1_2_Planungsabl%C3%A4ufe/#ausfuhrung","text":"Entscheidung f\u00fcr Hardware und Software, um die Funktionen umzusetzen Erstellung von Detailpl\u00e4nen und Dokumentationen Installation der Hardware und Verkabelung Implementierung von Software Funktionstests","title":"Ausf\u00fchrung"},{"location":"1_2_Planungsabl%C3%A4ufe/#beispiel-parametrisierung-eines-dali-systems","text":"","title":"Beispiel: Parametrisierung eines DALI-Systems"},{"location":"1_2_Planungsabl%C3%A4ufe/#beispiel-programmierung-eine-sps","text":"","title":"Beispiel: Programmierung eine SPS"},{"location":"1_2_Planungsabl%C3%A4ufe/#bussysteme","text":"i.d.R. gibt es eine Vielzahl von m\u00f6glichen Bussystemen, die f\u00fcr die Umsetzung der Funktionen in Frage kommen h\u00e4ufig werden mehrere Bussysteme kombiniert und m\u00fcssen orchestriert werden neben den Kosten m\u00fcssen auch Anforderungen an Erweiterbarkeit und Wartbarkeit ber\u00fccksichtigt werden Erweiterbarkeit: Wie einfach ist es, neue Komponenten hinzuzuf\u00fcgen? Wie offen ist das System f\u00fcr Ver\u00e4nderungen? Wartbarkeit: Sind Dienstleister oder Personal verf\u00fcgbar, die das System warten k\u00f6nnen? Ist davon auszugehen, dass das System in 10 Jahren noch verf\u00fcgbar ist?","title":"Bussysteme"},{"location":"1_2_Planungsabl%C3%A4ufe/#betriebsphase","text":"Softwareupdates: Wie k\u00f6nnen Softwareupdates eingespielt werden? Over-the-Air vs manuell? Wie werden die Updates getestet? Funktionstests: Wie kann die Funktionalit\u00e4t \u00fcberpr\u00fcft werden? Wie k\u00f6nnen Fehler identifiziert werden?","title":"Betriebsphase"},{"location":"1_2_Planungsabl%C3%A4ufe/#automatisierungspyramide","text":"","title":"Automatisierungspyramide"},{"location":"1_2_Planungsabl%C3%A4ufe/#cloud","text":"Zunehmende Bedeutung von Cloud-Systemen Insbesondere die h\u00f6heren Ebenen der Automatisierungspyramide werden zunehmend in die Cloud verlagert","title":"Cloud"},{"location":"1_2_Planungsabl%C3%A4ufe/#appendix-ausgewahlte-anwendungsfunktionen","text":"","title":"Appendix: Ausgew\u00e4hlte Anwendungsfunktionen"},{"location":"1_2_Planungsabl%C3%A4ufe/#funktionen-fur-die-raumklimaregelung-ii","text":"Startoptimierung Wird dem Raumtemperaturregler \u00fcber ein Zeitprogramm zus\u00e4tzlich zum gegenw\u00e4rtigen Energieniveau auch das n\u00e4chste und der zugeh\u00f6rige Zeitpunkt mitgeteilt, ist der Regler in der Lage, den optimalen Aufheizzeitpunkt des Raums anhand zus\u00e4tzlicher Informationen, wie der Raum- und der Au\u00dfentemperatur, so zu bestimmen, dass die gew\u00fcnschte Raumtemperatur genau zu dem gew\u00e4hlten Zeitpunkt zur Verf\u00fcgung steht (Erweiterung der Energieniveauwahl). Fenster\u00fcberwachung Bei ge\u00f6ffneten Fenstern sorgt die Fenster\u00fcberwachung f\u00fcr eine automatische Umschaltung auf das Energieniveau Geb\u00e4udeschutz um Energieverschwendung zu vermeiden. Der Zustand der Fenster wird \u00fcber entsprechende Kontakte eingelesen.","title":"Funktionen f\u00fcr die Raumklimaregelung II"},{"location":"1_2_Planungsabl%C3%A4ufe/#funktionen-fur-die-raumklimaregelung-iii","text":"Sollwertermittlung Abh\u00e4ngig vom Energieniveau muss ein Raumtemperaturregler in der Lage sein, die korrekte Sollwertvorgabe zu ermitteln. Zus\u00e4tzlich kann der Sollwert bei hohen Au\u00dfentemperaturen gleitend angehoben werden ( Sommerkompensation ), um zu gro\u00dfe Unterschiede zur Raumtemperatur zu vermeiden. Temperaturregelung Die eigentliche Regelung der Raumtemperatur durch Ermittlung der korrekten Stellantriebsstellung f\u00fcr Heizen oder K\u00fchlen erfolgt durch die Funktion Temperaturregelung. In den meisten F\u00e4llen kommen PI-Regler zum Einsatz, die in der Lage sind, statische Regelabweichungen zu eliminieren.","title":"Funktionen f\u00fcr die Raumklimaregelung III"},{"location":"1_2_Planungsabl%C3%A4ufe/#funktionen-fur-die-raumklimaregelung-iv","text":"Ventilatorsteuerung Luftgest\u00fctzte Anlagen, z. B. Gebl\u00e4sekonvektoren, verf\u00fcgen \u00fcber Ventilatoren zum Lufttransport. Die Luftmenge kann dabei meist mehrstufig an die erforderliche Heiz- oder K\u00fchlleistung angepasst werden. Die Wahl der geeigneten Ventilatorstufe erfolgt anhand der Differenz der Ist- zur Soll-Raumlufttemperatur oder analog zu den Stellantrieben der Heiz- oder K\u00fchlregister. Luftqualit\u00e4tsregelung Wird die Versorgung der R\u00e4ume mit Frischluft \u00fcber mechanische Systeme, wie Zentral- oder Fassadenl\u00fcftungsanlagen gew\u00e4hrleistet, wird die Zuluftmenge zur Einsparung elektrischer Energie f\u00fcr die Ventilatoren an die Raumluftqualit\u00e4t angepasst .","title":"Funktionen f\u00fcr die Raumklimaregelung IV"},{"location":"1_2_Planungsabl%C3%A4ufe/#funktionen-fur-die-raumklimaregelung-iv_1","text":"Nachtk\u00fchlung K\u00fchle Nachtluft l\u00e4sst sich zum Herunterk\u00fchlen der Raumluft nutzen, falls Fenster oder Fassadenklappen motorisch ge\u00f6ffnet werden k\u00f6nnen oder Gebl\u00e4sekonvektoren mit Zuluftklappen vorhanden sind. Diese Funktion sollte mit Hilfe der gemessenen lokalen Raumtemperatur und der Au\u00dfentemperatur raumindividuell ausgef\u00fchrt werden, um eine optimale Absenkung zu erreichen. Thermoautomatik Durch die Fenster eintretendes Sonnenlicht sorgt f\u00fcr einen W\u00e4rmeeintrag in den Raum, der je nach Raumtemperatur willkommen oder unwillkommen ist. Die Thermoautomatik \u00fcbernimmt in unbelegten R\u00e4umen nun die Kontrolle \u00fcber den Sonnenschutz zur Unterst\u00fctzung von Heiz- oder K\u00fchlvorg\u00e4ngen. So kann im Sommer eine \u00dcberhitzung vermieden und im Winter die Heizung durch solare Gewinne entlastet werden.","title":"Funktionen f\u00fcr die Raumklimaregelung IV"},{"location":"1_2_Planungsabl%C3%A4ufe/#funktionen-fur-beleuchtung-blendschutz-und-tageslichtnutzung","text":"Konstantlichtregelung Ein Sensor zur Erfassung der Raumhelligkeit, z. B. innerhalb eines Multisensors, sorgt f\u00fcr die exakte Anpassung des Beleuchtungsniveaus an die Arbeitsaufgabe. Hierf\u00fcr erforderlich sind dimmf\u00e4hige Aktoren (analoger Ausgang). Tageslichtschaltung Der \"kleine Bruder\" der Konstantlichtregelung ist \u00fcberall dort einsetzbar, wo die Beleuchtung nur schaltbar ausgef\u00fchrt werden kann. Zur Erfassung der Helligkeit ist ebenfalls ein Sensor im Raum erforderlich. Unterschreitet das Tageslicht die erforderliche Raumhelligkeit, wird Kunstlicht automatisch in ein oder mehreren Stufen zugeschaltet und bei Zunahme des Tageslichtanteils wieder abgeschaltet (digitaler Ausgang).","title":"Funktionen f\u00fcr Beleuchtung, Blendschutz und Tageslichtnutzung"},{"location":"1_2_Planungsabl%C3%A4ufe/#funktionen-fur-beleuchtung-etc-ii","text":"Automatiklicht In R\u00e4umen ohne ausreichende Tageslichtversorgung, z. B. in Fluren oder Sanit\u00e4rr\u00e4umen, l\u00e4sst sich Energie sparen, indem die Beleuchtung nur tempor\u00e4r eingeschaltet wird. Die Pr\u00e4senzerkennung liefert die hierf\u00fcr erforderlichen Sensordaten. Eine einstellbare Abschaltverz\u00f6gerung sorgt f\u00fcr Beleuchtungskomfort. Sonnenautomatik Au\u00dfenliegende Jalousien und bedingt auch Markisen sorgen vor allem f\u00fcr einen W\u00e4rmeschutz des Geb\u00e4udes. Innenliegende Jalousien, Vertikallamellen u. \u00e4. sorgen vor allem f\u00fcr Blendfreiheit an Arbeitspl\u00e4tzen. Die Sonnenautomatik sorgt nutzt Wetterdaten, damit der au\u00dfenliegende Sonnenschutz eine einstellbare Position immer dann einnimmt, wenn eine bestimmte Strahlungsintensit\u00e4t \u00fcberschritten wird. Der innen liegende Blendschutz ist i. d. R. nicht automatisiert, da das Blendungsempfinden individuell zu bewerten ist.","title":"Funktionen f\u00fcr Beleuchtung etc. II"},{"location":"1_2_Planungsabl%C3%A4ufe/#funktionen-fur-beleuchtung-etc-iii","text":"Lamellennachf\u00fchrung Die Lamellennachf\u00fchrung ist eine Weiterentwicklung der Sonnenautomatik . Bei hoher Strahlungsintensit\u00e4t f\u00e4hrt der Sonnenschutz dazu in eine Stellung, die zyklisch dem Sonnenstand angepasst wird. So wird unter Aufrechterhaltung des Blendschutzes die Tageslichtversorgung maximiert. Verschattungskorrektur Umliegende Geb\u00e4ude oder eigene Geb\u00e4udeteile sorgen auf den Fassaden f\u00fcr Schattenwurf, der die Blendschutzfunktion f\u00fcr die im Schatten liegenden Jalousien zeitweise unn\u00f6tig macht. Die Jalousien sollten f\u00fcr eine bessere Tageslichtversorgung in dieser Zeit ge\u00f6ffnet sein. Die Verschattungskorrektur korrigiert dies in Verbindung mit der Sonnenautomatik oder der Lamellennachf\u00fchrung arbeitet. Die Funktion wird gelegentlich auch Jahresverschattungsdiagramm genannt.","title":"Funktionen f\u00fcr Beleuchtung etc. III"},{"location":"1_2_Planungsabl%C3%A4ufe/#funktionen-fur-beleuchtung-etc-iv","text":"D\u00e4mmerungsschaltung Au\u00dfenbeleuchtung ist nur dann erforderlich, wenn es dunkel wird. Da der Zeitpunkt jahreszeitlich variiert, sorgt die D\u00e4mmerungsschaltung selbstst\u00e4ndig f\u00fcr den optimalen Einschaltmoment. Witterungsschutz Witterungsschutzfunktionen vermeiden Sch\u00e4den an der Sonnenschutzanlage. Sensoren f\u00fcr Temperatur, Niederschlag, Windgeschwindigkeit und -richtung stellen die erforderlichen Wetterdaten zur Verf\u00fcgung, damit der Sonnenschutz rechtzeitig vor Besch\u00e4digungen eingezogen wird (ggf. auch f\u00fcr Fenster).","title":"Funktionen f\u00fcr Beleuchtung etc. IV"},{"location":"2_1_Messkette/","text":"2.1 Messkette EVA-Prinzip Geb\u00e4udeautomation wird durch eine Steuerungseinheit \u00fcberwacht und gesteuert Hierzu werden Eingangs-Signale gemessen und Ausgangssignale erzeugt In der Steuerungseinheit werden Funktionen implementiert, die die Messsignale in Ausgangssignale umwandeln Steuerungseinheiten sind heute meist frei programmierbar (z.B. Speicherprogrammierbare Steuerung) oder wurden f\u00fcr bestimmte Funktionen vorprogrammiert (z.B. Mikrocontroller in LED-Vorschaltger\u00e4ten) Digitale Eing\u00e4nge Digitale Eing\u00e4nge k\u00f6nnen nur zwei Zust\u00e4nde annehmen (0: False oder 1: True ) Die Zust\u00e4nde werden durch Spannungen repr\u00e4sentiert i.d.R. gibt es Spannungsbereiche, die als 0 oder 1 interpretiert werden \u270d\ufe0f Aufgabe 2_1_1: Raspberry Pi Pico als Mikrocontroller Beim Raspberry Pi Pico handelt es sich um einen Mikrocontroller, der mittels Python programmiert werden kann Im folgenden wird folgende Hardware ben\u00f6tigt: Raspberry Pi Pico Breadboard Taster Widerstand ca. \\(470 \\Omega\\) und \\(10 \\,\\text{k}\\Omega\\) Jumperkabel Ziel ist es, dass der Mikrocontroller den Taster ausliest und den Zustand auf der Konsole ausgibt CircuitPython installieren Halte den BOOTSEL Taster auf dem Pico gedr\u00fcckt und verbinde diesen \u00fcber USB mit dem Rechner Passende Firmware UF2-File herunterladen und in den als USB-Laufwerk erkannten Pico kopieren Pico sollte jetzt neue Starten und die Firmware installieren Nach dem erneuten Verbinden sollten nun einige Programme im Pico liegen Programmieren des Pico mittels CircuitPython \u00d6ffenen Sie im Chrome Browser die Seite des Online Editors Verbinden Sie Sich mittels USB W\u00e4hlen Sie die Schnittstelle CircuitPython CDC Control aus \u00d6ffnen Sie das Verzeichnis (USB-Laufwerk) CIRCUITPY und w\u00e4hlen Sie USE / \u00d6ffnen Sie die Datei code.py und f\u00fcgen Sie den folgenden Inhalt ein \u00d6ffnen Sie die Serielle Schnittstellen, um die Ausgabe zu sehen Serial , \u00fcbertragen Sie den Code und starten Sie den Pico neu Save + Run Hauptprogramm code.py Dieses Programm wird automatisch ausgef\u00fchrt und ist der Einsteigspunkt f\u00fcr alle Programme (vgl. MAIN bei TwinCat) Passen Sie das Hauptprogramm so an, dass die LED l\u00e4nger hell als dunkel ist Passen Sie die Ausgabe an indem Sie \"Sleep!\" ersetzen # Externe Bibliotheken laden import time # Bibliothek Zeit-Funktionen import digitalio # Bibliothek zur Steuerung von GPIOs import board # Bibliothek welches die Adressen der Pins kennt: z.B. board.LED # Ein- und Ausg\u00e4nge definieren led = digitalio . DigitalInOut ( board . LED ) # Die Variable LED wird mit dem GPIO der LED auf dem Board verbunden led . direction = digitalio . Direction . OUTPUT # Legt Richtung des PIN fest -> Output # Endlosschleife while True : led . value = True time . sleep ( 0.5 ) led . value = False time . sleep ( 0.5 ) print ( \"Sleep!\" ) Pin-\u00dcbersicht VCC Voltage Common Connector: Spannungs- Versorgung \\(5\\) oder \\(3.3 \\,\\text{V}\\) Alles unter \\(0,8\\,\\text{V}\\) ist low alles \u00fcber \\(1,3\\,\\text{V}\\) ist high Ground: \\(0 \\,\\text{V}\\) Einige GPIOs k\u00f6nnen als Busleitungen genutzt werden: UART, SPI, I2C https://www.elektronik-kompendium.de/sites/raspberry-pi/2002191.htm Breadboards - Steckplatine f\u00fcr Systemtest und Prototyping - vier Reihen f\u00fcr Spannungsversorgung - weitere Raster sind l\u00e4ngs verbunden https://www.elektronik-kompendium.de/sites/praxis/bauteil_steckbrett.htm General Purpose Input/Output GPIO arbeiten von \\(2...16 \\,\\text{mA}\\) GPIOs k\u00f6nnen bin\u00e4r gelesen und geschaltet werden L\u00f6sung L\u00f6sung anzeigen # Externe Bibliotheken laden import time # Bibliothek Zeit-Funktionen import digitalio # Bibliothek zur Steuerung von GPIOs import board # Bibliothek welches die Adressen der Pins kennt: z.B. board.LED # Ein- und Ausg\u00e4nge definieren led = digitalio . DigitalInOut ( board . LED ) # Die Variable LED wird mit dem GPIO der LED auf dem Board verbunden led . direction = digitalio . Direction . OUTPUT # Legt Richtung des PIN fest -> Output # Endlosschleife while True : led . value = True time . sleep ( 1.0 ) led . value = False time . sleep ( 0.2 ) print ( \"Sleep!\" ) \u270d\ufe0f Aufgabe 2_1_2: Anschluss eines Tasters an einen Raspberry Pi Pico Schlie\u00dfen Sie den Taster wie folgt an \\(R_{pullup} = 10 \\,\\text{k}\\Omega\\) Verbinden Sie den Taster mit dem 3.3V Pin und dem GPIO 0 F\u00fcgen Sie die folgenden Code- Teile an den richtigen Stellen ein und starten Sie das Programm import time import board import digitalio button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down while True : if not button . value : # Button is pressed (LOW) print ( \"Button Pressed!\" ) else : print ( \"Button Released!\" ) time . sleep ( 0.1 ) # Add a small delay to debounce the button GPIO-Eingang mit Taster/Schalter und Pullup-Widerstand Unbeschaltet oszillieren die GPIOs h\u00e4ufig unsauber zwischen den Zust\u00e4nden Grundzustand des Eingangs bei offenem Schalter: high Durch schlie\u00dfen: low \\(4{,}7~\\text{k}\\Omega\\) als Standardwert (RaspBerry Pis haben eingebaute Widerst\u00e4nde, die aktiviert werden k\u00f6nnen) https://www.elektronik-kompendium.de/sites/raspberry-pi/2110081.htm, https://www.elektronik-kompendium.de/sites/raspberry-pi/2006051.htm GPIO-Eingang mit Taster/Schalter und Pulldown-Widerstand Grundzustand des Eingangs: low Durch schlie\u00dfen: high der Regel \\(10~\\text{k}\\Omega\\) Zusammenfassung Schalter und Taster In der Praxis tendiert man dazu, GPIO-Eing\u00e4nge mit einem Pullup-Widerstand mit +VCC zu verbinden und gegen Ground (GND) zu schalten Erfordert Negation in der Software Werte von \\(10\\) bis \\(100~\\text{k}\\Omega\\) GPIO-Eingang mit Taster/Schalter und Querwiderstand Mehr zu Pull-Up vs Pull-Down Digitale Ausg\u00e4nge Ausg\u00e4nge k\u00f6nnen mit einer Spannung beschaltet werden Bei einem Raspberry Pi Pico sind die Ausg\u00e4nge auf \\(3.3 \\,\\text{V}\\) begrenzt Die Ausg\u00e4nge k\u00f6nnen bis zu \\(16 \\,\\text{mA}\\) liefern L\u00f6sung L\u00f6sung anzeigen import time import board import digitalio button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down while True : if not button . value : # Button is pressed (LOW) print ( \"Button Pressed!\" ) else : print ( \"Button Released!\" ) time . sleep ( 0.1 ) # Add a small delay to debounce the button \u270d\ufe0f Aufgabe 2_1_3: Anschluss einer LED an einen Raspberry Pi Pico Nun wollen wir eine LED anschlie\u00dfen in der Folge \u00fcber den Taster schalten Sie LED soll nach einem Druck auf den Taster f\u00fcr \\(1\\,\\text{s}\\) leuchten passen Sie den Code entsprechend an und nutzen Sie dazu die folgenden Code-Teile import time import board import digitalio led_pin = board . GP1 # Replace with the GPIO pin connected to your LED led = digitalio . DigitalInOut ( led_pin ) led . direction = digitalio . Direction . OUTPUT while True : led . value = not led . value # Toggle the LED state time . sleep ( 0.2 ) # Add a small delay for debouncing time . sleep ( 0.1 ) https://www.elektronik-kompendium.de/sites/raspberry-pi/2612031.htm Leuchtdioden Langes Bein: Anode https://nawi-werft.de/bausteine/led-ansteuern/ Ausgang verschalten links: LED an Masse GPIO auf high > LED an rechts: LED an VCC GPIO auf low > LED an https://www.elektronik-kompendium.de/sites/raspberry-pi/2102181.htm Ausgang verschalten W\u00e4hlen Sie einen geeigneten GPIO Schlie\u00dfen Sie die LED in Reihe an den GPIO und einen Widerstand an und verbinden Sie die andere Seite des Widerstands mit Ground ( \\(0V\\) ) Relais und Sch\u00fctze F\u00fcr viele Anwendungen ist die Leistung der GPIOs nicht ausreichend ( \\(P=UI=3.3\\text{ V} \\cdot 4\\text{ mA} = 13.2 \\text{ mW}\\) ) Eine h\u00f6here Spannung an den Ausg\u00e4ngen ist nicht m\u00f6glich (Sicherheit, Energieeffizienz, Bauform) Relais sind elektromagnetische Schalter, die eine hohe Leistung schalten k\u00f6nnen indem sie einen Schaltkontakt \u00f6ffnen oder schlie\u00dfen heute meist nicht mehr mechanisch sondern elektronisch realisiert Pulsweitenmodulation Digitale Ausg\u00e4nge k\u00f6nnen nur zwei Zust\u00e4nde annehmen (0 / False oder 1 : True ) Einige Verbraucher (z.B. Motoren, LEDs) kann man \u00fcber PWM quasi-analog steuern Hierzu muss man Periodendauer \\(T\\) und Duty Cycle \\(t\\) geeignet setzen https://www.elektronik-kompendium.de/sites/kom/0401111.htm L\u00f6sung L\u00f6sung anzeigen import time import board import digitalio led_pin = board . GP1 # Replace with the GPIO pin connected to your LED led = digitalio . DigitalInOut ( led_pin ) led . direction = digitalio . Direction . OUTPUT while True : led . value = not led . value # Toggle the LED state time . sleep ( 0.2 ) # Add a small delay for debouncing time . sleep ( 0.1 ) \ud83e\udd13 \u270d\ufe0f Aufgabe 2_1_4: Anschluss einer LED mit PWM an einen Raspberry Pi Pico Sorgen Sie nun daf\u00fcr, dass die LED mit PWM angesteuert wird, so dass diese nach Bet\u00e4tigung des Tasters f\u00fcr \\(1\\,\\text{s}\\) leuchtet und dann langsam \u00fcber \\(5\\,\\text{s}\\) ausgeht import pwmio import board pwm = pwmio . PWMOut ( board . GP1 ) # output on LED pin with default of 500Hz while True : for cycle in range ( 0 , 65535 ): # Cycles through the full PWM range from 0 to 65535 pwm . duty_cycle = cycle # Cycles the LED pin duty cycle through the range of values for cycle in range ( 65534 , 0 , - 1 ): # Cycles through the PWM range backwards from 65534 to 0 pwm . duty_cycle = cycle # Cycles the LED pin duty cycle through the range of values Analoge Eing\u00e4nge Sensoren liefern meist analoge Signale (z.B. Spannung, Strom, Widerstand) z.B. basieren viele Temperatur-Sensoren auf dem Widerstand von Metallen Damit \u00e4nder sich bei gleichbleibender Spannung der Strom, welcher am Eingang gemessen werden kann Analog-Digital-Wandler Der Analog-Digital-Wandler (ADC) wandelt ein analoges Signal in eine digitale Zahl um Dabei gibt es zwei relevante Parameter Aufl\u00f6sung: Anzahl der m\u00f6glichen Werte Referenzspannung: Spannungsbereich, der in die Aufl\u00f6sung abgebildet wird z.B. 16 Bit Aufl\u00f6sung und \\(3.3 \\,\\text{V}\\) Referenzspannung \\(\\Rightarrow\\) \\(2^{16} = 65536\\) Werte zwischen \\(0\\) und \\(3.3 \\,\\text{V}\\) Zudem k\u00f6nnen sich Systeme in ihrer Abtastrate unterscheiden, d.h. wie oft Werte gelesen werden k\u00f6nnen \u270d\ufe0f Aufgabe 2_1_4: Anschluss eines Analogen Helligkeitssensors Schlie\u00dfen Sie einen analogen Helligkeitssensor an den Raspberry Pi Pico an Links (-): GND / Masse / 0 Volt Mitte: +VCC z.B. 3,3 oder 5 Volt Rechts (S): Verbindungspunkt des Spannungsteilers Fixwiderstand \\(10 \\,\\text{k}\\Omega\\) zwischen +VCC und S Verdunkeln Sie und beleuchten Sie den Sensor und beobachten Sie die \u00c4nderung des Eingangswertes Zum Testen k\u00f6nnen Sie den Analog-Eingang mit \\(3.3 \\text{ Volt}\\) und \\(0 \\text{ Volt}\\) verbinden Lesen Sie den Wert des Sensors aus und geben Sie diesen auf der Konsole aus import board import analogio import time # Initialisierung des ADC (Analog-Digital Converter) ldr = analogio . AnalogIn ( board . A2 ) # Wiederholung while True : # ADC als Dezimalzahl lesen read = ldr . value # Ausgabe in der Kommandozeile/Shell print ( \"ADC:\" , read ) # Warten time . sleep ( 1 ) https://www.elektronik-kompendium.de/sites/raspberry-pi/2612221.htm Mapping von Eingangswert zu physikalischer Gr\u00f6\u00dfe Um sinnvoller mit den Werten arbeiten zu k\u00f6nnen, ist es sinnvoller die gelesen Werte read in eine Variable mit einer sinnvollen physikalischen Einheit zu \u00fcberf\u00fchren Im Fall dieses Sensors und Aufbaus lassen sich die Werte gut mit einer Parabel anpassen \\(E= f(x) = (a(x-s))^2\\) $a =0.0015 $ ist die Steigung der Parabel \\(s = 44000\\) ist der Verschiebung der Parabel auf der x-Achse \\(x\\) ist der Eingangswert \u00dcbliche Beleuchtungsst\u00e4rken \\(E\\) Umfeld \\(E \\text{ in lux}\\) Mondlose, klare Nacht 0,0003 Nachts bei Vollmond 0,2 Beleuchtete Strassen, Pl\u00e4tze 10..20 Abstellr\u00e4ume, Lagerr\u00e4ume 50 Lagerr\u00e4ume, Toiletten, Treppen 100 Speiser\u00e4ume, Werkhallen, 200 L\u00e4den, Sitzungszimmer 300 Arbeitspl\u00e4tze, Schulzimmer 500 erh\u00f6hte Anspr\u00fcche 750 Elektronikmontage, Uhrenmacher 1.000 Bedeckter Himmel im Winter 1.000.. 2.000 Bedeckter Himmel im Sommer 5.000..20.000 Sonnenlicht im Winter 10.000 Sonnenlicht im Sommer 100.000 Nachverarbeitung nach ADC Viele (teurere) Peripherie-Ger\u00e4te kommen als Transmitter (Kombination aus dem Sensor selbst und einem Messumformer) Diese linearisieren sie spannungs-(oder Strom) Ausgabe Eine Umrechnung der Spannungswerte an Eingang in die Physikalische Gr\u00f6\u00dfen muss jedoch weiterhin stattfinden Informationen hierzu finden sich meinst im Datenblatt https://shop.bb-sensors.com/Messtechnik-je-Branche/Gebaeudetechnik/Helligkeitssensor-mit-Messumformer-0-10-V.html L\u00f6sung L\u00f6sung anzeigen import pwmio import board import time import digitalio pwm = pwmio . PWMOut ( board . GP1 ) # output on LED pin with default of 500Hz button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down while True : if not button . value : # Button is pressed (LOW) print ( \"Button Pressed!\" ) pwm . duty_cycle = 65535 time . sleep ( 1 ) for cycle in range ( 65534 , 0 , - 1 ): # Cycles through the PWM range backwards from 65534 to 0 pwm . duty_cycle = cycle # Cycles the LED pin duty cycle through the range of values time . sleep ( 0.0005 ) \u270d\ufe0f Aufgabe 2_1_5: Mapping eines Analogen Helligkeitssensors Oben ist die quadratische Funktion gegeben, die die gemessenen Werte in Beleuchtungsst\u00e4rke in Lux umrechnet Implementieren Sie diese Funktion in Python und geben Sie dann eine Nachricht mit der Beleuchtungsst\u00e4rke in Lux aus Orientieren Sie sich dabei an folgendem Code, der ein Beispiel f\u00fcr ein lineares Mapping zeigt Symbol Description \\(E_{max}\\) maximale Beleuchtungsst\u00e4rke \\(E_{min}\\) minimale Beleuchtungsst\u00e4rke \\(z_{max}\\) maximaler Messwert des ADC \\(z_{min}\\) minimaler Messwert des ADC Annahme: Linearer Zusammenhang \\(E = f(z) = \\beta_0 + \\beta_1 z\\) 1: Wie gro\u00df ist der Y-Achsenabschnitt \\(\\beta_0\\) ? Bei welchen Wert hat \\(E\\) , wenn \\(z=0\\) ? 2: Wie gro\u00df ist die Steigung \\(\\beta_1\\) ? Wie gro\u00df ist die \u00c4nderung von \\(E\\) pro \u00c4nderung von \\(z\\) ? \\(\\beta_1 = \\frac{E_{max} - E_{min}}{z_{max} - z_{min}}\\) Der folgende Code \u00fcbernimmt dein Eingangswert und gibt einen normalisierten Wert zwischen 1 und 0 zur\u00fcck Erstellen Sie in einer Datei mappings.py (im gleichen Ordner, wie die code.py ) eine Funktion map_quat() , die stattdessen die oben angegeben Formel implementiert def map_lin ( z ): E_max = 1 E_min = 0 z_max = 65535 z_min = 0 beta_0 = E_min beta_1 = ( E_max - E_min ) / ( z_max - z_min ) return beta_0 + beta_1 * z \ud83e\udd13 Im besten Fall wird map_ln in einer eigenen Datei mappings.py gespeichert und kann dann mittels import mappings in anderen Programmen genutzt werden import board import analogio import time from mappings import map_lin # Initialisierung des ADC (Analog-Digital Converter) ldr = analogio . AnalogIn ( board . A2 ) # Wiederholung while True : # ADC als Dezimalzahl lesen read = ldr . value # Ausgabe in der Kommandozeile/Shell print ( \"ADC:\" , read ) print ( \"E in Lux\" , map_lin ( read )) # Warten time . sleep ( 1 ) \ud83e\udd13 Verwendung von Globalen Variablen einige Variablen sind so grundlegend, dass wir Sie nicht im Code sondern zentral ver\u00e4ndern wollen Hierzu k\u00f6nnen wird Umgebungsvariablen in der settings.toml ver\u00e4ndern im Verzeichnis CIRCUITPY \u00e4ndern MY_NAME = \"Julian\" - Im Code k\u00f6nnen diese mittels os aufgerufen werden # connect to your SSID import os print ( os . getenv ( 'MY_NAME' )) Passen Sie den Code so an, dass die zur Umwandlung ben\u00f6tigten Werte als Umgebungsvariablen gesetzt werden k\u00f6nnen L\u00f6sung L\u00f6sung anzeigen import board import analogio import time from mappings import map_quat # Initialisierung des ADC (Analog-Digital Converter) ldr = analogio . AnalogIn ( board . A2 ) # Wiederholung while True : # ADC als Dezimalzahl lesen read = ldr . value # Ausgabe in der Kommandozeile/Shell print ( \"ADC:\" , read ) print ( \"E in Lux\" , map_quat ( read )) # Warten time . sleep ( 1 ) L\u00f6sung anzeigen def map_lin ( z ): E_max = 1 E_min = 0 z_max = 65535 z_min = 0 beta_0 = E_min beta_1 = ( E_max - E_min ) / ( z_max - z_min ) return beta_0 + beta_1 * z def map_quat ( x ): s = 44000 a = 0.0015 return (( x - s ) * a ) ** 2 \ud83e\udd13 \u270d\ufe0f Aufgabe 2_1_6: Nicht bei jedem Sensor wird die gefittete Kurve perfekt passen passen Sie den Code so an, dass die Parameter der Kurve in der settings.toml hinterlegt werden k\u00f6nnen, um diese m\u00f6glichst einfach anzupassen Analoge Ausg\u00e4nge Entsprechend gibt es auch analoge Ausg\u00e4nge Diese k\u00f6nnen z.B. zur Ansteuerung von Motoren genutzt werden Dabei wird einer meist der Wert einer Integer-Variable im Speicher in einen Spannungswert umgewandelt","title":"Messkette"},{"location":"2_1_Messkette/#21-messkette","text":"","title":"2.1 Messkette"},{"location":"2_1_Messkette/#eva-prinzip","text":"Geb\u00e4udeautomation wird durch eine Steuerungseinheit \u00fcberwacht und gesteuert Hierzu werden Eingangs-Signale gemessen und Ausgangssignale erzeugt In der Steuerungseinheit werden Funktionen implementiert, die die Messsignale in Ausgangssignale umwandeln Steuerungseinheiten sind heute meist frei programmierbar (z.B. Speicherprogrammierbare Steuerung) oder wurden f\u00fcr bestimmte Funktionen vorprogrammiert (z.B. Mikrocontroller in LED-Vorschaltger\u00e4ten)","title":"EVA-Prinzip"},{"location":"2_1_Messkette/#digitale-eingange","text":"Digitale Eing\u00e4nge k\u00f6nnen nur zwei Zust\u00e4nde annehmen (0: False oder 1: True ) Die Zust\u00e4nde werden durch Spannungen repr\u00e4sentiert i.d.R. gibt es Spannungsbereiche, die als 0 oder 1 interpretiert werden","title":"Digitale Eing\u00e4nge"},{"location":"2_1_Messkette/#aufgabe-2_1_1-raspberry-pi-pico-als-mikrocontroller","text":"Beim Raspberry Pi Pico handelt es sich um einen Mikrocontroller, der mittels Python programmiert werden kann Im folgenden wird folgende Hardware ben\u00f6tigt: Raspberry Pi Pico Breadboard Taster Widerstand ca. \\(470 \\Omega\\) und \\(10 \\,\\text{k}\\Omega\\) Jumperkabel Ziel ist es, dass der Mikrocontroller den Taster ausliest und den Zustand auf der Konsole ausgibt","title":"\u270d\ufe0f Aufgabe 2_1_1: Raspberry Pi Pico als Mikrocontroller"},{"location":"2_1_Messkette/#circuitpython-installieren","text":"Halte den BOOTSEL Taster auf dem Pico gedr\u00fcckt und verbinde diesen \u00fcber USB mit dem Rechner Passende Firmware UF2-File herunterladen und in den als USB-Laufwerk erkannten Pico kopieren Pico sollte jetzt neue Starten und die Firmware installieren Nach dem erneuten Verbinden sollten nun einige Programme im Pico liegen","title":"CircuitPython installieren"},{"location":"2_1_Messkette/#programmieren-des-pico-mittels-circuitpython","text":"\u00d6ffenen Sie im Chrome Browser die Seite des Online Editors Verbinden Sie Sich mittels USB W\u00e4hlen Sie die Schnittstelle CircuitPython CDC Control aus \u00d6ffnen Sie das Verzeichnis (USB-Laufwerk) CIRCUITPY und w\u00e4hlen Sie USE / \u00d6ffnen Sie die Datei code.py und f\u00fcgen Sie den folgenden Inhalt ein \u00d6ffnen Sie die Serielle Schnittstellen, um die Ausgabe zu sehen Serial , \u00fcbertragen Sie den Code und starten Sie den Pico neu Save + Run","title":"Programmieren des Pico mittels CircuitPython"},{"location":"2_1_Messkette/#hauptprogramm-codepy","text":"Dieses Programm wird automatisch ausgef\u00fchrt und ist der Einsteigspunkt f\u00fcr alle Programme (vgl. MAIN bei TwinCat) Passen Sie das Hauptprogramm so an, dass die LED l\u00e4nger hell als dunkel ist Passen Sie die Ausgabe an indem Sie \"Sleep!\" ersetzen # Externe Bibliotheken laden import time # Bibliothek Zeit-Funktionen import digitalio # Bibliothek zur Steuerung von GPIOs import board # Bibliothek welches die Adressen der Pins kennt: z.B. board.LED # Ein- und Ausg\u00e4nge definieren led = digitalio . DigitalInOut ( board . LED ) # Die Variable LED wird mit dem GPIO der LED auf dem Board verbunden led . direction = digitalio . Direction . OUTPUT # Legt Richtung des PIN fest -> Output # Endlosschleife while True : led . value = True time . sleep ( 0.5 ) led . value = False time . sleep ( 0.5 ) print ( \"Sleep!\" )","title":"Hauptprogramm code.py"},{"location":"2_1_Messkette/#pin-ubersicht","text":"VCC Voltage Common Connector: Spannungs- Versorgung \\(5\\) oder \\(3.3 \\,\\text{V}\\) Alles unter \\(0,8\\,\\text{V}\\) ist low alles \u00fcber \\(1,3\\,\\text{V}\\) ist high Ground: \\(0 \\,\\text{V}\\) Einige GPIOs k\u00f6nnen als Busleitungen genutzt werden: UART, SPI, I2C","title":"Pin-\u00dcbersicht"},{"location":"2_1_Messkette/#httpswwwelektronik-kompendiumdesitesraspberry-pi2002191htm","text":"","title":"https://www.elektronik-kompendium.de/sites/raspberry-pi/2002191.htm"},{"location":"2_1_Messkette/#breadboards","text":"- Steckplatine f\u00fcr Systemtest und Prototyping - vier Reihen f\u00fcr Spannungsversorgung - weitere Raster sind l\u00e4ngs verbunden","title":"Breadboards"},{"location":"2_1_Messkette/#httpswwwelektronik-kompendiumdesitespraxisbauteil_steckbretthtm","text":"","title":"https://www.elektronik-kompendium.de/sites/praxis/bauteil_steckbrett.htm"},{"location":"2_1_Messkette/#general-purpose-inputoutput","text":"GPIO arbeiten von \\(2...16 \\,\\text{mA}\\) GPIOs k\u00f6nnen bin\u00e4r gelesen und geschaltet werden","title":"General Purpose Input/Output"},{"location":"2_1_Messkette/#losung","text":"L\u00f6sung anzeigen # Externe Bibliotheken laden import time # Bibliothek Zeit-Funktionen import digitalio # Bibliothek zur Steuerung von GPIOs import board # Bibliothek welches die Adressen der Pins kennt: z.B. board.LED # Ein- und Ausg\u00e4nge definieren led = digitalio . DigitalInOut ( board . LED ) # Die Variable LED wird mit dem GPIO der LED auf dem Board verbunden led . direction = digitalio . Direction . OUTPUT # Legt Richtung des PIN fest -> Output # Endlosschleife while True : led . value = True time . sleep ( 1.0 ) led . value = False time . sleep ( 0.2 ) print ( \"Sleep!\" )","title":"L\u00f6sung"},{"location":"2_1_Messkette/#aufgabe-2_1_2-anschluss-eines-tasters-an-einen-raspberry-pi-pico","text":"Schlie\u00dfen Sie den Taster wie folgt an \\(R_{pullup} = 10 \\,\\text{k}\\Omega\\) Verbinden Sie den Taster mit dem 3.3V Pin und dem GPIO 0 F\u00fcgen Sie die folgenden Code- Teile an den richtigen Stellen ein und starten Sie das Programm import time import board import digitalio button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down while True : if not button . value : # Button is pressed (LOW) print ( \"Button Pressed!\" ) else : print ( \"Button Released!\" ) time . sleep ( 0.1 ) # Add a small delay to debounce the button","title":"\u270d\ufe0f Aufgabe 2_1_2: Anschluss eines Tasters an einen Raspberry Pi Pico"},{"location":"2_1_Messkette/#gpio-eingang-mit-tasterschalter-und-pullup-widerstand","text":"Unbeschaltet oszillieren die GPIOs h\u00e4ufig unsauber zwischen den Zust\u00e4nden Grundzustand des Eingangs bei offenem Schalter: high Durch schlie\u00dfen: low \\(4{,}7~\\text{k}\\Omega\\) als Standardwert (RaspBerry Pis haben eingebaute Widerst\u00e4nde, die aktiviert werden k\u00f6nnen)","title":"GPIO-Eingang mit Taster/Schalter und Pullup-Widerstand"},{"location":"2_1_Messkette/#httpswwwelektronik-kompendiumdesitesraspberry-pi2110081htm-httpswwwelektronik-kompendiumdesitesraspberry-pi2006051htm","text":"","title":"https://www.elektronik-kompendium.de/sites/raspberry-pi/2110081.htm, https://www.elektronik-kompendium.de/sites/raspberry-pi/2006051.htm"},{"location":"2_1_Messkette/#gpio-eingang-mit-tasterschalter-und-pulldown-widerstand","text":"Grundzustand des Eingangs: low Durch schlie\u00dfen: high der Regel \\(10~\\text{k}\\Omega\\)","title":"GPIO-Eingang mit Taster/Schalter und Pulldown-Widerstand"},{"location":"2_1_Messkette/#zusammenfassung-schalter-und-taster","text":"In der Praxis tendiert man dazu, GPIO-Eing\u00e4nge mit einem Pullup-Widerstand mit +VCC zu verbinden und gegen Ground (GND) zu schalten Erfordert Negation in der Software Werte von \\(10\\) bis \\(100~\\text{k}\\Omega\\) GPIO-Eingang mit Taster/Schalter und Querwiderstand Mehr zu Pull-Up vs Pull-Down","title":"Zusammenfassung Schalter und Taster"},{"location":"2_1_Messkette/#digitale-ausgange","text":"Ausg\u00e4nge k\u00f6nnen mit einer Spannung beschaltet werden Bei einem Raspberry Pi Pico sind die Ausg\u00e4nge auf \\(3.3 \\,\\text{V}\\) begrenzt Die Ausg\u00e4nge k\u00f6nnen bis zu \\(16 \\,\\text{mA}\\) liefern","title":"Digitale Ausg\u00e4nge"},{"location":"2_1_Messkette/#losung_1","text":"L\u00f6sung anzeigen import time import board import digitalio button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down while True : if not button . value : # Button is pressed (LOW) print ( \"Button Pressed!\" ) else : print ( \"Button Released!\" ) time . sleep ( 0.1 ) # Add a small delay to debounce the button","title":"L\u00f6sung"},{"location":"2_1_Messkette/#aufgabe-2_1_3-anschluss-einer-led-an-einen-raspberry-pi-pico","text":"Nun wollen wir eine LED anschlie\u00dfen in der Folge \u00fcber den Taster schalten Sie LED soll nach einem Druck auf den Taster f\u00fcr \\(1\\,\\text{s}\\) leuchten passen Sie den Code entsprechend an und nutzen Sie dazu die folgenden Code-Teile import time import board import digitalio led_pin = board . GP1 # Replace with the GPIO pin connected to your LED led = digitalio . DigitalInOut ( led_pin ) led . direction = digitalio . Direction . OUTPUT while True : led . value = not led . value # Toggle the LED state time . sleep ( 0.2 ) # Add a small delay for debouncing time . sleep ( 0.1 )","title":"\u270d\ufe0f Aufgabe 2_1_3: Anschluss einer LED an einen Raspberry Pi Pico"},{"location":"2_1_Messkette/#httpswwwelektronik-kompendiumdesitesraspberry-pi2612031htm","text":"","title":"https://www.elektronik-kompendium.de/sites/raspberry-pi/2612031.htm"},{"location":"2_1_Messkette/#leuchtdioden","text":"Langes Bein: Anode","title":"Leuchtdioden"},{"location":"2_1_Messkette/#httpsnawi-werftdebausteineled-ansteuern","text":"","title":"https://nawi-werft.de/bausteine/led-ansteuern/"},{"location":"2_1_Messkette/#ausgang-verschalten","text":"links: LED an Masse GPIO auf high > LED an rechts: LED an VCC GPIO auf low > LED an","title":"Ausgang verschalten"},{"location":"2_1_Messkette/#httpswwwelektronik-kompendiumdesitesraspberry-pi2102181htm","text":"","title":"https://www.elektronik-kompendium.de/sites/raspberry-pi/2102181.htm"},{"location":"2_1_Messkette/#ausgang-verschalten_1","text":"W\u00e4hlen Sie einen geeigneten GPIO Schlie\u00dfen Sie die LED in Reihe an den GPIO und einen Widerstand an und verbinden Sie die andere Seite des Widerstands mit Ground ( \\(0V\\) )","title":"Ausgang verschalten"},{"location":"2_1_Messkette/#relais-und-schutze","text":"F\u00fcr viele Anwendungen ist die Leistung der GPIOs nicht ausreichend ( \\(P=UI=3.3\\text{ V} \\cdot 4\\text{ mA} = 13.2 \\text{ mW}\\) ) Eine h\u00f6here Spannung an den Ausg\u00e4ngen ist nicht m\u00f6glich (Sicherheit, Energieeffizienz, Bauform) Relais sind elektromagnetische Schalter, die eine hohe Leistung schalten k\u00f6nnen indem sie einen Schaltkontakt \u00f6ffnen oder schlie\u00dfen heute meist nicht mehr mechanisch sondern elektronisch realisiert","title":"Relais und Sch\u00fctze"},{"location":"2_1_Messkette/#pulsweitenmodulation","text":"Digitale Ausg\u00e4nge k\u00f6nnen nur zwei Zust\u00e4nde annehmen (0 / False oder 1 : True ) Einige Verbraucher (z.B. Motoren, LEDs) kann man \u00fcber PWM quasi-analog steuern Hierzu muss man Periodendauer \\(T\\) und Duty Cycle \\(t\\) geeignet setzen","title":"Pulsweitenmodulation"},{"location":"2_1_Messkette/#httpswwwelektronik-kompendiumdesiteskom0401111htm","text":"","title":"https://www.elektronik-kompendium.de/sites/kom/0401111.htm"},{"location":"2_1_Messkette/#losung_2","text":"L\u00f6sung anzeigen import time import board import digitalio led_pin = board . GP1 # Replace with the GPIO pin connected to your LED led = digitalio . DigitalInOut ( led_pin ) led . direction = digitalio . Direction . OUTPUT while True : led . value = not led . value # Toggle the LED state time . sleep ( 0.2 ) # Add a small delay for debouncing time . sleep ( 0.1 )","title":"L\u00f6sung"},{"location":"2_1_Messkette/#aufgabe-2_1_4-anschluss-einer-led-mit-pwm-an-einen-raspberry-pi-pico","text":"Sorgen Sie nun daf\u00fcr, dass die LED mit PWM angesteuert wird, so dass diese nach Bet\u00e4tigung des Tasters f\u00fcr \\(1\\,\\text{s}\\) leuchtet und dann langsam \u00fcber \\(5\\,\\text{s}\\) ausgeht import pwmio import board pwm = pwmio . PWMOut ( board . GP1 ) # output on LED pin with default of 500Hz while True : for cycle in range ( 0 , 65535 ): # Cycles through the full PWM range from 0 to 65535 pwm . duty_cycle = cycle # Cycles the LED pin duty cycle through the range of values for cycle in range ( 65534 , 0 , - 1 ): # Cycles through the PWM range backwards from 65534 to 0 pwm . duty_cycle = cycle # Cycles the LED pin duty cycle through the range of values","title":"\ud83e\udd13 \u270d\ufe0f Aufgabe 2_1_4: Anschluss einer LED mit PWM an einen Raspberry Pi Pico"},{"location":"2_1_Messkette/#analoge-eingange","text":"Sensoren liefern meist analoge Signale (z.B. Spannung, Strom, Widerstand) z.B. basieren viele Temperatur-Sensoren auf dem Widerstand von Metallen Damit \u00e4nder sich bei gleichbleibender Spannung der Strom, welcher am Eingang gemessen werden kann","title":"Analoge Eing\u00e4nge"},{"location":"2_1_Messkette/#analog-digital-wandler","text":"Der Analog-Digital-Wandler (ADC) wandelt ein analoges Signal in eine digitale Zahl um Dabei gibt es zwei relevante Parameter Aufl\u00f6sung: Anzahl der m\u00f6glichen Werte Referenzspannung: Spannungsbereich, der in die Aufl\u00f6sung abgebildet wird z.B. 16 Bit Aufl\u00f6sung und \\(3.3 \\,\\text{V}\\) Referenzspannung \\(\\Rightarrow\\) \\(2^{16} = 65536\\) Werte zwischen \\(0\\) und \\(3.3 \\,\\text{V}\\) Zudem k\u00f6nnen sich Systeme in ihrer Abtastrate unterscheiden, d.h. wie oft Werte gelesen werden k\u00f6nnen","title":"Analog-Digital-Wandler"},{"location":"2_1_Messkette/#aufgabe-2_1_4-anschluss-eines-analogen-helligkeitssensors","text":"Schlie\u00dfen Sie einen analogen Helligkeitssensor an den Raspberry Pi Pico an Links (-): GND / Masse / 0 Volt Mitte: +VCC z.B. 3,3 oder 5 Volt Rechts (S): Verbindungspunkt des Spannungsteilers Fixwiderstand \\(10 \\,\\text{k}\\Omega\\) zwischen +VCC und S Verdunkeln Sie und beleuchten Sie den Sensor und beobachten Sie die \u00c4nderung des Eingangswertes Zum Testen k\u00f6nnen Sie den Analog-Eingang mit \\(3.3 \\text{ Volt}\\) und \\(0 \\text{ Volt}\\) verbinden Lesen Sie den Wert des Sensors aus und geben Sie diesen auf der Konsole aus import board import analogio import time # Initialisierung des ADC (Analog-Digital Converter) ldr = analogio . AnalogIn ( board . A2 ) # Wiederholung while True : # ADC als Dezimalzahl lesen read = ldr . value # Ausgabe in der Kommandozeile/Shell print ( \"ADC:\" , read ) # Warten time . sleep ( 1 )","title":"\u270d\ufe0f Aufgabe 2_1_4: Anschluss eines Analogen Helligkeitssensors"},{"location":"2_1_Messkette/#httpswwwelektronik-kompendiumdesitesraspberry-pi2612221htm","text":"","title":"https://www.elektronik-kompendium.de/sites/raspberry-pi/2612221.htm"},{"location":"2_1_Messkette/#mapping-von-eingangswert-zu-physikalischer-groe","text":"Um sinnvoller mit den Werten arbeiten zu k\u00f6nnen, ist es sinnvoller die gelesen Werte read in eine Variable mit einer sinnvollen physikalischen Einheit zu \u00fcberf\u00fchren Im Fall dieses Sensors und Aufbaus lassen sich die Werte gut mit einer Parabel anpassen \\(E= f(x) = (a(x-s))^2\\) $a =0.0015 $ ist die Steigung der Parabel \\(s = 44000\\) ist der Verschiebung der Parabel auf der x-Achse \\(x\\) ist der Eingangswert","title":"Mapping von Eingangswert zu physikalischer Gr\u00f6\u00dfe"},{"location":"2_1_Messkette/#ubliche-beleuchtungsstarken-e","text":"Umfeld \\(E \\text{ in lux}\\) Mondlose, klare Nacht 0,0003 Nachts bei Vollmond 0,2 Beleuchtete Strassen, Pl\u00e4tze 10..20 Abstellr\u00e4ume, Lagerr\u00e4ume 50 Lagerr\u00e4ume, Toiletten, Treppen 100 Speiser\u00e4ume, Werkhallen, 200 L\u00e4den, Sitzungszimmer 300 Arbeitspl\u00e4tze, Schulzimmer 500 erh\u00f6hte Anspr\u00fcche 750 Elektronikmontage, Uhrenmacher 1.000 Bedeckter Himmel im Winter 1.000.. 2.000 Bedeckter Himmel im Sommer 5.000..20.000 Sonnenlicht im Winter 10.000 Sonnenlicht im Sommer 100.000","title":"\u00dcbliche Beleuchtungsst\u00e4rken \\(E\\)"},{"location":"2_1_Messkette/#nachverarbeitung-nach-adc","text":"Viele (teurere) Peripherie-Ger\u00e4te kommen als Transmitter (Kombination aus dem Sensor selbst und einem Messumformer) Diese linearisieren sie spannungs-(oder Strom) Ausgabe Eine Umrechnung der Spannungswerte an Eingang in die Physikalische Gr\u00f6\u00dfen muss jedoch weiterhin stattfinden Informationen hierzu finden sich meinst im Datenblatt","title":"Nachverarbeitung nach ADC"},{"location":"2_1_Messkette/#httpsshopbb-sensorscommesstechnik-je-branchegebaeudetechnikhelligkeitssensor-mit-messumformer-0-10-vhtml","text":"","title":"https://shop.bb-sensors.com/Messtechnik-je-Branche/Gebaeudetechnik/Helligkeitssensor-mit-Messumformer-0-10-V.html"},{"location":"2_1_Messkette/#losung_3","text":"L\u00f6sung anzeigen import pwmio import board import time import digitalio pwm = pwmio . PWMOut ( board . GP1 ) # output on LED pin with default of 500Hz button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down while True : if not button . value : # Button is pressed (LOW) print ( \"Button Pressed!\" ) pwm . duty_cycle = 65535 time . sleep ( 1 ) for cycle in range ( 65534 , 0 , - 1 ): # Cycles through the PWM range backwards from 65534 to 0 pwm . duty_cycle = cycle # Cycles the LED pin duty cycle through the range of values time . sleep ( 0.0005 )","title":"L\u00f6sung"},{"location":"2_1_Messkette/#aufgabe-2_1_5-mapping-eines-analogen-helligkeitssensors","text":"Oben ist die quadratische Funktion gegeben, die die gemessenen Werte in Beleuchtungsst\u00e4rke in Lux umrechnet Implementieren Sie diese Funktion in Python und geben Sie dann eine Nachricht mit der Beleuchtungsst\u00e4rke in Lux aus Orientieren Sie sich dabei an folgendem Code, der ein Beispiel f\u00fcr ein lineares Mapping zeigt Symbol Description \\(E_{max}\\) maximale Beleuchtungsst\u00e4rke \\(E_{min}\\) minimale Beleuchtungsst\u00e4rke \\(z_{max}\\) maximaler Messwert des ADC \\(z_{min}\\) minimaler Messwert des ADC Annahme: Linearer Zusammenhang \\(E = f(z) = \\beta_0 + \\beta_1 z\\) 1: Wie gro\u00df ist der Y-Achsenabschnitt \\(\\beta_0\\) ? Bei welchen Wert hat \\(E\\) , wenn \\(z=0\\) ? 2: Wie gro\u00df ist die Steigung \\(\\beta_1\\) ? Wie gro\u00df ist die \u00c4nderung von \\(E\\) pro \u00c4nderung von \\(z\\) ? \\(\\beta_1 = \\frac{E_{max} - E_{min}}{z_{max} - z_{min}}\\) Der folgende Code \u00fcbernimmt dein Eingangswert und gibt einen normalisierten Wert zwischen 1 und 0 zur\u00fcck Erstellen Sie in einer Datei mappings.py (im gleichen Ordner, wie die code.py ) eine Funktion map_quat() , die stattdessen die oben angegeben Formel implementiert def map_lin ( z ): E_max = 1 E_min = 0 z_max = 65535 z_min = 0 beta_0 = E_min beta_1 = ( E_max - E_min ) / ( z_max - z_min ) return beta_0 + beta_1 * z \ud83e\udd13 Im besten Fall wird map_ln in einer eigenen Datei mappings.py gespeichert und kann dann mittels import mappings in anderen Programmen genutzt werden import board import analogio import time from mappings import map_lin # Initialisierung des ADC (Analog-Digital Converter) ldr = analogio . AnalogIn ( board . A2 ) # Wiederholung while True : # ADC als Dezimalzahl lesen read = ldr . value # Ausgabe in der Kommandozeile/Shell print ( \"ADC:\" , read ) print ( \"E in Lux\" , map_lin ( read )) # Warten time . sleep ( 1 )","title":"\u270d\ufe0f Aufgabe 2_1_5: Mapping eines Analogen Helligkeitssensors"},{"location":"2_1_Messkette/#verwendung-von-globalen-variablen","text":"einige Variablen sind so grundlegend, dass wir Sie nicht im Code sondern zentral ver\u00e4ndern wollen Hierzu k\u00f6nnen wird Umgebungsvariablen in der settings.toml ver\u00e4ndern im Verzeichnis CIRCUITPY \u00e4ndern MY_NAME = \"Julian\" - Im Code k\u00f6nnen diese mittels os aufgerufen werden # connect to your SSID import os print ( os . getenv ( 'MY_NAME' )) Passen Sie den Code so an, dass die zur Umwandlung ben\u00f6tigten Werte als Umgebungsvariablen gesetzt werden k\u00f6nnen","title":"\ud83e\udd13 Verwendung von Globalen Variablen"},{"location":"2_1_Messkette/#losung_4","text":"L\u00f6sung anzeigen import board import analogio import time from mappings import map_quat # Initialisierung des ADC (Analog-Digital Converter) ldr = analogio . AnalogIn ( board . A2 ) # Wiederholung while True : # ADC als Dezimalzahl lesen read = ldr . value # Ausgabe in der Kommandozeile/Shell print ( \"ADC:\" , read ) print ( \"E in Lux\" , map_quat ( read )) # Warten time . sleep ( 1 ) L\u00f6sung anzeigen def map_lin ( z ): E_max = 1 E_min = 0 z_max = 65535 z_min = 0 beta_0 = E_min beta_1 = ( E_max - E_min ) / ( z_max - z_min ) return beta_0 + beta_1 * z def map_quat ( x ): s = 44000 a = 0.0015 return (( x - s ) * a ) ** 2","title":"L\u00f6sung"},{"location":"2_1_Messkette/#aufgabe-2_1_6","text":"Nicht bei jedem Sensor wird die gefittete Kurve perfekt passen passen Sie den Code so an, dass die Parameter der Kurve in der settings.toml hinterlegt werden k\u00f6nnen, um diese m\u00f6glichst einfach anzupassen","title":"\ud83e\udd13 \u270d\ufe0f Aufgabe 2_1_6:"},{"location":"2_1_Messkette/#analoge-ausgange","text":"Entsprechend gibt es auch analoge Ausg\u00e4nge Diese k\u00f6nnen z.B. zur Ansteuerung von Motoren genutzt werden Dabei wird einer meist der Wert einer Integer-Variable im Speicher in einen Spannungswert umgewandelt","title":"Analoge Ausg\u00e4nge"},{"location":"2_2_Steuerung/","text":"2.1 Steuerung Urspr\u00fcnge der Steuerungstechnik und Automatisierung 20\u201362 - Heron von Alexandria Automaten einer Wein und Milch spendenden Bacchus-Figur 1784 Webmaschinen von h\u00f6lzernen Lochkarten 1835 erfindet Joseph Henry das elektromechanische Relais 1969 Odo J. Struger beim US-Unternehmen Allen-Bradley eine SPS (zeitgleich mit Richard E. Morley) \ud83e\udde0 Evolution zu Industrie 4.0 Industrie 1.0 (1784): Einsatz von mechanischen Webst\u00fchlen, die insbesondere durch Lochkarten-Steuerungen und sp\u00e4ter durch umlaufenden B\u00e4nder zu Webmaschinen weiterentwickelt wurden. Industrie 2.0 (1870): erster Einsatz von Flie\u00dfb\u00e4ndern in den USA (Schlachth\u00f6fe) unter Nutzung elektrischer Antriebe, die durch entsprechende Sch\u00fctz- und Relais-Steuerungen geschaltet wurden. Industrie 3.0 (1969) Speicherprogrammierbaren Steuerungen , Durchbruch bei der Industrieelektronik und Informationstechnik zur massenweisen Steuerung und Automatisierung der Produktion Industrie 4.0 (2012) Cyber-Physikalischer Systeme mit globaler Vernetzung zur global optimierten Steuerung der international organisierten Produktion ( Internet der Dinge ). Ablaufsteuerung steuert den Ablauf ereignisdiskreter Prozesse (Schrittkette). Beim Erreichen eines Schwellwertes einer Steuergr\u00f6\u00dfe (Ereignis) wir ein weiterer Prozess angesto\u00dfen. z.B. Ablauf in einer Waschmaschine z.B. Human Centric Lighting z.B. Treppenhauslicht Beispiel Treppenlichtschaltung \u00dcber die Funktion Treppenlichtschaltung k\u00f6nnen Beleuchtungseinrichtungen tempor\u00e4r eingeschaltet werden. Nach Ablauf der Treppenlichthaltezeit kann eine Abschaltvorwarnzeit aktiv werden, die den Nutzer z. B. durch kurzzeitige Unterbrechung(\u201eFlackern\u201c) \u00fcber die bevorstehende Abschaltung informiert. Ein erneuter Empfang einer Eingabeinformation zum Einschalten startet die Verz\u00f6gerungszeit neu. Die Funktion ben\u00f6tigt als Eingabeinformation das Ergebnis der Bedienfunktion Licht stellen und liefert ihrerseits die Ausgabeinformation f\u00fcr eine oder mehrere Aktorfunktionen Lichtaktor. Naive L\u00f6sung import time import board import digitalio PAR_HOLD = 3 PAR_WARN = 1 button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down led_pin = board . GP1 # Replace with the GPIO pin connected to your LED led = digitalio . DigitalInOut ( led_pin ) led . direction = digitalio . Direction . OUTPUT while True : if not ( button . value ): # Button is pressed (LOW) print ( \"Button Pressed!\" ) led . value = True time . sleep ( PAR_HOLD ) # Add a small delay to debounce the button for i in range ( 1 , 5 ): led . value = False time . sleep ( 0.1 ) led . value = True time . sleep ( 0.1 ) time . sleep ( PAR_WARN ) led . value = False Probleme mit der naiven L\u00f6sung Erneutes bet\u00e4tigen des Taster setzt die Wartezeit nicht zur\u00fcck Unser System hat kein Ged\u00e4chtnis (Zustands) Der Ablauf sollte besser nicht nur durch einen Zeitlichen Rahmen, sondern auch durch Zust\u00e4nde gesteuert werden stateDiagram A : LED ein B : LED flackert E : LED aus [*] --> E : Systemstart E --> A : L_MAN B --> A : L_MAN A --> B : PAR_HOLD B --> E : PAR_WARN Finite State Machine (Endlicher Automat) In Abh\u00e4ngigkeit vom Systemzustand erwarten wir unterschiedliches Verhalten z.B. Nach Tastendruck soll die Lampe angeschaltet werden Nach Ablauf einer Wartezeit soll die Lampe ausgeschaltet werden Davor gibt es ein Flackern als Warnung Nach einem weiteren Tastendruck wird die Wartezeit zur\u00fcckgesetzt Einfache Systeme lassen sich meist durch Ihre Zust\u00e4nde und deren \u00dcberg\u00e4nge beschreiben Durch die Beschreibung als State-Machine k\u00f6nnen wir das Verhalten des Systems sauber trennen und die Implementierung vereinfachen Implementierung eines Cola-Automaten Der Automat startet im Zustand Auswahl anfordern Der Automat kann in den Zustand Bezahlung anfordern wechseln Wird die geforderte Summe erreicht, wechselt der Automat in den Zustand Ware ausgeben Ist die Ausgabe abgeschlossen, wechselt der Automat wieder in den Zustand Auswahl anfordern Wird die Bezahlung abgebrochen, wechselt der Automat in den Zustand R\u00fcckgeld herausgeben und dann wieder in den Zustand Auswahl anfordern (Deterministic) Finite State Machine (Endlicher Automat) Dieser Ansatz basiert auf der Theorie der formalen Sprachen Eine DFSM beschreibt ein System mit endlich vielen Zust\u00e4nden beschreibt Eine DFSM ist ein 5-Tupel \\(M = (Q, \\Sigma, q_0, F, \\delta)\\) mit Endlicher Zustandsmenge \\(Q\\) Endliche Eingabealphabet \\(\\Sigma\\) Endlicher Startzustand \\(q_0 \\in Q\\) Endlicher Endzustandsmenge \\(F \\subseteq Q\\) \u00dcbergangsfunktion \\(\\delta: Q \\times \\Sigma \\rightarrow Q\\) In der Theorie der formalen Sprachen \ud83e\udd13 \\(Q = \\{S_1, S_2\\}\\) \\(\\Sigma = \\{0,1\\}\\) \\(q_0 = S_1\\) \\(F = \\{S_1\\}\\) \\(\\delta(S_1, 0) = S_2\\) , \\(\\delta(S_1, 1) = S_1\\) \\(\\delta(S_2, 0) = S_1\\) , \\(\\delta(S_2, 1) = S_2\\) Akzeptiert (endet in \\(F\\) ) 1 , 11 , 01101 , 11001 Akzeptiert nicht (endet nicht in \\(F\\) ) 0 , 10 , 10100 , 01001 Anwendung Parser Regular Expressions In der Programmierpraxis Die Knoten stellen Systemzust\u00e4nde dar. Innerhalb dieser Zust\u00e4nde muss das Systemen nicht statisch sein (z.B. Zeit muss z.B. mitgez\u00e4hlt werden) Die gerichteten Kanten stellen \u00dcberg\u00e4nge zwischen den Zust\u00e4nden dar, die durch Events und Bedingungen ausgel\u00f6st werden Die Systemzust\u00e4nde k\u00f6nnen nur in festgelegten Reihenfolgen durchlaufen werden Ein Endzustand ist optional \u270d\ufe0f Aufgabe 2_2_1: Implementierung eines Treppenhauslichts In code_state_machine.py ist das auf der rechten Seite dargestellte Programm implementiert Beschreiben Sie verbal, was in jedem der Zust\u00e4nde passiert Ber\u00fccksichtigen Sie dabei im Besonderen, warum es die beiden Zust\u00e4nde LED leuchtet und LED flackert gibt und diese nicht in einem Zusammengefasst wurden stateDiagram A : Start C: LED an D: LED leuchtet E: LED leuchtet2 F: LED flackert G : LED aus [*] --> A : Systemstart A --> C : Taster wird gedr\u00fcckt C --> D : D --> F : PAR_HOLD vergeht E --> G : PAR_WARN vergeht F --> E: D --> C: Taster wird gedr\u00fcckt E --> C: Taster wird gedr\u00fcckt G --> C: Taster wird gedr\u00fcckt L\u00f6sung L\u00f6sung anzeigen import time import board import digitalio PAR_HOLD = 5 PAR_WARN = 2 state = \"start\" if state == \"start\" : button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down led_pin = board . GP1 # Replace with the GPIO pin connected to your LED led = digitalio . DigitalInOut ( led_pin ) led . direction = digitalio . Direction . OUTPUT state = \"LED aus\" print ( \"Erfolgreich gestartet\" ) while True : time . sleep ( 0.5 ) if state == \"LED aus\" : print ( \"State: LED aus \\n Warte auf Aktion\" ) if not ( button . value ): # Button is pressed (LOW) print ( \"Button Pressed!\" ) state = \"LED an\" led . value = True if state == \"LED an\" : print ( \"State: LED an\" ) time_start = time . time () print ( \" um: \" , time . time ()) state = \"LED leuchtet\" if state == \"LED leuchtet\" : if not ( button . value ): # Button is pressed (LOW) print ( \"Button Pressed!\" ) state = \"LED an\" print ( \"LED leuchtet\" ) print ( \" seit: \" , time . time () - time_start ) if time . time () - time_start > PAR_HOLD : state = \"LED flackert\" if state == \"LED leuchtet2\" : if not ( button . value ): # Button is pressed (LOW) print ( \"Button Pressed!\" ) state = \"LED an\" print ( \" seit Warnung: \" , time . time () - time_warning ) if time . time () - time_warning > PAR_WARN : state = \"LED aus\" led . value = False if state == \"LED flackert\" : for i in range ( 1 , 5 ): led . value = False time . sleep ( 0.1 ) led . value = True time . sleep ( 0.1 ) time_warning = time . time () state = \"LED leuchtet2\" led . value = True \u270d\ufe0f Aufgabe 2_2_2: State Machine f\u00fcr einen Dimmschalter Stellen Sie einen Dimmer vor, der durch halten des Tasters die Helligkeit einer LED \u00fcber die PWM steuert Durch halten des Tasters soll die Helligkeit von 0% auf 100% hoch- bzw. heruntergefahren werden Durch Loslassen wir die Richung umgekehrt Durch ein kurzes dr\u00fccken des Tasters soll die Helligkeit auf 0% bzw. 100% gesetzt werden Zeichen Sie eine State Machine, die dieses Verhalten beschreibt stateDiagram A : 100% B : 0% C : aufw\u00e4rts D : abw\u00e4rts A --> B: kurzer Druck B --> A: kurzer Druck A --> D: langer Druck B --> C: langer Druck C --> D: loslassen D --> C: loslassen \ud83e\udd13 \u270d\ufe0f Aufgabe 2_2_3: Implementierung eines Dimmschalter Implementieren Sie einen Dimmer Verkn\u00fcpfungssteuerungen W\u00e4hrend Ablaufsteuerungen den Ablauf eines Prozesses steuern, verkn\u00fcpfen Verkn\u00fcpfungssteuerungen die Eingangssignale mit den Ausgangssignalen Diese Trennung ist jedoch eher akademisch, da die meisten Systeme sowohl Ablauf- als auch Verkn\u00fcpfungssteuerungen enthalten Beispiel: Wechselschalter Verkn\u00fcpfungssteuerungen k\u00f6nnen z.B. durch Wahreheitstabellen und Boolsche Funktionen beschrieben werden Sp\u00e4ter werden wir hierzu noch grafische Beschreibungen kennenlernen (Funktionsplan, Kontaktplan, ...) Wahrheitstabelle Schalter 1 Schalter 2 Lampe 0 0 0 0 1 1 1 0 1 1 1 0 Boolsche Funktion \\(L = (S_1 \\land \\lnot S_2) \\lor (\\lnot S_1 \\land S_2)\\) \u270d\ufe0f Aufgabe 2_2_4: Implementierung einer vereinfachten Tageslichtschaltung Wir vereinfachen die Tagelichtschaltung, indem wir die Zeitparameter weglassen Zeichen Sie zun\u00e4chst eine Wahrheitstabelle f\u00fcr die Tageslichtschaltung P_ACT H_ROOM < PAR_SETPT L_MAN L_SET 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 1 1 0 1 0 1 0 0 1 1 0 1 0 0 1 1 1 0 1 1 0 0 1 1 1 0 1 1 0 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 \\[L_{\\text{SET}} = (P_{\\text{ACT}} \\land (H_{\\text{ROOM}} < \\text{PAR}_{\\text{SETPT}})) \\lor L_{\\text{MAN}})\\]","title":"Steuerung"},{"location":"2_2_Steuerung/#21-steuerung","text":"","title":"2.1 Steuerung"},{"location":"2_2_Steuerung/#ursprunge-der-steuerungstechnik-und-automatisierung","text":"20\u201362 - Heron von Alexandria Automaten einer Wein und Milch spendenden Bacchus-Figur 1784 Webmaschinen von h\u00f6lzernen Lochkarten 1835 erfindet Joseph Henry das elektromechanische Relais 1969 Odo J. Struger beim US-Unternehmen Allen-Bradley eine SPS (zeitgleich mit Richard E. Morley)","title":"Urspr\u00fcnge der Steuerungstechnik und Automatisierung"},{"location":"2_2_Steuerung/#evolution-zu-industrie-40","text":"Industrie 1.0 (1784): Einsatz von mechanischen Webst\u00fchlen, die insbesondere durch Lochkarten-Steuerungen und sp\u00e4ter durch umlaufenden B\u00e4nder zu Webmaschinen weiterentwickelt wurden. Industrie 2.0 (1870): erster Einsatz von Flie\u00dfb\u00e4ndern in den USA (Schlachth\u00f6fe) unter Nutzung elektrischer Antriebe, die durch entsprechende Sch\u00fctz- und Relais-Steuerungen geschaltet wurden. Industrie 3.0 (1969) Speicherprogrammierbaren Steuerungen , Durchbruch bei der Industrieelektronik und Informationstechnik zur massenweisen Steuerung und Automatisierung der Produktion Industrie 4.0 (2012) Cyber-Physikalischer Systeme mit globaler Vernetzung zur global optimierten Steuerung der international organisierten Produktion ( Internet der Dinge ).","title":"\ud83e\udde0 Evolution zu Industrie 4.0"},{"location":"2_2_Steuerung/#ablaufsteuerung","text":"steuert den Ablauf ereignisdiskreter Prozesse (Schrittkette). Beim Erreichen eines Schwellwertes einer Steuergr\u00f6\u00dfe (Ereignis) wir ein weiterer Prozess angesto\u00dfen. z.B. Ablauf in einer Waschmaschine z.B. Human Centric Lighting z.B. Treppenhauslicht","title":"Ablaufsteuerung"},{"location":"2_2_Steuerung/#beispiel-treppenlichtschaltung","text":"\u00dcber die Funktion Treppenlichtschaltung k\u00f6nnen Beleuchtungseinrichtungen tempor\u00e4r eingeschaltet werden. Nach Ablauf der Treppenlichthaltezeit kann eine Abschaltvorwarnzeit aktiv werden, die den Nutzer z. B. durch kurzzeitige Unterbrechung(\u201eFlackern\u201c) \u00fcber die bevorstehende Abschaltung informiert. Ein erneuter Empfang einer Eingabeinformation zum Einschalten startet die Verz\u00f6gerungszeit neu. Die Funktion ben\u00f6tigt als Eingabeinformation das Ergebnis der Bedienfunktion Licht stellen und liefert ihrerseits die Ausgabeinformation f\u00fcr eine oder mehrere Aktorfunktionen Lichtaktor.","title":"Beispiel Treppenlichtschaltung"},{"location":"2_2_Steuerung/#naive-losung","text":"import time import board import digitalio PAR_HOLD = 3 PAR_WARN = 1 button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down led_pin = board . GP1 # Replace with the GPIO pin connected to your LED led = digitalio . DigitalInOut ( led_pin ) led . direction = digitalio . Direction . OUTPUT while True : if not ( button . value ): # Button is pressed (LOW) print ( \"Button Pressed!\" ) led . value = True time . sleep ( PAR_HOLD ) # Add a small delay to debounce the button for i in range ( 1 , 5 ): led . value = False time . sleep ( 0.1 ) led . value = True time . sleep ( 0.1 ) time . sleep ( PAR_WARN ) led . value = False","title":"Naive L\u00f6sung"},{"location":"2_2_Steuerung/#probleme-mit-der-naiven-losung","text":"Erneutes bet\u00e4tigen des Taster setzt die Wartezeit nicht zur\u00fcck Unser System hat kein Ged\u00e4chtnis (Zustands) Der Ablauf sollte besser nicht nur durch einen Zeitlichen Rahmen, sondern auch durch Zust\u00e4nde gesteuert werden stateDiagram A : LED ein B : LED flackert E : LED aus [*] --> E : Systemstart E --> A : L_MAN B --> A : L_MAN A --> B : PAR_HOLD B --> E : PAR_WARN","title":"Probleme mit der naiven L\u00f6sung"},{"location":"2_2_Steuerung/#finite-state-machine-endlicher-automat","text":"In Abh\u00e4ngigkeit vom Systemzustand erwarten wir unterschiedliches Verhalten z.B. Nach Tastendruck soll die Lampe angeschaltet werden Nach Ablauf einer Wartezeit soll die Lampe ausgeschaltet werden Davor gibt es ein Flackern als Warnung Nach einem weiteren Tastendruck wird die Wartezeit zur\u00fcckgesetzt Einfache Systeme lassen sich meist durch Ihre Zust\u00e4nde und deren \u00dcberg\u00e4nge beschreiben Durch die Beschreibung als State-Machine k\u00f6nnen wir das Verhalten des Systems sauber trennen und die Implementierung vereinfachen","title":"Finite State Machine (Endlicher Automat)"},{"location":"2_2_Steuerung/#implementierung-eines-cola-automaten","text":"Der Automat startet im Zustand Auswahl anfordern Der Automat kann in den Zustand Bezahlung anfordern wechseln Wird die geforderte Summe erreicht, wechselt der Automat in den Zustand Ware ausgeben Ist die Ausgabe abgeschlossen, wechselt der Automat wieder in den Zustand Auswahl anfordern Wird die Bezahlung abgebrochen, wechselt der Automat in den Zustand R\u00fcckgeld herausgeben und dann wieder in den Zustand Auswahl anfordern","title":"Implementierung eines Cola-Automaten"},{"location":"2_2_Steuerung/#deterministic-finite-state-machine-endlicher-automat","text":"Dieser Ansatz basiert auf der Theorie der formalen Sprachen Eine DFSM beschreibt ein System mit endlich vielen Zust\u00e4nden beschreibt Eine DFSM ist ein 5-Tupel \\(M = (Q, \\Sigma, q_0, F, \\delta)\\) mit Endlicher Zustandsmenge \\(Q\\) Endliche Eingabealphabet \\(\\Sigma\\) Endlicher Startzustand \\(q_0 \\in Q\\) Endlicher Endzustandsmenge \\(F \\subseteq Q\\) \u00dcbergangsfunktion \\(\\delta: Q \\times \\Sigma \\rightarrow Q\\)","title":"(Deterministic) Finite State Machine (Endlicher Automat)"},{"location":"2_2_Steuerung/#in-der-theorie-der-formalen-sprachen","text":"\\(Q = \\{S_1, S_2\\}\\) \\(\\Sigma = \\{0,1\\}\\) \\(q_0 = S_1\\) \\(F = \\{S_1\\}\\) \\(\\delta(S_1, 0) = S_2\\) , \\(\\delta(S_1, 1) = S_1\\) \\(\\delta(S_2, 0) = S_1\\) , \\(\\delta(S_2, 1) = S_2\\) Akzeptiert (endet in \\(F\\) ) 1 , 11 , 01101 , 11001 Akzeptiert nicht (endet nicht in \\(F\\) ) 0 , 10 , 10100 , 01001 Anwendung Parser Regular Expressions","title":"In der Theorie der formalen Sprachen \ud83e\udd13"},{"location":"2_2_Steuerung/#in-der-programmierpraxis","text":"Die Knoten stellen Systemzust\u00e4nde dar. Innerhalb dieser Zust\u00e4nde muss das Systemen nicht statisch sein (z.B. Zeit muss z.B. mitgez\u00e4hlt werden) Die gerichteten Kanten stellen \u00dcberg\u00e4nge zwischen den Zust\u00e4nden dar, die durch Events und Bedingungen ausgel\u00f6st werden Die Systemzust\u00e4nde k\u00f6nnen nur in festgelegten Reihenfolgen durchlaufen werden Ein Endzustand ist optional","title":"In der Programmierpraxis"},{"location":"2_2_Steuerung/#aufgabe-2_2_1-implementierung-eines-treppenhauslichts","text":"In code_state_machine.py ist das auf der rechten Seite dargestellte Programm implementiert Beschreiben Sie verbal, was in jedem der Zust\u00e4nde passiert Ber\u00fccksichtigen Sie dabei im Besonderen, warum es die beiden Zust\u00e4nde LED leuchtet und LED flackert gibt und diese nicht in einem Zusammengefasst wurden stateDiagram A : Start C: LED an D: LED leuchtet E: LED leuchtet2 F: LED flackert G : LED aus [*] --> A : Systemstart A --> C : Taster wird gedr\u00fcckt C --> D : D --> F : PAR_HOLD vergeht E --> G : PAR_WARN vergeht F --> E: D --> C: Taster wird gedr\u00fcckt E --> C: Taster wird gedr\u00fcckt G --> C: Taster wird gedr\u00fcckt","title":"\u270d\ufe0f Aufgabe 2_2_1: Implementierung eines Treppenhauslichts"},{"location":"2_2_Steuerung/#losung","text":"L\u00f6sung anzeigen import time import board import digitalio PAR_HOLD = 5 PAR_WARN = 2 state = \"start\" if state == \"start\" : button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down led_pin = board . GP1 # Replace with the GPIO pin connected to your LED led = digitalio . DigitalInOut ( led_pin ) led . direction = digitalio . Direction . OUTPUT state = \"LED aus\" print ( \"Erfolgreich gestartet\" ) while True : time . sleep ( 0.5 ) if state == \"LED aus\" : print ( \"State: LED aus \\n Warte auf Aktion\" ) if not ( button . value ): # Button is pressed (LOW) print ( \"Button Pressed!\" ) state = \"LED an\" led . value = True if state == \"LED an\" : print ( \"State: LED an\" ) time_start = time . time () print ( \" um: \" , time . time ()) state = \"LED leuchtet\" if state == \"LED leuchtet\" : if not ( button . value ): # Button is pressed (LOW) print ( \"Button Pressed!\" ) state = \"LED an\" print ( \"LED leuchtet\" ) print ( \" seit: \" , time . time () - time_start ) if time . time () - time_start > PAR_HOLD : state = \"LED flackert\" if state == \"LED leuchtet2\" : if not ( button . value ): # Button is pressed (LOW) print ( \"Button Pressed!\" ) state = \"LED an\" print ( \" seit Warnung: \" , time . time () - time_warning ) if time . time () - time_warning > PAR_WARN : state = \"LED aus\" led . value = False if state == \"LED flackert\" : for i in range ( 1 , 5 ): led . value = False time . sleep ( 0.1 ) led . value = True time . sleep ( 0.1 ) time_warning = time . time () state = \"LED leuchtet2\" led . value = True","title":"L\u00f6sung"},{"location":"2_2_Steuerung/#aufgabe-2_2_2-state-machine-fur-einen-dimmschalter","text":"Stellen Sie einen Dimmer vor, der durch halten des Tasters die Helligkeit einer LED \u00fcber die PWM steuert Durch halten des Tasters soll die Helligkeit von 0% auf 100% hoch- bzw. heruntergefahren werden Durch Loslassen wir die Richung umgekehrt Durch ein kurzes dr\u00fccken des Tasters soll die Helligkeit auf 0% bzw. 100% gesetzt werden Zeichen Sie eine State Machine, die dieses Verhalten beschreibt stateDiagram A : 100% B : 0% C : aufw\u00e4rts D : abw\u00e4rts A --> B: kurzer Druck B --> A: kurzer Druck A --> D: langer Druck B --> C: langer Druck C --> D: loslassen D --> C: loslassen","title":"\u270d\ufe0f Aufgabe 2_2_2: State Machine f\u00fcr einen Dimmschalter"},{"location":"2_2_Steuerung/#aufgabe-2_2_3-implementierung-eines-dimmschalter","text":"Implementieren Sie einen Dimmer","title":"\ud83e\udd13 \u270d\ufe0f Aufgabe 2_2_3: Implementierung eines Dimmschalter"},{"location":"2_2_Steuerung/#verknupfungssteuerungen","text":"W\u00e4hrend Ablaufsteuerungen den Ablauf eines Prozesses steuern, verkn\u00fcpfen Verkn\u00fcpfungssteuerungen die Eingangssignale mit den Ausgangssignalen Diese Trennung ist jedoch eher akademisch, da die meisten Systeme sowohl Ablauf- als auch Verkn\u00fcpfungssteuerungen enthalten","title":"Verkn\u00fcpfungssteuerungen"},{"location":"2_2_Steuerung/#beispiel-wechselschalter","text":"Verkn\u00fcpfungssteuerungen k\u00f6nnen z.B. durch Wahreheitstabellen und Boolsche Funktionen beschrieben werden Sp\u00e4ter werden wir hierzu noch grafische Beschreibungen kennenlernen (Funktionsplan, Kontaktplan, ...) Wahrheitstabelle Schalter 1 Schalter 2 Lampe 0 0 0 0 1 1 1 0 1 1 1 0 Boolsche Funktion \\(L = (S_1 \\land \\lnot S_2) \\lor (\\lnot S_1 \\land S_2)\\)","title":"Beispiel: Wechselschalter"},{"location":"2_2_Steuerung/#aufgabe-2_2_4-implementierung-einer-vereinfachten-tageslichtschaltung","text":"Wir vereinfachen die Tagelichtschaltung, indem wir die Zeitparameter weglassen Zeichen Sie zun\u00e4chst eine Wahrheitstabelle f\u00fcr die Tageslichtschaltung P_ACT H_ROOM < PAR_SETPT L_MAN L_SET 0 0 0 0 1 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 1 1 0 1 0 1 0 0 1 1 0 1 0 0 1 1 1 0 1 1 0 0 1 1 1 0 1 1 0 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 \\[L_{\\text{SET}} = (P_{\\text{ACT}} \\land (H_{\\text{ROOM}} < \\text{PAR}_{\\text{SETPT}})) \\lor L_{\\text{MAN}})\\]","title":"\u270d\ufe0f Aufgabe 2_2_4: Implementierung einer vereinfachten Tageslichtschaltung"},{"location":"2_3_Funktionen/","text":"2.3 Funktionen Funktionale Programmierung Berechnung von Output aus Input wird in wieder aufrufbaren Funktionen gekapselt Funktion hat nur Input und Output aber keinen Speicher / Zustand def add ( a , b ): return a + b add ( 1 , 2 ) # 3 add ( 3 , 4 ) # 7 Steuerfunktion \\[L_{\\text{SET}} = (P_{\\text{ACT}} \\land (H_{\\text{ROOM}} < \\text{PAR}_{\\text{SETPT}})) \\lor L_{\\text{MAN}})\\] def l_set ( p_act , h_room , PAR_SETPT , l_man ): return ( p_act and h_room < PAR_SETPT ) or l_man from tageslichtschaltung import l_set from mapping import map_quat while True : l_set_value = l_set ( p_act , h_room , PAR_SETPT , l_man ) \u270d\ufe0f Aufgabe 2_3_1: Implementierung einer Tageslichtschaltung Implementieren Sie die Tageslichtschaltung in Python Stellen Sie zun\u00e4chst sicher, dass LED, Button und Analog-Digital-Wandler korrekt angeschlossen sind Setzen Sie die manuelle Einstellung l_man dauerhaft auf False Setzen Sie den Sollwert PAR_SETPT auf einen geigneten Wert Legen Sie die beiden Module tageslichtschaltung.py und mappings.py in den gleichen Ordner wie Ihre Hauptdatei \ud83e\udd13 Recherchieren Sie einen geeigneten Sensor, den Sie f\u00fcr die Anwesenheitserkennung verwenden k\u00f6nnen M\u00f6glicher Startpunkt import board import analogio import time from mappings import map_quat from tageslichtschaltung import l_set import digitalio # Initialisierung des ADC (Analog-Digital Converter) ldr = analogio . AnalogIn ( board . A2 ) # Initialisierung der LED led_pin = board . GP1 # Replace with the GPIO pin connected to your LED led = digitalio . DigitalInOut ( led_pin ) led . direction = digitalio . Direction . OUTPUT # Initialisierung Button button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down # Parameter setzen PAR_SETPT = 100 l_man = False # Wiederholung while True : # ADC als Dezimalzahl lesen read = ldr . value # Ausgabe in der Kommandozeile/Shell print ( \"ADC:\" , read ) print ( \"E in Lux\" , map_quat ( read )) tageslichtschaltung.py def l_set ( p_act , h_room , PAR_SETPT , l_man ): return ( p_act and h_room < PAR_SETPT ) or l_man mappings.py def map_lin ( z ): E_max = 1 E_min = 0 z_max = 65535 z_min = 0 beta_0 = E_min beta_1 = ( E_max - E_min ) / ( z_max - z_min ) return beta_0 + beta_1 * z def map_quat ( x ): s = 44000 a = 0.0015 return (( x - s ) * a ) ** 2 \u270d\ufe0f Aufgabe 2_3_2: Welche Teile des Codes k\u00f6nnte man ebenfalls in Funktionen auslagern? Wie sch\u00e4tzen Sie den Aufwand ein, wenn man nun weitere Tageslicht-Schaltungen mit anderen LEDs und Sensoren auf der gleichen Platine realisieren m\u00f6chte? Sichtbarkeit von Variablen Lokale Variablen Variablen, die innerhalb einer Funktion definiert werden (z.B. s ) sind au\u00dferhalb der Funktion nicht sichtbar ( Kapselung ) Dies gilt f\u00fcr die meisten Programmiersprachen und z.B. auch f\u00fcr Schleifen def map_quat ( x ): s = 44000 a = 0.0015 return (( x - s ) * a ) ** 2 print ( s ) # NameError Traceback (most recent call last) # <ipython-input-11-76c4dd40fb41> in <module> # ----> 1 print(s) # NameError: name 's' is not defined Globale Variablen Variablen, die (bewusst) \u00fcberall im Programmcode aufrufbar sind (z.B. PAR_SETPT ) sind globale Variablen in Python werden globale Variablen in Gro\u00dfbuchstaben geschrieben A_GLOBAL_VAR = 1 def my_function (): a_local_variable = 2 return a_local_variable another_variable = my_function () print ( A_GLOBAL_VAR ) # 1 print ( a_local_variable ) # Error print ( another_variable ) # 2","title":"Funktionen"},{"location":"2_3_Funktionen/#23-funktionen","text":"","title":"2.3 Funktionen"},{"location":"2_3_Funktionen/#funktionale-programmierung","text":"Berechnung von Output aus Input wird in wieder aufrufbaren Funktionen gekapselt Funktion hat nur Input und Output aber keinen Speicher / Zustand def add ( a , b ): return a + b add ( 1 , 2 ) # 3 add ( 3 , 4 ) # 7","title":"Funktionale Programmierung"},{"location":"2_3_Funktionen/#steuerfunktion","text":"\\[L_{\\text{SET}} = (P_{\\text{ACT}} \\land (H_{\\text{ROOM}} < \\text{PAR}_{\\text{SETPT}})) \\lor L_{\\text{MAN}})\\] def l_set ( p_act , h_room , PAR_SETPT , l_man ): return ( p_act and h_room < PAR_SETPT ) or l_man from tageslichtschaltung import l_set from mapping import map_quat while True : l_set_value = l_set ( p_act , h_room , PAR_SETPT , l_man )","title":"Steuerfunktion"},{"location":"2_3_Funktionen/#aufgabe-2_3_1-implementierung-einer-tageslichtschaltung","text":"Implementieren Sie die Tageslichtschaltung in Python Stellen Sie zun\u00e4chst sicher, dass LED, Button und Analog-Digital-Wandler korrekt angeschlossen sind Setzen Sie die manuelle Einstellung l_man dauerhaft auf False Setzen Sie den Sollwert PAR_SETPT auf einen geigneten Wert Legen Sie die beiden Module tageslichtschaltung.py und mappings.py in den gleichen Ordner wie Ihre Hauptdatei \ud83e\udd13 Recherchieren Sie einen geeigneten Sensor, den Sie f\u00fcr die Anwesenheitserkennung verwenden k\u00f6nnen","title":"\u270d\ufe0f Aufgabe 2_3_1: Implementierung einer Tageslichtschaltung"},{"location":"2_3_Funktionen/#moglicher-startpunkt","text":"import board import analogio import time from mappings import map_quat from tageslichtschaltung import l_set import digitalio # Initialisierung des ADC (Analog-Digital Converter) ldr = analogio . AnalogIn ( board . A2 ) # Initialisierung der LED led_pin = board . GP1 # Replace with the GPIO pin connected to your LED led = digitalio . DigitalInOut ( led_pin ) led . direction = digitalio . Direction . OUTPUT # Initialisierung Button button_pin = board . GP0 # Replace with the GPIO pin connected to your button button = digitalio . DigitalInOut ( button_pin ) button . direction = digitalio . Direction . INPUT button . pull = digitalio . Pull . UP # Use pull-up resistor; change if using pull-down # Parameter setzen PAR_SETPT = 100 l_man = False # Wiederholung while True : # ADC als Dezimalzahl lesen read = ldr . value # Ausgabe in der Kommandozeile/Shell print ( \"ADC:\" , read ) print ( \"E in Lux\" , map_quat ( read ))","title":"M\u00f6glicher Startpunkt"},{"location":"2_3_Funktionen/#tageslichtschaltungpy","text":"def l_set ( p_act , h_room , PAR_SETPT , l_man ): return ( p_act and h_room < PAR_SETPT ) or l_man","title":"tageslichtschaltung.py"},{"location":"2_3_Funktionen/#mappingspy","text":"def map_lin ( z ): E_max = 1 E_min = 0 z_max = 65535 z_min = 0 beta_0 = E_min beta_1 = ( E_max - E_min ) / ( z_max - z_min ) return beta_0 + beta_1 * z def map_quat ( x ): s = 44000 a = 0.0015 return (( x - s ) * a ) ** 2","title":"mappings.py"},{"location":"2_3_Funktionen/#aufgabe-2_3_2","text":"Welche Teile des Codes k\u00f6nnte man ebenfalls in Funktionen auslagern? Wie sch\u00e4tzen Sie den Aufwand ein, wenn man nun weitere Tageslicht-Schaltungen mit anderen LEDs und Sensoren auf der gleichen Platine realisieren m\u00f6chte?","title":"\u270d\ufe0f Aufgabe 2_3_2:"},{"location":"2_3_Funktionen/#sichtbarkeit-von-variablen","text":"","title":"Sichtbarkeit von Variablen"},{"location":"2_3_Funktionen/#lokale-variablen","text":"Variablen, die innerhalb einer Funktion definiert werden (z.B. s ) sind au\u00dferhalb der Funktion nicht sichtbar ( Kapselung ) Dies gilt f\u00fcr die meisten Programmiersprachen und z.B. auch f\u00fcr Schleifen def map_quat ( x ): s = 44000 a = 0.0015 return (( x - s ) * a ) ** 2 print ( s ) # NameError Traceback (most recent call last) # <ipython-input-11-76c4dd40fb41> in <module> # ----> 1 print(s) # NameError: name 's' is not defined","title":"Lokale Variablen"},{"location":"2_3_Funktionen/#globale-variablen","text":"Variablen, die (bewusst) \u00fcberall im Programmcode aufrufbar sind (z.B. PAR_SETPT ) sind globale Variablen in Python werden globale Variablen in Gro\u00dfbuchstaben geschrieben A_GLOBAL_VAR = 1 def my_function (): a_local_variable = 2 return a_local_variable another_variable = my_function () print ( A_GLOBAL_VAR ) # 1 print ( a_local_variable ) # Error print ( another_variable ) # 2","title":"Globale Variablen"},{"location":"2_4_Objektorientierung/","text":"2.4 Objektorientierung Motivation Funktion hat nur Input und Output aber keinen Speicher / Zustand z.B. wenn wir bei einer Messfunktionen das Signal gl\u00e4tten wollen, m\u00fcssen wir den Zustand speichern Grundkonzepte der Objektorientierung Objektorientierte Programmierung: Programmierparadigma mit Fokus auf Objekte, deren Eigenschaften und F\u00e4higkeiten z.B. Objekt der Klasse Sensor Attribute (Eigenschaften mit Datentyp): Z\u00e4hlernummer Aktueller Messerwert Liste bisheriger Messerwerte Einheit Methoden (wie Funktionen): Mittelwert bilden Messen Letzten Messwert \u00fcbermitteln Klassen und Objekte Die Sensor-Klasse beschreibt allgemein das Verhalten jedes Sensors! Jeder einzelne Sensor ist ein Objekt der Klasse Sensor, bei dem die Attribute individuell ausgepr\u00e4gt classDiagram class Sensor{ +string name +string unit +float measurement +[]float measurements +do_measurement() +calc_mean() +print_data() } Attribute # Definition einer Klasse class Sensor : def __init__ ( self , name , unit ): self . name = name self . unit = unit self . measurement = None self . measurements = [] # Instanziierung eines Objekts sensor1 = Sensor ( \"Temperatursensor\" , \"\u00b0C\" ) sensor2 = Sensor ( \"Beleuchtungsst\u00e4rke\" , \"Lux\" ) # Aufruf der Attribute print ( sensor1 . name ) print ( sensor2 . name ) Die Methode __init__ wird aufgerufen, sobald ein Objekt einer Klasse instanziiert wird. Die Methode kann daf\u00fcr benutzt werden, ihr Objekt auf irgendeine Weise zu initialisieren wichtig ist in jeder Methode als erstes Argument self zu \u00fcbergeben, damit die Methode auf das Objekt zugreifen kann Ebenso werden Attribute mit self definiert, damit sie dem Objekt zugeordnet werden Methoden & Funktionen Methoden sind Funktionen, die zu einer Klasse geh\u00f6ren Funktionen sind wieder aufrufbare Code-Einheiten, denen Argumente als Parameter \u00fcbergeben werden k\u00f6nnen Funktionen geben einen R\u00fcckgabewert aus, der weiterverarbeitet werden kann # Definition einer Klasse class Sensor : def __init__ ( self , name , unit ): self . name = name self . unit = unit self . measurement = None self . measurements = [] def print_data ( self ): print ( \"This \" + self . name + \"returns data in \" + self . unit ) # Instanziierung eines Objekts sensor1 = Sensor ( \"Temperatursensor\" , \"\u00b0C\" ) # Aufruf der Attribute sensor1 . print_data () \u270d\ufe0f Aufgabe 2_4_1: Implementierung einer Sensor-Klasse import board import analogio import time import digitalio # Initialisierung des ADC (Analog-Digital Converter) ldr = analogio . AnalogIn ( board . A2 ) class Sensor : def __init__ ( self , name , unit ): self . name = name self . unit = unit self . last_measurement = None self . measurements = [] def do_measurement ( self , ldr ): self . last_measurement = ldr . value self . measurements . append ( self . last_measurement ) def print_data ( self ): print ( \"This \" + self . name + \"returns data in \" + self . unit ) beleuchtungs_sensor = Sensor ( \"Beleuchtungsst\u00e4rke\" , \"ADC\" ) # Wiederholung while True : # ADC als Dezimalzahl lesen beleuchtungs_sensor . do_measurement ( ldr ) print ( beleuchtungs_sensor . last_measurement ) # Warten time . sleep ( 1 ) Passen Sie den gegeben Code so an, dass der Sensor auch \u00fcber eine Methode verf\u00fcgt, welche den Mittelwert der Messwerte zur\u00fcckgibt Sie k\u00f6nnen die folgende Funktion als Ausgangspunkt verwenden Vergessen sie nicht das self -Argument zu \u00fcbergeben Hierdurch k\u00f6nnen sie auch die \u00dcbergabe des Parameters list_of_measurements vermeiden, die Sie sich im Objekt direkt auf self.measurements beziehen k\u00f6nnen def bilde_mittelwert ( list_of_measurements ): \"\"\" Eine Funktion, die eine Liste von Werten \u00fcbernimmt und das arithmetische Mittel zur\u00fcck gibt\"\"\" mittelwert = sum ( list_of_measurements ) / len ( list_of_measurements ) return mittelwert ergebnis = bilde_mittelwert ([ 1 , 2 , 3 ]) \ud83e\udd13 \u270d\ufe0f Aufgabe 2_4_2: Stellen Sie sicher, dass maximal die letzten 10 Messwerte gespeichert werden Erweitern die Methode calc_mean so, dass optional nur die letzten n Messwerte ber\u00fccksichtigt werden und n als Parameter \u00fcbergeben werden kann Integrieren Sie die mappings.py in Ihre Sensor-Klasse, damit diese Lux-Werte zur\u00fcckgibt \ud83e\udd13 \ud83e\udd13 \u00dcberlegen Sie, wie Sie dem Sensor bei der Instanziierung unterschiedliche Mapping-Funktionen \u00fcbergeben k\u00f6nnen Vererbung Durch Vererbung k\u00f6nnen die Attribute und Methoden einer (Parent-)Klasse an andere (Child-) Klassen weitergegeben werden. Neu implementiert werden m\u00fcssen dann nur zus\u00e4tzliche Datenelemente und Methoden. Im UML-Klassendiagramm wird die Vererbung mit meinem im leeren Dreieck endenden Pfeil dargestellt. Dies erm\u00f6glicht eine hierarchische Strukturierung von Klassen z.B. um schnell verschiedene Sensor-Klassen zu erstellen JSON-Darstellung eines Objekts Serialisierung von Objekten Zur \u00dcbertragung zwischen Systemen m\u00fcssen Objekte unabh\u00e4ngig vom der Darstellung im Arbeitsspeicher gemacht werden Serialisierung: Objekt aus dem Arbeitsspeicher wird in eine Folge von Zeichen \u00fcbersetzt (letztlich eine Folge von Bits) Austauschdateiformat (meist in Form einer Auszeichnungssprache) Dictionaries Sind die Implementierung von Hash-Tabellen in Python (ein Datentyp vergleichbar mit einer Liste) Anstelle einer Liste, in der Werte \u00fcber eine Indexposition abgerufen werden, werden Werte \u00fcber einen Schl\u00fcssel abgerufen Schl\u00fcssel-Wert-Paare {<key1>:<value1>, <key2>:<value2>, <key3>:<value3} my_dict = beleuchtungs_sensor . __dict__ print ( my_dict ) { 'last_measurement' : 43114 , 'measurements' : [ 43130 , 43034 , 43066 , 42666 , 43370 , 43114 , 42426 , 43114 ], 'name' : 'Beleuchtungsst\u00e4rke' , 'unit' : 'ADC' } * Das __dict__ -Attribut enth\u00e4lt alle Attribute des Objekts als Dictionary * Auf die Werte im Dictionary kann \u00fcber den Schl\u00fcssel zugegriffen werden print ( my_dict [ \"last_measurement\" ]) JavaScriptObjectNotation (JSON) Dictionary-Objekte k\u00f6nnen in JSON-Objekte umgewandelt werden JSON is eine Auszeichnungssprache, die f\u00fcr den Datenaustausch zwischen Systemen verwendet wird import json with open ( \"sample.json\" , \"w\" ) as outfile : json . dump ( my_dict , outfile ) { \"last_measurement\" : 43114 , \"measurements\" : [ 43130 , 43034 , 43066 , 42666 , 43370 , 43114 , 42426 , 43114 ], \"name\" : \"Beleuchtungsst\\u00e4rke\" , \"unit\" : \"ADC\" } \u00fcber eine eignete Codierung (z.B. ASCII, UTF) k\u00f6nnen auch Bin\u00e4rdaten \u00fcbertragen werden <stings>.encode(\"ascii\") 1111011001001110110110101100101011101000110010101110010010111110110100101100100001001110011101000100000... \u270d\ufe0f Aufgabe 2_4_3: Nehmen wir an, wir m\u00f6chten die Messwerte eines Sensors \u00fcber ein Bussystem \u00fcbertragen Halten Sie es f\u00fcr sinnvoll, das ganze Dictionary zu \u00fcbertragen? Wenn nein, welche Werte w\u00fcrden Sie \u00fcbertragen? W\u00fcrden Sie die Messwerte erst als JSON, ASCII und dann als Bin\u00e4rdaten \u00fcbertragen? Wenn nein, warum nicht? Implementieren Sie eine Methode prepare_data() , die Ihren Vorstellungen entspricht","title":"Objektorientierung"},{"location":"2_4_Objektorientierung/#24-objektorientierung","text":"","title":"2.4 Objektorientierung"},{"location":"2_4_Objektorientierung/#motivation","text":"Funktion hat nur Input und Output aber keinen Speicher / Zustand z.B. wenn wir bei einer Messfunktionen das Signal gl\u00e4tten wollen, m\u00fcssen wir den Zustand speichern","title":"Motivation"},{"location":"2_4_Objektorientierung/#grundkonzepte-der-objektorientierung","text":"Objektorientierte Programmierung: Programmierparadigma mit Fokus auf Objekte, deren Eigenschaften und F\u00e4higkeiten z.B. Objekt der Klasse Sensor Attribute (Eigenschaften mit Datentyp): Z\u00e4hlernummer Aktueller Messerwert Liste bisheriger Messerwerte Einheit Methoden (wie Funktionen): Mittelwert bilden Messen Letzten Messwert \u00fcbermitteln","title":"Grundkonzepte der Objektorientierung"},{"location":"2_4_Objektorientierung/#klassen-und-objekte","text":"Die Sensor-Klasse beschreibt allgemein das Verhalten jedes Sensors! Jeder einzelne Sensor ist ein Objekt der Klasse Sensor, bei dem die Attribute individuell ausgepr\u00e4gt classDiagram class Sensor{ +string name +string unit +float measurement +[]float measurements +do_measurement() +calc_mean() +print_data() }","title":"Klassen und Objekte"},{"location":"2_4_Objektorientierung/#attribute","text":"# Definition einer Klasse class Sensor : def __init__ ( self , name , unit ): self . name = name self . unit = unit self . measurement = None self . measurements = [] # Instanziierung eines Objekts sensor1 = Sensor ( \"Temperatursensor\" , \"\u00b0C\" ) sensor2 = Sensor ( \"Beleuchtungsst\u00e4rke\" , \"Lux\" ) # Aufruf der Attribute print ( sensor1 . name ) print ( sensor2 . name ) Die Methode __init__ wird aufgerufen, sobald ein Objekt einer Klasse instanziiert wird. Die Methode kann daf\u00fcr benutzt werden, ihr Objekt auf irgendeine Weise zu initialisieren wichtig ist in jeder Methode als erstes Argument self zu \u00fcbergeben, damit die Methode auf das Objekt zugreifen kann Ebenso werden Attribute mit self definiert, damit sie dem Objekt zugeordnet werden","title":"Attribute"},{"location":"2_4_Objektorientierung/#methoden-funktionen","text":"Methoden sind Funktionen, die zu einer Klasse geh\u00f6ren Funktionen sind wieder aufrufbare Code-Einheiten, denen Argumente als Parameter \u00fcbergeben werden k\u00f6nnen Funktionen geben einen R\u00fcckgabewert aus, der weiterverarbeitet werden kann # Definition einer Klasse class Sensor : def __init__ ( self , name , unit ): self . name = name self . unit = unit self . measurement = None self . measurements = [] def print_data ( self ): print ( \"This \" + self . name + \"returns data in \" + self . unit ) # Instanziierung eines Objekts sensor1 = Sensor ( \"Temperatursensor\" , \"\u00b0C\" ) # Aufruf der Attribute sensor1 . print_data ()","title":"Methoden &amp; Funktionen"},{"location":"2_4_Objektorientierung/#aufgabe-2_4_1-implementierung-einer-sensor-klasse","text":"import board import analogio import time import digitalio # Initialisierung des ADC (Analog-Digital Converter) ldr = analogio . AnalogIn ( board . A2 ) class Sensor : def __init__ ( self , name , unit ): self . name = name self . unit = unit self . last_measurement = None self . measurements = [] def do_measurement ( self , ldr ): self . last_measurement = ldr . value self . measurements . append ( self . last_measurement ) def print_data ( self ): print ( \"This \" + self . name + \"returns data in \" + self . unit ) beleuchtungs_sensor = Sensor ( \"Beleuchtungsst\u00e4rke\" , \"ADC\" ) # Wiederholung while True : # ADC als Dezimalzahl lesen beleuchtungs_sensor . do_measurement ( ldr ) print ( beleuchtungs_sensor . last_measurement ) # Warten time . sleep ( 1 ) Passen Sie den gegeben Code so an, dass der Sensor auch \u00fcber eine Methode verf\u00fcgt, welche den Mittelwert der Messwerte zur\u00fcckgibt Sie k\u00f6nnen die folgende Funktion als Ausgangspunkt verwenden Vergessen sie nicht das self -Argument zu \u00fcbergeben Hierdurch k\u00f6nnen sie auch die \u00dcbergabe des Parameters list_of_measurements vermeiden, die Sie sich im Objekt direkt auf self.measurements beziehen k\u00f6nnen def bilde_mittelwert ( list_of_measurements ): \"\"\" Eine Funktion, die eine Liste von Werten \u00fcbernimmt und das arithmetische Mittel zur\u00fcck gibt\"\"\" mittelwert = sum ( list_of_measurements ) / len ( list_of_measurements ) return mittelwert ergebnis = bilde_mittelwert ([ 1 , 2 , 3 ])","title":"\u270d\ufe0f Aufgabe 2_4_1: Implementierung einer Sensor-Klasse"},{"location":"2_4_Objektorientierung/#aufgabe-2_4_2","text":"Stellen Sie sicher, dass maximal die letzten 10 Messwerte gespeichert werden Erweitern die Methode calc_mean so, dass optional nur die letzten n Messwerte ber\u00fccksichtigt werden und n als Parameter \u00fcbergeben werden kann Integrieren Sie die mappings.py in Ihre Sensor-Klasse, damit diese Lux-Werte zur\u00fcckgibt \ud83e\udd13 \ud83e\udd13 \u00dcberlegen Sie, wie Sie dem Sensor bei der Instanziierung unterschiedliche Mapping-Funktionen \u00fcbergeben k\u00f6nnen","title":"\ud83e\udd13 \u270d\ufe0f Aufgabe 2_4_2:"},{"location":"2_4_Objektorientierung/#vererbung","text":"Durch Vererbung k\u00f6nnen die Attribute und Methoden einer (Parent-)Klasse an andere (Child-) Klassen weitergegeben werden. Neu implementiert werden m\u00fcssen dann nur zus\u00e4tzliche Datenelemente und Methoden. Im UML-Klassendiagramm wird die Vererbung mit meinem im leeren Dreieck endenden Pfeil dargestellt. Dies erm\u00f6glicht eine hierarchische Strukturierung von Klassen z.B. um schnell verschiedene Sensor-Klassen zu erstellen","title":"Vererbung"},{"location":"2_4_Objektorientierung/#json-darstellung-eines-objekts","text":"","title":"JSON-Darstellung eines Objekts"},{"location":"2_4_Objektorientierung/#serialisierung-von-objekten","text":"Zur \u00dcbertragung zwischen Systemen m\u00fcssen Objekte unabh\u00e4ngig vom der Darstellung im Arbeitsspeicher gemacht werden Serialisierung: Objekt aus dem Arbeitsspeicher wird in eine Folge von Zeichen \u00fcbersetzt (letztlich eine Folge von Bits) Austauschdateiformat (meist in Form einer Auszeichnungssprache)","title":"Serialisierung von Objekten"},{"location":"2_4_Objektorientierung/#dictionaries","text":"Sind die Implementierung von Hash-Tabellen in Python (ein Datentyp vergleichbar mit einer Liste) Anstelle einer Liste, in der Werte \u00fcber eine Indexposition abgerufen werden, werden Werte \u00fcber einen Schl\u00fcssel abgerufen Schl\u00fcssel-Wert-Paare {<key1>:<value1>, <key2>:<value2>, <key3>:<value3} my_dict = beleuchtungs_sensor . __dict__ print ( my_dict ) { 'last_measurement' : 43114 , 'measurements' : [ 43130 , 43034 , 43066 , 42666 , 43370 , 43114 , 42426 , 43114 ], 'name' : 'Beleuchtungsst\u00e4rke' , 'unit' : 'ADC' } * Das __dict__ -Attribut enth\u00e4lt alle Attribute des Objekts als Dictionary * Auf die Werte im Dictionary kann \u00fcber den Schl\u00fcssel zugegriffen werden print ( my_dict [ \"last_measurement\" ])","title":"Dictionaries"},{"location":"2_4_Objektorientierung/#javascriptobjectnotation-json","text":"Dictionary-Objekte k\u00f6nnen in JSON-Objekte umgewandelt werden JSON is eine Auszeichnungssprache, die f\u00fcr den Datenaustausch zwischen Systemen verwendet wird import json with open ( \"sample.json\" , \"w\" ) as outfile : json . dump ( my_dict , outfile ) { \"last_measurement\" : 43114 , \"measurements\" : [ 43130 , 43034 , 43066 , 42666 , 43370 , 43114 , 42426 , 43114 ], \"name\" : \"Beleuchtungsst\\u00e4rke\" , \"unit\" : \"ADC\" } \u00fcber eine eignete Codierung (z.B. ASCII, UTF) k\u00f6nnen auch Bin\u00e4rdaten \u00fcbertragen werden <stings>.encode(\"ascii\") 1111011001001110110110101100101011101000110010101110010010111110110100101100100001001110011101000100000...","title":"JavaScriptObjectNotation (JSON)"},{"location":"2_4_Objektorientierung/#aufgabe-2_4_3","text":"Nehmen wir an, wir m\u00f6chten die Messwerte eines Sensors \u00fcber ein Bussystem \u00fcbertragen Halten Sie es f\u00fcr sinnvoll, das ganze Dictionary zu \u00fcbertragen? Wenn nein, welche Werte w\u00fcrden Sie \u00fcbertragen? W\u00fcrden Sie die Messwerte erst als JSON, ASCII und dann als Bin\u00e4rdaten \u00fcbertragen? Wenn nein, warum nicht? Implementieren Sie eine Methode prepare_data() , die Ihren Vorstellungen entspricht","title":"\u270d\ufe0f Aufgabe 2_4_3:"},{"location":"3_1_Blockschaltbild/","text":"Blockschaltbild Blockschaltbild Grafische Beschreibung von Systemen in der Regelungs- und Steuerungstechnik Systeme werden durch Bl\u00f6cke dargestellt, die durch Pfeile verbunden sind z.B. Steuerungsfunktion (z.B. in Python) z.B. thermodynamisches Modell eines Raums I.d.R. besch\u00e4ftigen wir uns mit dynamischen Systemen Die Ausgangsgr\u00f6\u00dfe h\u00e4ngt nicht nur von den Eingangsgr\u00f6\u00dfen ab (vgl. Funktion) sondern auch vom Systemzustand und damit inneren Zustandsgr\u00f6\u00dfen (vgl. Objekt) Lunze Dynamische Systeme lineare Systeme: Systemfunktion ist eine lineare Funktion nichtlineare Systeme: Systemfunktion ist eine nichtlineare Funktion zeitinvariante Systeme: Systemfunktion ist unabh\u00e4ngig von der Zeit zeitvariante Systeme: Systemfunktion ist abh\u00e4ngig von der Zeit Totzeit: Systemfunktion ist eine Funktion der Zeit, die f\u00fcr \\(t<0\\) verschwindet Elemente eines Blockschaltbildes \u00dcbertragungsglieder beschreiben Systeme mit deren Eigenschaften / Funktionen Pfeile die Ein- und Ausgangsgr\u00f6\u00dfen Komplexe Systeme k\u00f6nnen durch mehrere Systeme zusammengesetzt werden Systeme werden im Zeitbereich durch ihre Funktionsbeziehung zwischen Ausgang \\(y\\) und Eingang \\(u\\) unterschieden \\(f(u)=y\\) Proportionalglied (P-Glied) Linear und zeitinvariant Beschreibt Systeme mit direktem proportionaler Systemfunktion \\(f\\) f\u00fcr den Zusammenhang zwischen Eingang ( \\(u\\) ) und Ausgang ( \\(y\\) ) \\(y = f(u)=K_p \\cdot u\\) \\(K_p\\) ... Proportionalit\u00e4tsfaktor Wirkweise eines P-Glieds \\(y = f(u)=K_p \\cdot u\\) Beispiel: je h\u00f6her die \\(\\text{CO}_2\\) Konzentration in einem Raum, desto schneller dreht sich ein Ventilator in einer L\u00fcftungsanlage \\(y\\) ... Drehfrequenz der Ventilators in \\(Hz\\) \\(u\\) ... \\(\\text{CO}_2\\) Konzentration in \\(ppm\\) \\(K_p\\) ... Proportionalit\u00e4tsfaktor in \\(\\frac{Hz}{ppm}\\) Unabh\u00e4ngig vom Verlauf der Eingangsgr\u00f6\u00dfe \\(u(t)\\) ist der Wert der Ausgangsgr\u00f6\u00dfe \\(y(t)\\) immer proportional \ud83e\udde0 Einheits-Sprungfunktion Eine Funktion, die am Zeitpunkt \\(t=0\\) von \\(u=0\\) auf \\(u=1\\) springt und sonst konstant bleibt beliebtes Werkzeug in die Regelungstechnik: Wie reagiert ein System, wenn wir eine Sprungfunktion an den Eingang legen (auch in der E-Technik!) \ud83e\udde0 Sprungantwort (Reaktion) eines P-Glieds auf eine Sprungfunktion Das Symbol repr\u00e4sentiert die Sprungantwort weitere Beispiele: Entwicklung Spannungsabfall am Ohmschen Widerstand beim Anlegen einer Quellenspannung Antwort eines Helligkeitssensors auf Lichteinfall Lunze Totzeitglied (T-Glied) beschreibt die zeitliche Verz\u00f6gerung, bis ein System auf das Eingangssignal (z.B. der Sprungfunktion) reagiert. Nicht die Tr\u00e4gheit des Systems sondern eine Leerlaufzeit \\(T_t\\) . \ud83e\udde0 Sprungantwort eines T-Glieds auf eine Sprungfunktion \u270d\ufe0f Aufgabe 3_1_0: Proportional mit Totzeitglied \u00d6ffnen Sie Aufgaben\\3_1_0 in scilab xcos Testen Sie verschiedene Werte f\u00fcr den P-Wert beim PID -Block und die Totzeit beim Continuous fix delay -Block Proportionalglied mit Verz\u00f6gerung 1. Ordnung (PT1-Glied) beschreibt Tr\u00e4gheit im System oder eine D\u00e4mpfung n\u00e4hert sich \u00fcber die Zeit einer waagrechten Linie an z.B. Spannung am Kondensator z.B. Temperatur im Raum nach dem Einschalten einer Fu\u00dfbodenheizung Beschr\u00e4nktes Wachstum Es gibt noch viele weitere typische Glieder Mehr dazu beim Thema stetige Regler aus diesen lassen sich komplexe Modelle zusammenstellen lassen (z.B. als Blockschaltbild) Blockschaltbild einer Steuerung Die F\u00fchrungsgr\u00f6\u00dfe ist die Gr\u00f6\u00dfe, welche das Verhalten der Stellglieds bestimmt ( \\(\\rightarrow\\) z.B. die aktuelle Beleuchtungsst\u00e4rke gemessen am Lichtsensor im Freien) Durch das Stellen eines Stellglieds (oder Stelleinrichtung bzw. Aktor) wird die Steuerstrecke beeinflusst ( \\(\\rightarrow\\) Mikrocotroller steuert Spannung an LED an oder aus basierend auf einen Schwellenwert) https://upload.wikimedia.org/wikipedia/commons/6/64/R_S_Block.svg \ud83e\udde0 Steuerung Stellgr\u00f6\u00dfe ist die Ausgangsgr\u00f6\u00dfe des Stellglieds ( \\(\\rightarrow\\) Spannung an der LED) Steuerstrecke ist das System, das durch die Stellgr\u00f6\u00dfe und St\u00f6rgr\u00f6\u00dfen beeinflusst wird ( \\(\\rightarrow\\) Helligkeit im Raum) Auf die Steuerstrecke wirken neben der Stellgr\u00f6\u00dfe aus St\u00f6rgr\u00f6\u00dfen ( \\(\\rightarrow\\) Lichteinfall von Au\u00dfen, weitere nicht gesteuerte Lichtquellen im Raum) https://upload.wikimedia.org/wikipedia/commons/6/64/R_S_Block.svg Stellglied ist nun kein standardisiertes Glied, sondern hat eine spezielle Funktion die sich aus Hard- und Software ergibt diese beinhaltet Steuerungslogik und physikalische Umsetzung zeitliche Reaktion meist nicht unmittelbar, sondern verz\u00f6gert (z.B. Rechenzeit als Totzeit) def l_set ( p_act , h_room , PAR_SETPT , l_man ): return ( p_act and h_room < PAR_SETPT ) or l_man Steuerstrecke beschreibt die echte Welt h\u00e4ufig in vereinfachten Modellen zeitliche Reaktion meist nicht unmittelbar (z.B. PT1-Glied) def beleuchtungsstraerke_raum_lux ( lichtabgabe_led , lichteinfall_aussen , wand_farbe ): # Gr\u00f6\u00dfe des Raumes # Gr\u00f6\u00dfe der Fenster # Reflexion der W\u00e4nde <...> return beleuchtungsstraerke_raum_lux def raumtemperatur ( heizleistung_in_w , aussen_temp_in_c ): # Temperatur im Zeitpunkt zuvor # Tr\u00e4gheit der Temperatur\u00e4nderung # Gr\u00f6\u00dfe des Raumes # Isolation der Raumes <...> return raum_temp_in_c Simulation mit scilab xcos Installieren Sie scilab xcos Xcos ist ein grafischer Editor f\u00fcr Blockschaltbilder die Funktionalit\u00e4t entspricht in etwa matlab simulink allerdings ist die Software open source und kostenlos \u270d\ufe0f Aufgabe 3_1_1: Wassertank ohne Steuerung passen Sie den Inflow an in so an, dass der Tank langsamer \u00fcberl\u00e4uft \u270d\ufe0f Aufgabe 3_1_2: Einfache Tageslichtschaltung passen Sie den Threshold in Dynamic in Aufgaben\\3_1_2 so an, dass die LED bei einer Helligkeit von 220 Lux angeht Zwei-Punkt Regelung Vorteile einfach zu verstehen und zu implementieren regelabweichung = soll_lux - ist_lux zweipunkt_regler ( regelabweichung ): if regelabweichung > 0 : licht = True else : licht = False return licht Vorsicht: Wir greifen hier zum Thema Regelung vor, setzen den Regler aber in einer Steuerung ohne Regelkreis ein! Probleme Zwei-Punkt Regelung Nachteile bei zeitlich wenig tr\u00e4gen Systemen Regler schaltet st\u00e4ndig zwischen den Ausgangswerten kritisch insbesondere bei mechanische Belastung z.B. Motor wird st\u00e4ndig an und aus geschaltet Hysterese bewirkt eine Schalttoleranz ober- und unterhalb des Sollwerts def zweipunkt_hysterese ( ist_lux , on_level , off_level , letzter_zustand ): if ist_lux > off_level : licht = False elif ist_lux < on_level : licht = True else : licht = letzter_zustand return licht class zweipunkt_hysterese (): def __init__ ( self , on_level , off_level ): self . on_level = on_level self . off_level = off_level self . letzter_zustand = False def calc_output ( self , ist_lux ): if ist_lux > self . off_level : self . letzter_zustand = False elif ist_lux < self . on_level : self . letzter_zustand = True return self . letzter_zustand https://www.wikiwand.com/de/Methode_der_harmonischen_Balance#Media/Datei:Zweipunktkennlinie.png https://www.youtube.com/watch?v=nC5ZPEPtH9w Drei-Punkt Regelung vermeidet st\u00e4ndiges Umschalten sinnvoll bei Neutralstellung z.B. Motoren drei_punk_regler ( abstand ): if abstand > 6 : fahre = \"vorw\u00e4rts\" elif abstand < 4 : fahre = \"r\u00fcckw\u00e4rts\" else : fahre = \"nicht\" return fahre bewegung = drei_punk_regler ( abstand ) \u270d\ufe0f Aufgabe 3_1_3: Einfache Tageslichtschaltung Ersetzen Sie den Schalter Dynamic mit einem Hystereseschalter","title":"Blockschaltbild "},{"location":"3_1_Blockschaltbild/#blockschaltbild","text":"","title":"Blockschaltbild"},{"location":"3_1_Blockschaltbild/#blockschaltbild_1","text":"Grafische Beschreibung von Systemen in der Regelungs- und Steuerungstechnik Systeme werden durch Bl\u00f6cke dargestellt, die durch Pfeile verbunden sind z.B. Steuerungsfunktion (z.B. in Python) z.B. thermodynamisches Modell eines Raums I.d.R. besch\u00e4ftigen wir uns mit dynamischen Systemen Die Ausgangsgr\u00f6\u00dfe h\u00e4ngt nicht nur von den Eingangsgr\u00f6\u00dfen ab (vgl. Funktion) sondern auch vom Systemzustand und damit inneren Zustandsgr\u00f6\u00dfen (vgl. Objekt)","title":"Blockschaltbild"},{"location":"3_1_Blockschaltbild/#lunze","text":"","title":"Lunze"},{"location":"3_1_Blockschaltbild/#dynamische-systeme","text":"lineare Systeme: Systemfunktion ist eine lineare Funktion nichtlineare Systeme: Systemfunktion ist eine nichtlineare Funktion zeitinvariante Systeme: Systemfunktion ist unabh\u00e4ngig von der Zeit zeitvariante Systeme: Systemfunktion ist abh\u00e4ngig von der Zeit Totzeit: Systemfunktion ist eine Funktion der Zeit, die f\u00fcr \\(t<0\\) verschwindet","title":"Dynamische Systeme"},{"location":"3_1_Blockschaltbild/#elemente-eines-blockschaltbildes","text":"\u00dcbertragungsglieder beschreiben Systeme mit deren Eigenschaften / Funktionen Pfeile die Ein- und Ausgangsgr\u00f6\u00dfen Komplexe Systeme k\u00f6nnen durch mehrere Systeme zusammengesetzt werden Systeme werden im Zeitbereich durch ihre Funktionsbeziehung zwischen Ausgang \\(y\\) und Eingang \\(u\\) unterschieden \\(f(u)=y\\)","title":"Elemente eines Blockschaltbildes"},{"location":"3_1_Blockschaltbild/#proportionalglied-p-glied","text":"Linear und zeitinvariant Beschreibt Systeme mit direktem proportionaler Systemfunktion \\(f\\) f\u00fcr den Zusammenhang zwischen Eingang ( \\(u\\) ) und Ausgang ( \\(y\\) ) \\(y = f(u)=K_p \\cdot u\\) \\(K_p\\) ... Proportionalit\u00e4tsfaktor","title":"Proportionalglied (P-Glied)"},{"location":"3_1_Blockschaltbild/#wirkweise-eines-p-glieds","text":"\\(y = f(u)=K_p \\cdot u\\) Beispiel: je h\u00f6her die \\(\\text{CO}_2\\) Konzentration in einem Raum, desto schneller dreht sich ein Ventilator in einer L\u00fcftungsanlage \\(y\\) ... Drehfrequenz der Ventilators in \\(Hz\\) \\(u\\) ... \\(\\text{CO}_2\\) Konzentration in \\(ppm\\) \\(K_p\\) ... Proportionalit\u00e4tsfaktor in \\(\\frac{Hz}{ppm}\\) Unabh\u00e4ngig vom Verlauf der Eingangsgr\u00f6\u00dfe \\(u(t)\\) ist der Wert der Ausgangsgr\u00f6\u00dfe \\(y(t)\\) immer proportional","title":"Wirkweise eines P-Glieds"},{"location":"3_1_Blockschaltbild/#einheits-sprungfunktion","text":"Eine Funktion, die am Zeitpunkt \\(t=0\\) von \\(u=0\\) auf \\(u=1\\) springt und sonst konstant bleibt beliebtes Werkzeug in die Regelungstechnik: Wie reagiert ein System, wenn wir eine Sprungfunktion an den Eingang legen (auch in der E-Technik!)","title":"\ud83e\udde0 Einheits-Sprungfunktion"},{"location":"3_1_Blockschaltbild/#sprungantwort-reaktion-eines-p-glieds-auf-eine-sprungfunktion","text":"Das Symbol repr\u00e4sentiert die Sprungantwort weitere Beispiele: Entwicklung Spannungsabfall am Ohmschen Widerstand beim Anlegen einer Quellenspannung Antwort eines Helligkeitssensors auf Lichteinfall","title":"\ud83e\udde0 Sprungantwort (Reaktion) eines P-Glieds auf eine Sprungfunktion"},{"location":"3_1_Blockschaltbild/#lunze_1","text":"","title":"Lunze"},{"location":"3_1_Blockschaltbild/#totzeitglied-t-glied","text":"beschreibt die zeitliche Verz\u00f6gerung, bis ein System auf das Eingangssignal (z.B. der Sprungfunktion) reagiert. Nicht die Tr\u00e4gheit des Systems sondern eine Leerlaufzeit \\(T_t\\) .","title":"Totzeitglied (T-Glied)"},{"location":"3_1_Blockschaltbild/#sprungantwort-eines-t-glieds-auf-eine-sprungfunktion","text":"","title":"\ud83e\udde0 Sprungantwort eines T-Glieds auf eine Sprungfunktion"},{"location":"3_1_Blockschaltbild/#aufgabe-3_1_0-proportional-mit-totzeitglied","text":"\u00d6ffnen Sie Aufgaben\\3_1_0 in scilab xcos Testen Sie verschiedene Werte f\u00fcr den P-Wert beim PID -Block und die Totzeit beim Continuous fix delay -Block","title":"\u270d\ufe0f Aufgabe 3_1_0: Proportional mit Totzeitglied"},{"location":"3_1_Blockschaltbild/#proportionalglied-mit-verzogerung-1-ordnung-pt1-glied","text":"beschreibt Tr\u00e4gheit im System oder eine D\u00e4mpfung n\u00e4hert sich \u00fcber die Zeit einer waagrechten Linie an z.B. Spannung am Kondensator z.B. Temperatur im Raum nach dem Einschalten einer Fu\u00dfbodenheizung Beschr\u00e4nktes Wachstum Es gibt noch viele weitere typische Glieder Mehr dazu beim Thema stetige Regler aus diesen lassen sich komplexe Modelle zusammenstellen lassen (z.B. als Blockschaltbild)","title":"Proportionalglied mit Verz\u00f6gerung 1. Ordnung (PT1-Glied)"},{"location":"3_1_Blockschaltbild/#blockschaltbild-einer-steuerung","text":"Die F\u00fchrungsgr\u00f6\u00dfe ist die Gr\u00f6\u00dfe, welche das Verhalten der Stellglieds bestimmt ( \\(\\rightarrow\\) z.B. die aktuelle Beleuchtungsst\u00e4rke gemessen am Lichtsensor im Freien) Durch das Stellen eines Stellglieds (oder Stelleinrichtung bzw. Aktor) wird die Steuerstrecke beeinflusst ( \\(\\rightarrow\\) Mikrocotroller steuert Spannung an LED an oder aus basierend auf einen Schwellenwert)","title":"Blockschaltbild einer Steuerung"},{"location":"3_1_Blockschaltbild/#httpsuploadwikimediaorgwikipediacommons664r_s_blocksvg","text":"","title":"https://upload.wikimedia.org/wikipedia/commons/6/64/R_S_Block.svg"},{"location":"3_1_Blockschaltbild/#steuerung","text":"Stellgr\u00f6\u00dfe ist die Ausgangsgr\u00f6\u00dfe des Stellglieds ( \\(\\rightarrow\\) Spannung an der LED) Steuerstrecke ist das System, das durch die Stellgr\u00f6\u00dfe und St\u00f6rgr\u00f6\u00dfen beeinflusst wird ( \\(\\rightarrow\\) Helligkeit im Raum) Auf die Steuerstrecke wirken neben der Stellgr\u00f6\u00dfe aus St\u00f6rgr\u00f6\u00dfen ( \\(\\rightarrow\\) Lichteinfall von Au\u00dfen, weitere nicht gesteuerte Lichtquellen im Raum)","title":"\ud83e\udde0 Steuerung"},{"location":"3_1_Blockschaltbild/#httpsuploadwikimediaorgwikipediacommons664r_s_blocksvg_1","text":"","title":"https://upload.wikimedia.org/wikipedia/commons/6/64/R_S_Block.svg"},{"location":"3_1_Blockschaltbild/#stellglied","text":"ist nun kein standardisiertes Glied, sondern hat eine spezielle Funktion die sich aus Hard- und Software ergibt diese beinhaltet Steuerungslogik und physikalische Umsetzung zeitliche Reaktion meist nicht unmittelbar, sondern verz\u00f6gert (z.B. Rechenzeit als Totzeit) def l_set ( p_act , h_room , PAR_SETPT , l_man ): return ( p_act and h_room < PAR_SETPT ) or l_man","title":"Stellglied"},{"location":"3_1_Blockschaltbild/#steuerstrecke","text":"beschreibt die echte Welt h\u00e4ufig in vereinfachten Modellen zeitliche Reaktion meist nicht unmittelbar (z.B. PT1-Glied) def beleuchtungsstraerke_raum_lux ( lichtabgabe_led , lichteinfall_aussen , wand_farbe ): # Gr\u00f6\u00dfe des Raumes # Gr\u00f6\u00dfe der Fenster # Reflexion der W\u00e4nde <...> return beleuchtungsstraerke_raum_lux def raumtemperatur ( heizleistung_in_w , aussen_temp_in_c ): # Temperatur im Zeitpunkt zuvor # Tr\u00e4gheit der Temperatur\u00e4nderung # Gr\u00f6\u00dfe des Raumes # Isolation der Raumes <...> return raum_temp_in_c","title":"Steuerstrecke"},{"location":"3_1_Blockschaltbild/#simulation-mit-scilab-xcos","text":"Installieren Sie scilab xcos Xcos ist ein grafischer Editor f\u00fcr Blockschaltbilder die Funktionalit\u00e4t entspricht in etwa matlab simulink allerdings ist die Software open source und kostenlos","title":"Simulation mit scilab xcos"},{"location":"3_1_Blockschaltbild/#aufgabe-3_1_1-wassertank-ohne-steuerung","text":"passen Sie den Inflow an in so an, dass der Tank langsamer \u00fcberl\u00e4uft","title":"\u270d\ufe0f Aufgabe 3_1_1: Wassertank ohne Steuerung"},{"location":"3_1_Blockschaltbild/#aufgabe-3_1_2-einfache-tageslichtschaltung","text":"passen Sie den Threshold in Dynamic in Aufgaben\\3_1_2 so an, dass die LED bei einer Helligkeit von 220 Lux angeht","title":"\u270d\ufe0f Aufgabe 3_1_2: Einfache Tageslichtschaltung"},{"location":"3_1_Blockschaltbild/#zwei-punkt-regelung","text":"Vorteile einfach zu verstehen und zu implementieren regelabweichung = soll_lux - ist_lux zweipunkt_regler ( regelabweichung ): if regelabweichung > 0 : licht = True else : licht = False return licht","title":"Zwei-Punkt Regelung"},{"location":"3_1_Blockschaltbild/#vorsicht-wir-greifen-hier-zum-thema-regelung-vor-setzen-den-regler-aber-in-einer-steuerung-ohne-regelkreis-ein","text":"","title":"Vorsicht: Wir greifen hier zum Thema Regelung vor, setzen den Regler aber in einer Steuerung ohne Regelkreis ein!"},{"location":"3_1_Blockschaltbild/#probleme-zwei-punkt-regelung","text":"Nachteile bei zeitlich wenig tr\u00e4gen Systemen Regler schaltet st\u00e4ndig zwischen den Ausgangswerten kritisch insbesondere bei mechanische Belastung z.B. Motor wird st\u00e4ndig an und aus geschaltet","title":"Probleme Zwei-Punkt Regelung"},{"location":"3_1_Blockschaltbild/#hysterese","text":"bewirkt eine Schalttoleranz ober- und unterhalb des Sollwerts def zweipunkt_hysterese ( ist_lux , on_level , off_level , letzter_zustand ): if ist_lux > off_level : licht = False elif ist_lux < on_level : licht = True else : licht = letzter_zustand return licht class zweipunkt_hysterese (): def __init__ ( self , on_level , off_level ): self . on_level = on_level self . off_level = off_level self . letzter_zustand = False def calc_output ( self , ist_lux ): if ist_lux > self . off_level : self . letzter_zustand = False elif ist_lux < self . on_level : self . letzter_zustand = True return self . letzter_zustand","title":"Hysterese"},{"location":"3_1_Blockschaltbild/#httpswwwwikiwandcomdemethode_der_harmonischen_balancemediadateizweipunktkennliniepng","text":"","title":"https://www.wikiwand.com/de/Methode_der_harmonischen_Balance#Media/Datei:Zweipunktkennlinie.png"},{"location":"3_1_Blockschaltbild/#httpswwwyoutubecomwatchvnc5zpepth9w","text":"","title":"https://www.youtube.com/watch?v=nC5ZPEPtH9w"},{"location":"3_1_Blockschaltbild/#drei-punkt-regelung","text":"vermeidet st\u00e4ndiges Umschalten sinnvoll bei Neutralstellung z.B. Motoren drei_punk_regler ( abstand ): if abstand > 6 : fahre = \"vorw\u00e4rts\" elif abstand < 4 : fahre = \"r\u00fcckw\u00e4rts\" else : fahre = \"nicht\" return fahre bewegung = drei_punk_regler ( abstand )","title":"Drei-Punkt Regelung"},{"location":"3_1_Blockschaltbild/#aufgabe-3_1_3-einfache-tageslichtschaltung","text":"Ersetzen Sie den Schalter Dynamic mit einem Hystereseschalter","title":"\u270d\ufe0f Aufgabe 3_1_3: Einfache Tageslichtschaltung"},{"location":"3_2_Regelkreis/","text":"Regelkreise Beispiel Konstantlicht-Regelung regelt die Raumbeleuchtung oder Teile davon bei Belegung automatisch so, dass eine eingestellte Mindestbeleuchtungsst\u00e4rke nicht unterschritten wird Im Gegensatz zur Tageslichtschaltung, soll es aber auch nicht unn\u00f6tig hell sein, wenn es drau\u00dfen schon hell ist Konstantlichtregelung Lichtst\u00e4rke kann (quasi) stetig gesteuert werden (z.B. \u00fcber Dimmer oder Pulsweitenmodulation) \u270d\ufe0f Aufgabe 3_2_1: Konstantlicht-Regelung Laden Sie die Datei Konstantlicht_nur_p.zcos und passen Sie den P-Parameter in PID -Baustein an und beobachten Sie die Reaktion des Systems Welche Komponenten werden durch welche Bausteine dargestellt? Proportional-Regler Reaktion der Stellgr\u00f6\u00dfe bzw. Steuerungsgr\u00f6\u00dfe \\(u(t)=K_P \\cdot e(t)\\) multipliziert die Regelabweichung \\(e_t\\) mit dem Verst\u00e4rkungsfaktor \\(K_P\\) und gibt das Ergebnis aus je dunkler \\(y_m\\) im Verh\u00e4ltnis zur F\u00fchrungsgr\u00f6\u00dfe ( \\(w\\) ), desto heller die Beleuchtung ( \\(u\\) ) Reaktion der Stellgr\u00f6\u00dfe: $ u(t)=K_P \\cdot e(t)$ def p - regler ( e , k_p ): ausgang = e * k_p return ausgang \u270d\ufe0f Aufgabe 3_2_2: Regelung der CO2-Konzentration Ziel ist der Entwurf eines Reglers zur Steuerung einer Bel\u00fcftungsanlage auf Basis der Schadstoffkonzentration im Raum in ppm Zeichnen Sie den Verlauf der Stellgr\u00f6\u00dfen (Drehzahl der Anlage) f\u00fcr folgende zwei Regler: stetiger Proportionalregler: \\(u(t) = \\frac{2}{min \\cdot ppm} e(t)\\) Regelung nach Logik n\u00e4chste Seite. L\u00f6sung L\u00f6sung def regler ( e , letzte_drehzahl ): if e == 1000 : drehzahl = letzte_drehzahl else : if e > 1000 : drehzahl = e else : drehzahl = 0 return drehzahl Zusammenfassung P-Regler P-Glied, welches als Regler eingesetzt wird Zeitverhalten: reagiert unverz\u00f6gert bleibende Regelabweichung bei Systemen mit Ausgleich (Regelstrecken die bei konstantem Eingang einen konstanten Wert anstreben) \u270d\ufe0f Aufgabe 3_2_3: Wassertank mit PID-Regler Entfernen Sie den I und D-Anteil des PID-Reglers und beobachten Sie die Reaktion des Systems \ud83e\udde0 Integral-Regler Antwort \\(u(t)\\) auf Sprung unmittelbar, jedoch nicht sofort mit voller St\u00e4rke Je l\u00e4nger ( \\(t\\) ) die Regelabweichung besteht und umso gr\u00f6\u00dfer sie ist, desto st\u00e4rker die Antwort \\(u(t)=\\frac{1}{T_n}\\int_0^te(\\tau)d\\tau\\) Abbildung rechts ist Reaktion auf Sprungfunktion \\(u(t)=\\frac{1}{T_n}\\int_0^te(\\tau)d\\tau\\) \\(u(t)=K_I \\cdot \\int_0^te(\\tau)d\\tau\\) \\(T_n\\) ... Nachstellzeit bestimmt den Gradienten des Anstieges von \\(u\\) summiert die Regelabweichung \u00fcber die Zeit auf Regelabweichungen werden auch bei Strecken mit Ausgleich vollst\u00e4ndig eliminiert , daf\u00fcr langsamer Proportional-Integral-Regler Sprungantwort: \\(u(t)=K_Pe(t) + K_I \\cdot \\int_0^te(\\tau)d\\tau\\) PI-Regler Kombination aus P- und I-Regler schnelle Reaktion (wie P-Regler) exakte Ausregelung ohne eine bleibende Regelabweichung (wie I-Regler) \ud83e\udde0 Proportional-Differenzial-Regler Sprungantwort: \\(u(t)=K_Pe(t)+K_d \\frac{de(t)}{dt}=K_Pe(t)+T_v \\frac{de(t)}{dt}\\) kombiniert P-Regler mit Differenzial-Anteil der D-Anteil bewertet die \u00c4nderung einer Regelabweichung (differenziert) und berechnet so deren \u00c4nderungsgeschwindigkeit reagiert schon auf \"Ank\u00fcndigungen\" von Ver\u00e4nderungen sehr schnell , doch bleibende Regelabweichung Unruhe im Regelkreis wird verst\u00e4rkt, wenn Sensorsignal verrauscht \u270d\ufe0f Aufgabe 3_2_4: Reaktion D-Regler \u270d\ufe0f Wie sieht die Reaktion aus?","title":"Regelkreis"},{"location":"3_2_Regelkreis/#regelkreise","text":"","title":"Regelkreise"},{"location":"3_2_Regelkreis/#beispiel-konstantlicht-regelung","text":"regelt die Raumbeleuchtung oder Teile davon bei Belegung automatisch so, dass eine eingestellte Mindestbeleuchtungsst\u00e4rke nicht unterschritten wird Im Gegensatz zur Tageslichtschaltung, soll es aber auch nicht unn\u00f6tig hell sein, wenn es drau\u00dfen schon hell ist","title":"Beispiel Konstantlicht-Regelung"},{"location":"3_2_Regelkreis/#konstantlichtregelung","text":"Lichtst\u00e4rke kann (quasi) stetig gesteuert werden (z.B. \u00fcber Dimmer oder Pulsweitenmodulation)","title":"Konstantlichtregelung"},{"location":"3_2_Regelkreis/#aufgabe-3_2_1-konstantlicht-regelung","text":"Laden Sie die Datei Konstantlicht_nur_p.zcos und passen Sie den P-Parameter in PID -Baustein an und beobachten Sie die Reaktion des Systems Welche Komponenten werden durch welche Bausteine dargestellt?","title":"\u270d\ufe0f Aufgabe 3_2_1: Konstantlicht-Regelung"},{"location":"3_2_Regelkreis/#proportional-regler","text":"Reaktion der Stellgr\u00f6\u00dfe bzw. Steuerungsgr\u00f6\u00dfe \\(u(t)=K_P \\cdot e(t)\\) multipliziert die Regelabweichung \\(e_t\\) mit dem Verst\u00e4rkungsfaktor \\(K_P\\) und gibt das Ergebnis aus je dunkler \\(y_m\\) im Verh\u00e4ltnis zur F\u00fchrungsgr\u00f6\u00dfe ( \\(w\\) ), desto heller die Beleuchtung ( \\(u\\) ) Reaktion der Stellgr\u00f6\u00dfe: $ u(t)=K_P \\cdot e(t)$ def p - regler ( e , k_p ): ausgang = e * k_p return ausgang","title":"Proportional-Regler"},{"location":"3_2_Regelkreis/#aufgabe-3_2_2-regelung-der-co2-konzentration","text":"Ziel ist der Entwurf eines Reglers zur Steuerung einer Bel\u00fcftungsanlage auf Basis der Schadstoffkonzentration im Raum in ppm Zeichnen Sie den Verlauf der Stellgr\u00f6\u00dfen (Drehzahl der Anlage) f\u00fcr folgende zwei Regler: stetiger Proportionalregler: \\(u(t) = \\frac{2}{min \\cdot ppm} e(t)\\) Regelung nach Logik n\u00e4chste Seite.","title":"\u270d\ufe0f Aufgabe 3_2_2: Regelung der CO2-Konzentration"},{"location":"3_2_Regelkreis/#losung","text":"","title":"L\u00f6sung"},{"location":"3_2_Regelkreis/#losung_1","text":"def regler ( e , letzte_drehzahl ): if e == 1000 : drehzahl = letzte_drehzahl else : if e > 1000 : drehzahl = e else : drehzahl = 0 return drehzahl","title":"L\u00f6sung"},{"location":"3_2_Regelkreis/#zusammenfassung-p-regler","text":"P-Glied, welches als Regler eingesetzt wird Zeitverhalten: reagiert unverz\u00f6gert bleibende Regelabweichung bei Systemen mit Ausgleich (Regelstrecken die bei konstantem Eingang einen konstanten Wert anstreben)","title":"Zusammenfassung P-Regler"},{"location":"3_2_Regelkreis/#aufgabe-3_2_3-wassertank-mit-pid-regler","text":"Entfernen Sie den I und D-Anteil des PID-Reglers und beobachten Sie die Reaktion des Systems","title":"\u270d\ufe0f Aufgabe 3_2_3: Wassertank mit PID-Regler"},{"location":"3_2_Regelkreis/#integral-regler","text":"Antwort \\(u(t)\\) auf Sprung unmittelbar, jedoch nicht sofort mit voller St\u00e4rke Je l\u00e4nger ( \\(t\\) ) die Regelabweichung besteht und umso gr\u00f6\u00dfer sie ist, desto st\u00e4rker die Antwort \\(u(t)=\\frac{1}{T_n}\\int_0^te(\\tau)d\\tau\\)","title":"\ud83e\udde0 Integral-Regler"},{"location":"3_2_Regelkreis/#abbildung-rechts-ist-reaktion-auf-sprungfunktion","text":"\\(u(t)=\\frac{1}{T_n}\\int_0^te(\\tau)d\\tau\\) \\(u(t)=K_I \\cdot \\int_0^te(\\tau)d\\tau\\) \\(T_n\\) ... Nachstellzeit bestimmt den Gradienten des Anstieges von \\(u\\) summiert die Regelabweichung \u00fcber die Zeit auf Regelabweichungen werden auch bei Strecken mit Ausgleich vollst\u00e4ndig eliminiert , daf\u00fcr langsamer","title":"Abbildung rechts ist Reaktion auf Sprungfunktion"},{"location":"3_2_Regelkreis/#proportional-integral-regler","text":"Sprungantwort: \\(u(t)=K_Pe(t) + K_I \\cdot \\int_0^te(\\tau)d\\tau\\) PI-Regler Kombination aus P- und I-Regler schnelle Reaktion (wie P-Regler) exakte Ausregelung ohne eine bleibende Regelabweichung (wie I-Regler)","title":"Proportional-Integral-Regler"},{"location":"3_2_Regelkreis/#proportional-differenzial-regler","text":"Sprungantwort: \\(u(t)=K_Pe(t)+K_d \\frac{de(t)}{dt}=K_Pe(t)+T_v \\frac{de(t)}{dt}\\) kombiniert P-Regler mit Differenzial-Anteil der D-Anteil bewertet die \u00c4nderung einer Regelabweichung (differenziert) und berechnet so deren \u00c4nderungsgeschwindigkeit reagiert schon auf \"Ank\u00fcndigungen\" von Ver\u00e4nderungen sehr schnell , doch bleibende Regelabweichung Unruhe im Regelkreis wird verst\u00e4rkt, wenn Sensorsignal verrauscht","title":"\ud83e\udde0 Proportional-Differenzial-Regler"},{"location":"3_2_Regelkreis/#aufgabe-3_2_4-reaktion-d-regler","text":"\u270d\ufe0f Wie sieht die Reaktion aus?","title":"\u270d\ufe0f Aufgabe 3_2_4: Reaktion D-Regler"},{"location":"3_3_Regelverhalten/","text":"Regelverhalten \ud83e\udde0 PID-Regler universellste der klassischen Regler Der PID-geregelte Kreis ist genau und sehr schnell, deshalb wird er bevorzugt in den meisten Anwendungen eingesetzt \\(u(t)=K_P \\cdot e(t) + \\frac{1}{T_N}\\int_0^te(\\tau)d\\tau + T_v \\frac{de(t)}{dt}\\) Systeme ohne zeitliche Verz\u00f6gerung alle Systeme reagieren unmittelbar auf Ver\u00e4nderungen der Eing\u00e4nge z.B. wird die Lichtst\u00e4rke der Lampe ( \\(u_r\\) ) erh\u00f6ht, erh\u00f6ht sich die Helligkeit im Raum ( \\(y\\) ) Systeme mit zeitlicher Verz\u00f6gerung z.B. mit Erh\u00f6hung des Durchfluss durch die Heizung ( \\(u_r\\) ) erw\u00e4rmt sich der Raum nur langsam ( \\(y\\) ). Das Thermometer gibt die gemessene Temperatur ( \\(y_m\\) ) nur mit Verz\u00f6gerung weiter Bestimmung des dynamischen Verhaltens Ziel der Regelungstechnik ist es ein erw\u00fcnschtes Verhalten der Regelgr\u00f6\u00dfe \\(y\\) zu erhalten Mathematische Beschreibung und Analyse Simulationsprogramme: z.B. Matlab Simulink oder Scilab Xcos https://www.samsongroup.com/document/l102de.pdf Fazit Zeitverhalten von Regelkreisen wird durch alle Komponenten (Zeitverhalten) und die Einstellung des Reglers (gew\u00e4hlte Parameter) beeinflusst komplexere Regelkreise m\u00fcssen als Gesamtheit betrachtet werden Beobachtung am echten System Modellierung durch Vereinfachung (Regelungstechnik) Kalibrierung am realen System Regelverlauf der verschiedenen Reglertypen im Zeitverlauf Reaktion auf Sprungfunktion im einfachen Regelkreis Deutlich wird die bleibende Regelabweichung des P-Reglers Das schnelle Verhalten der Regler mit D-Anteil https://rn-wissen.de/wiki/index.php/Regelungstechnik Kriterien zur Beurteilung eines Regelkreises F\u00fchrungsverhalten bei Anregung mit Sprungfunktion: Ausregelzeit \\(t_\\epsilon\\) : gibt den Zeitpunkt an, ab dem die Regelabweichung kleiner als eine vorgegebene Schranke \\(\u00b1\\epsilon\\) ist. Maximale \u00dcberschwingweite \\(e_{max}\\) : gibt den Betrag der maximalen Regelabweichung an, die nach dem erstmaligen Erreichen des Sollwertes auftritt https://srv.ifr.ing.tu-bs.de/static/files/lehre/vorlesungen/gdr/Skript_GdR.pdf Regelfl\u00e4che Regelfl\u00e4che : Die Fl\u00e4che zwischen F\u00fchrungsgr\u00f6\u00dfe und Ist-Wert kann als Ma\u00df definiert werden. Besonders sinnvoll ist die Beurteilung mittels der Regelfl\u00e4che allerdings nur, wenn kein \u00dcberschwingen auftritt Alternativ z.B. Absolutwert des Integrals der Regelfl\u00e4che https://srv.ifr.ing.tu-bs.de/static/files/lehre/vorlesungen/gdr/Skript_GdR.pdf Praktische \u00dcberlegungen Um eine gew\u00fcnschtes Regelverhalten zu erreichen, muss ein geeigneter Regler mit den passenden Faktoren (z.B. Verst\u00e4rkungsfaktor \\(K_P\\) ) ausgew\u00e4hlt oder kalibriert werden. Hier l\u00e4sst sich entweder ein Modell der Regelstrecke bilden. In der Praxis werden Regelkreise h\u00e4ufig durch Ausprobieren von Reglere instellungen eines PID-Regler kalibriert. \ud83e\udd13 Praktische \u00dcberlegungen PID-Regler https://de.wikipedia.org/wiki/Faustformelverfahren_(Automatisierungstechnik) \u270d\ufe0f Aufgabe 3_3_1: Auswahl Reglerverhalten Welchen Reglerverlauf w\u00fcnschen Sie sich f\u00fcr folgende Anwendungen - Startoptimierung der Raumtemperatur (unter Energieffizienzgesichtspunkten) - Konstantlichtregelung (Beleuchtung aus Komfortgesichtspunkten) - Bewegungssteuerung eines Laufroboters https://de.wikipedia.org/wiki/Faustformelverfahren_(Automatisierungstechnik) L\u00f6sung Welchen Reglerverlauf w\u00fcnschen Sie sich f\u00fcr folgende Anwendungen - Startoptimierung der Raumtemperatur (unter Energieffizinzgesichtspunkten) * Langsam kein \u00dcberschwingen - Konstantlichtregelung (Beleuchtung aus Komfortgesichtspunkten) * Langsam kein \u00dcberschwingen - Bewegungssteuerung eines Laufroboters * Schnell, minimales \u00dcberschwingen https://de.wikipedia.org/wiki/Faustformelverfahren_(Automatisierungstechnik) Beispiele Hardware PID-Regler https://www.reichelt.at/at/de/pid-regler-quantrol-lc100-5--55-c-quan-lc100-d-24-p147710.html?PROVID=2807 Software Baustein PID-Regler Eing\u00e4nge rW : Sollwert rX : Istwert Eingangsparameter rKp : Proportionalfaktor Verst\u00e4rkung tTi : Integrierzeit [s] tTv : Vorhaltezeit [s] Ausg\u00e4nge rY : Stellgr\u00f6\u00dfe rXW : Regelabweichung https://infosys.beckhoff.com/index.php?content=../content/1031/tf8000_tc3_hvac/4685059723.html&id= Methode von Ziegler und Nichols heuristisches Verfahren zur Bestimmung von Reglerparametern nur f\u00fcr existierenden stabile Anlagen geeignet oder bei denen instabiles Verhalten keine Sch\u00e4den verursachen kann Eigenschaft Regelstrecke und P-Regler dynamischen Eigenschaften h\u00e4ngen stark vom Verst\u00e4rkungsfaktor ( \\(K_P\\) ) des Gesamtsystems ab. Ab bestimmtem \\(K_P^{krit}\\) beginnt die Regelgr\u00f6\u00dfe zu schwingen (Stabilit\u00e4tsgrenze) http://www.chemgapedia.de/vsengine/vlu/vsc/de/ch/7/tc/regelung/grundlagen/regelung_grundlagen.vlu/Page/vsc/de/ch/7/tc/regelung/grundlagen/regparam/regparam.vscml.html Umformung mit Vorhalt- und Nachstellzeit f\u00fcr PID-Regler: Neben der Darstellung mit Vorhalte- und Nachhaltezeit findet sich auch h\u00e4ufig eine Darstellung mit Faktoren ( \\(K\\) ): \\(u(t)=K_P \\cdot e(t) + \\frac{1}{T_N}\\int_0^te(\\tau)d\\tau + T_v \\frac{de(t)}{dt}\\) \\(u(t)=K_P e(t) + K_I\\int_0^te(\\tau)d\\tau + K_d \\frac{de(t)}{dt}\\) \\(u(t)=K_P \\cdot [e(t) + \\frac{K_I}{K_P}\\int_0^te(\\tau)d\\tau + \\frac{K_D}{K_P} \\frac{de(t)}{dt}]\\) Vorgehen Methode von Ziegler und Nichols (I) Voreinstellung des Reglers als reiner P-Regler: \\(K_I=0\\) , \\(K_D=0\\) bzw. \\(T_v=0\\) , \\(T_n=\u221e\\) \\(u(t)=K_P e(t) + K_I\\int_0^te(\\tau)d\\tau + K_D \\frac{de(t)}{dt}\\) \\(u(t)=K_P \\cdot [e(t) + \\frac{1}{T_N}\\int_0^te(\\tau)d\\tau + T_v \\frac{de(t)}{dt}]\\) Methode von Ziegler und Nichols (II) * Erh\u00f6hung von \\(K_P\\) (beginnend mit kleinen Werten von \\(K_P\\) ) bis zur Stabilit\u00e4tsgrenze (die Regelgr\u00f6\u00dfe \\(x\\) beginnt gleichma\u00dfig mit konstanter Amplitude zu schwingen) * Ablesen von \\(K_P^{krit}\\) Messung der beobachtbaren Periodendauer \\(T^{krit}\\) * Berechnung der Reglerparameter ( \\(K_P\\) , \\(T_n\\) , \\(T_v\\) ) entsprechend den folgenden Regeln: Ziegler, John G., and Nathaniel B. Nichols. \"Optimum settings for automatic controllers.\" trans. ASME 64.11 (1942) Einstellregeln nach Ziegler und Nichols (III) \\(K_P\\) \\(T_n\\) \\(T_v\\) P-Regler \\(K_P = K_P^{krit} \\cdot 0,5\\) PI-Regler \\(K_P\\) = \\(K_P^{krit} \\cdot 0,45\\) \\(T_n=0,85 \\cdot T^{krit}\\) PID-Regler \\(K_P\\) = \\(K_P^{krit} \\cdot 0,6\\) \\(T_n=0,5 \\cdot T^{krit}\\) \\(T_v=0,12 \\cdot T^{krit}\\) \u270d\ufe0f Aufgabe 3_2_2: Kalibierten Sie den Regler f\u00fcr die folgenden Anwendungen nach der Methode von Ziegler und Nichols: Colab","title":"Regelverhalten"},{"location":"3_3_Regelverhalten/#regelverhalten","text":"","title":"Regelverhalten"},{"location":"3_3_Regelverhalten/#pid-regler","text":"universellste der klassischen Regler Der PID-geregelte Kreis ist genau und sehr schnell, deshalb wird er bevorzugt in den meisten Anwendungen eingesetzt \\(u(t)=K_P \\cdot e(t) + \\frac{1}{T_N}\\int_0^te(\\tau)d\\tau + T_v \\frac{de(t)}{dt}\\)","title":"\ud83e\udde0 PID-Regler"},{"location":"3_3_Regelverhalten/#systeme-ohne-zeitliche-verzogerung","text":"alle Systeme reagieren unmittelbar auf Ver\u00e4nderungen der Eing\u00e4nge z.B. wird die Lichtst\u00e4rke der Lampe ( \\(u_r\\) ) erh\u00f6ht, erh\u00f6ht sich die Helligkeit im Raum ( \\(y\\) )","title":"Systeme ohne zeitliche Verz\u00f6gerung"},{"location":"3_3_Regelverhalten/#systeme-mit-zeitlicher-verzogerung","text":"z.B. mit Erh\u00f6hung des Durchfluss durch die Heizung ( \\(u_r\\) ) erw\u00e4rmt sich der Raum nur langsam ( \\(y\\) ). Das Thermometer gibt die gemessene Temperatur ( \\(y_m\\) ) nur mit Verz\u00f6gerung weiter","title":"Systeme mit zeitlicher Verz\u00f6gerung"},{"location":"3_3_Regelverhalten/#bestimmung-des-dynamischen-verhaltens","text":"Ziel der Regelungstechnik ist es ein erw\u00fcnschtes Verhalten der Regelgr\u00f6\u00dfe \\(y\\) zu erhalten Mathematische Beschreibung und Analyse Simulationsprogramme: z.B. Matlab Simulink oder Scilab Xcos","title":"Bestimmung des dynamischen Verhaltens"},{"location":"3_3_Regelverhalten/#httpswwwsamsongroupcomdocumentl102depdf","text":"","title":"https://www.samsongroup.com/document/l102de.pdf"},{"location":"3_3_Regelverhalten/#fazit","text":"Zeitverhalten von Regelkreisen wird durch alle Komponenten (Zeitverhalten) und die Einstellung des Reglers (gew\u00e4hlte Parameter) beeinflusst komplexere Regelkreise m\u00fcssen als Gesamtheit betrachtet werden Beobachtung am echten System Modellierung durch Vereinfachung (Regelungstechnik) Kalibrierung am realen System","title":"Fazit"},{"location":"3_3_Regelverhalten/#regelverlauf-der-verschiedenen-reglertypen-im-zeitverlauf","text":"Reaktion auf Sprungfunktion im einfachen Regelkreis Deutlich wird die bleibende Regelabweichung des P-Reglers Das schnelle Verhalten der Regler mit D-Anteil","title":"Regelverlauf der verschiedenen Reglertypen im Zeitverlauf"},{"location":"3_3_Regelverhalten/#httpsrn-wissendewikiindexphpregelungstechnik","text":"","title":"https://rn-wissen.de/wiki/index.php/Regelungstechnik"},{"location":"3_3_Regelverhalten/#kriterien-zur-beurteilung-eines-regelkreises","text":"F\u00fchrungsverhalten bei Anregung mit Sprungfunktion: Ausregelzeit \\(t_\\epsilon\\) : gibt den Zeitpunkt an, ab dem die Regelabweichung kleiner als eine vorgegebene Schranke \\(\u00b1\\epsilon\\) ist. Maximale \u00dcberschwingweite \\(e_{max}\\) : gibt den Betrag der maximalen Regelabweichung an, die nach dem erstmaligen Erreichen des Sollwertes auftritt","title":"Kriterien zur Beurteilung eines Regelkreises"},{"location":"3_3_Regelverhalten/#httpssrvifringtu-bsdestaticfileslehrevorlesungengdrskript_gdrpdf","text":"","title":"https://srv.ifr.ing.tu-bs.de/static/files/lehre/vorlesungen/gdr/Skript_GdR.pdf"},{"location":"3_3_Regelverhalten/#regelflache","text":"Regelfl\u00e4che : Die Fl\u00e4che zwischen F\u00fchrungsgr\u00f6\u00dfe und Ist-Wert kann als Ma\u00df definiert werden. Besonders sinnvoll ist die Beurteilung mittels der Regelfl\u00e4che allerdings nur, wenn kein \u00dcberschwingen auftritt Alternativ z.B. Absolutwert des Integrals der Regelfl\u00e4che","title":"Regelfl\u00e4che"},{"location":"3_3_Regelverhalten/#httpssrvifringtu-bsdestaticfileslehrevorlesungengdrskript_gdrpdf_1","text":"","title":"https://srv.ifr.ing.tu-bs.de/static/files/lehre/vorlesungen/gdr/Skript_GdR.pdf"},{"location":"3_3_Regelverhalten/#praktische-uberlegungen","text":"Um eine gew\u00fcnschtes Regelverhalten zu erreichen, muss ein geeigneter Regler mit den passenden Faktoren (z.B. Verst\u00e4rkungsfaktor \\(K_P\\) ) ausgew\u00e4hlt oder kalibriert werden. Hier l\u00e4sst sich entweder ein Modell der Regelstrecke bilden. In der Praxis werden Regelkreise h\u00e4ufig durch Ausprobieren von Reglere instellungen eines PID-Regler kalibriert.","title":"Praktische \u00dcberlegungen"},{"location":"3_3_Regelverhalten/#praktische-uberlegungen-pid-regler","text":"","title":"\ud83e\udd13 Praktische \u00dcberlegungen PID-Regler"},{"location":"3_3_Regelverhalten/#httpsdewikipediaorgwikifaustformelverfahren_automatisierungstechnik","text":"","title":"https://de.wikipedia.org/wiki/Faustformelverfahren_(Automatisierungstechnik)"},{"location":"3_3_Regelverhalten/#aufgabe-3_3_1-auswahl-reglerverhalten","text":"Welchen Reglerverlauf w\u00fcnschen Sie sich f\u00fcr folgende Anwendungen - Startoptimierung der Raumtemperatur (unter Energieffizienzgesichtspunkten) - Konstantlichtregelung (Beleuchtung aus Komfortgesichtspunkten) - Bewegungssteuerung eines Laufroboters","title":"\u270d\ufe0f Aufgabe 3_3_1: Auswahl Reglerverhalten"},{"location":"3_3_Regelverhalten/#httpsdewikipediaorgwikifaustformelverfahren_automatisierungstechnik_1","text":"","title":"https://de.wikipedia.org/wiki/Faustformelverfahren_(Automatisierungstechnik)"},{"location":"3_3_Regelverhalten/#losung","text":"Welchen Reglerverlauf w\u00fcnschen Sie sich f\u00fcr folgende Anwendungen - Startoptimierung der Raumtemperatur (unter Energieffizinzgesichtspunkten) * Langsam kein \u00dcberschwingen - Konstantlichtregelung (Beleuchtung aus Komfortgesichtspunkten) * Langsam kein \u00dcberschwingen - Bewegungssteuerung eines Laufroboters * Schnell, minimales \u00dcberschwingen","title":"L\u00f6sung"},{"location":"3_3_Regelverhalten/#httpsdewikipediaorgwikifaustformelverfahren_automatisierungstechnik_2","text":"","title":"https://de.wikipedia.org/wiki/Faustformelverfahren_(Automatisierungstechnik)"},{"location":"3_3_Regelverhalten/#beispiele","text":"","title":"Beispiele"},{"location":"3_3_Regelverhalten/#hardware-pid-regler","text":"","title":"Hardware PID-Regler"},{"location":"3_3_Regelverhalten/#httpswwwreicheltatatdepid-regler-quantrol-lc100-5-55-c-quan-lc100-d-24-p147710htmlprovid2807","text":"","title":"https://www.reichelt.at/at/de/pid-regler-quantrol-lc100-5--55-c-quan-lc100-d-24-p147710.html?PROVID=2807"},{"location":"3_3_Regelverhalten/#software-baustein-pid-regler","text":"Eing\u00e4nge rW : Sollwert rX : Istwert Eingangsparameter rKp : Proportionalfaktor Verst\u00e4rkung tTi : Integrierzeit [s] tTv : Vorhaltezeit [s] Ausg\u00e4nge rY : Stellgr\u00f6\u00dfe rXW : Regelabweichung","title":"Software Baustein PID-Regler"},{"location":"3_3_Regelverhalten/#httpsinfosysbeckhoffcomindexphpcontentcontent1031tf8000_tc3_hvac4685059723htmlid","text":"","title":"https://infosys.beckhoff.com/index.php?content=../content/1031/tf8000_tc3_hvac/4685059723.html&amp;id="},{"location":"3_3_Regelverhalten/#methode-von-ziegler-und-nichols","text":"heuristisches Verfahren zur Bestimmung von Reglerparametern nur f\u00fcr existierenden stabile Anlagen geeignet oder bei denen instabiles Verhalten keine Sch\u00e4den verursachen kann Eigenschaft Regelstrecke und P-Regler dynamischen Eigenschaften h\u00e4ngen stark vom Verst\u00e4rkungsfaktor ( \\(K_P\\) ) des Gesamtsystems ab. Ab bestimmtem \\(K_P^{krit}\\) beginnt die Regelgr\u00f6\u00dfe zu schwingen (Stabilit\u00e4tsgrenze)","title":"Methode von Ziegler und Nichols"},{"location":"3_3_Regelverhalten/#httpwwwchemgapediadevsenginevluvscdech7tcregelunggrundlagenregelung_grundlagenvlupagevscdech7tcregelunggrundlagenregparamregparamvscmlhtml","text":"","title":"http://www.chemgapedia.de/vsengine/vlu/vsc/de/ch/7/tc/regelung/grundlagen/regelung_grundlagen.vlu/Page/vsc/de/ch/7/tc/regelung/grundlagen/regparam/regparam.vscml.html"},{"location":"3_3_Regelverhalten/#umformung-mit-vorhalt-und-nachstellzeit-fur-pid-regler","text":"Neben der Darstellung mit Vorhalte- und Nachhaltezeit findet sich auch h\u00e4ufig eine Darstellung mit Faktoren ( \\(K\\) ): \\(u(t)=K_P \\cdot e(t) + \\frac{1}{T_N}\\int_0^te(\\tau)d\\tau + T_v \\frac{de(t)}{dt}\\) \\(u(t)=K_P e(t) + K_I\\int_0^te(\\tau)d\\tau + K_d \\frac{de(t)}{dt}\\) \\(u(t)=K_P \\cdot [e(t) + \\frac{K_I}{K_P}\\int_0^te(\\tau)d\\tau + \\frac{K_D}{K_P} \\frac{de(t)}{dt}]\\)","title":"Umformung mit Vorhalt- und Nachstellzeit f\u00fcr PID-Regler:"},{"location":"3_3_Regelverhalten/#vorgehen-methode-von-ziegler-und-nichols-i","text":"Voreinstellung des Reglers als reiner P-Regler: \\(K_I=0\\) , \\(K_D=0\\) bzw. \\(T_v=0\\) , \\(T_n=\u221e\\) \\(u(t)=K_P e(t) + K_I\\int_0^te(\\tau)d\\tau + K_D \\frac{de(t)}{dt}\\) \\(u(t)=K_P \\cdot [e(t) + \\frac{1}{T_N}\\int_0^te(\\tau)d\\tau + T_v \\frac{de(t)}{dt}]\\)","title":"Vorgehen Methode von Ziegler und Nichols (I)"},{"location":"3_3_Regelverhalten/#methode-von-ziegler-und-nichols-ii","text":"* Erh\u00f6hung von \\(K_P\\) (beginnend mit kleinen Werten von \\(K_P\\) ) bis zur Stabilit\u00e4tsgrenze (die Regelgr\u00f6\u00dfe \\(x\\) beginnt gleichma\u00dfig mit konstanter Amplitude zu schwingen) * Ablesen von \\(K_P^{krit}\\) Messung der beobachtbaren Periodendauer \\(T^{krit}\\) * Berechnung der Reglerparameter ( \\(K_P\\) , \\(T_n\\) , \\(T_v\\) ) entsprechend den folgenden Regeln:","title":"Methode von Ziegler und Nichols (II)"},{"location":"3_3_Regelverhalten/#ziegler-john-g-and-nathaniel-b-nichols-optimum-settings-for-automatic-controllers-trans-asme-6411-1942","text":"","title":"Ziegler, John G., and Nathaniel B. Nichols. \"Optimum settings for automatic controllers.\" trans. ASME 64.11 (1942)"},{"location":"3_3_Regelverhalten/#einstellregeln-nach-ziegler-und-nichols-iii","text":"\\(K_P\\) \\(T_n\\) \\(T_v\\) P-Regler \\(K_P = K_P^{krit} \\cdot 0,5\\) PI-Regler \\(K_P\\) = \\(K_P^{krit} \\cdot 0,45\\) \\(T_n=0,85 \\cdot T^{krit}\\) PID-Regler \\(K_P\\) = \\(K_P^{krit} \\cdot 0,6\\) \\(T_n=0,5 \\cdot T^{krit}\\) \\(T_v=0,12 \\cdot T^{krit}\\)","title":"Einstellregeln nach Ziegler und Nichols (III)"},{"location":"3_3_Regelverhalten/#aufgabe-3_2_2","text":"Kalibierten Sie den Regler f\u00fcr die folgenden Anwendungen nach der Methode von Ziegler und Nichols: Colab","title":"\u270d\ufe0f Aufgabe 3_2_2:"},{"location":"4_1_Speicherprogrammierbare_Steuerung/","text":"Speicherprogrammierbare Steuerung (SPS) Schalter vs. Taster Ein Schalter beh\u00e4lt seine Stellung nach dem Bet\u00e4tigen bei. Ein Taster springt in die Ausgangslage Wahrheitstabelle Annahme: Schalter mit zwei Zust\u00e4nden S1 S2 H1 0 0 1 0 1 0 1 0 0 1 1 1 \\(H1 = \\lnot (S1 \\oplus S2)\\) Zustandsdiagramm einer Wechselschaltung stateDiagram-v2 s1: Licht aus - Schalter 1 = off, Schalter = 2 off s2: Licht an - Schalter 1 = on, Schalter 2 = off s3: Licht an - Schalter 1 = off, Schalter 2 = on s4: Licht aus - Schalter 1 = on, Schalter 2 = on s1--> s2: Schalter 1 = on s2--> s1: Schalter 1 = off s1--> s3: Schalter 2 = on s3--> s1: Schalter 2 = off s4--> s3: Schalter 1 = off s3--> s4: Schalter 1 = on s2 --> s4: Schalter 2 = on s4 --> s2: Schalter 2 = off https://mermaid.live/ L\u00f6sung \"Industrie 2.0\" S1, S2: Schalter mit zwei Zust\u00e4nden H1: Gl\u00fchlampe Wechselschaltung im Geb\u00e4ude https://cdn-reichelt.de/documents/datenblatt/TIPP/Elektroinstallation(Kopp).pdf Direkte verbindungsprogrammierte Steuerung Steuerung auf Basis des Stomkreises (z.B. Wechselschaltung bei Lichtschalter) \u00dcberall liegt die hohe (ggf. gef\u00e4hrliche ) Spannung an Verdrahtungsaufwand (z.B. Kreuzschaltung f\u00fcr mehr als 2 Schalter) die Fehlersuche sehr m\u00fchselig Bestimmte sicherheitsrelevante Funktionen (z. B. Not-Aus) L\u00f6sung \"Industrie 2.1\" Entkopplung von Steuerstrom und Laststromkreis durch Relais oder Sch\u00fctz Steuerstromkreis hat i.d.R. niedrigere Spannung Verbindungsprogrammierte Steuerung mit logischen Komponenten In diesem Fall wird ein Stromsto\u00dfschalter verbaut: Bei jeder Bet\u00e4tigung eines der Taster (S) wird der Zustand von K1 gewechselt Zwei oder mehrere Schalter S k\u00f6nnen parallel geschaltet werden Verringertet Verdrahtungsaufwand, erh\u00f6hte Wartbarkeit A1 - A2 : Schlie\u00dfen des Steuerkreises l\u00f6st eine Sprungfunktion in der Spannung und Strom aus (Flanke) 1 - 2 wird geschlossen https://de.wikipedia.org/wiki/Liste_der_Schaltzeichen_(Elektrik/Elektronik), https://www.eltako.com/fileadmin/downloads/de/Gesamtkatalog/Eltako_Gesamtkatalog_Kap11_low_res.pdf A1 - A2 : Schlie\u00dfen des Steuerkreises l\u00f6st eine Sprungfunktion in der Spannung und Strom aus (Flanke) *- 1 - 2 wird geschlossen https://de.wikipedia.org/wiki/Liste_der_Schaltzeichen_(Elektrik/Elektronik), https://www.eltako.com/fileadmin/downloads/de/Gesamtkatalog/Eltako_Gesamtkatalog_Kap11_low_res.pdf Stromsto\u00dfschalter https://cdn-reichelt.de/documents/datenblatt/TIPP/Elektroinstallation(Kopp).pdf L\u00f6sung Industrie 3.0 Logikbausteine werden durch Computer mit Ein- ( bIn1 ) und Ausg\u00e4ngen ( bOut1 ) ersetzt Computer erfasst, ob an Eing\u00e4ngen eine Spannung anliegt Computer setzt Spannung auf Ausg\u00e4nge def taster ( s1 , s2 , status_lampe ): if ( s1 or s1 ): return not ( status_lampe ) else : return status_lampe bOut1 = stromstossschalter ( s1 , s2 , status_lampe ) Aufbau SPS - Loxone Mini Server https://www.loxone.com/dede/produkte/gebaeude-und-hausautomation-miniserver/ Aufbau SPS - Siemens Logo Aufbau SPS - am Beispiel Beckhoff \ud83e\udde0 Aufbau einer SPS https://www.xplore-dna.net/mod/page/view.php?id=294 Anbringung meist an Hutschiene ( modular ) Rechen- und Speichereinheit oft Anbindung an Bus-System Ein oder mehrere Signalmodule Empfang Sensordaten ( Eing\u00e4nge ) Versand Steuerbefehle ( Ausg\u00e4nge ) Aufbau SPS Eingang / Ausgang: Schaltende Verbindungen zwischen 0 und 24V Stromversorgung Powerkontakt 24V (L+): SPS arbeitet wegen Bauraum und Sicherheit mit 24V Gleichstrom Powerkontakt 0V (L-): Masse als 0 Potential f\u00fcr die Schaltung definiert Powerkontakt PE: Schutzleiter mit Potential-Erde, 0V sollte auf PE gelegt werden Ausg\u00e4nge + und - zur weiterverteilung Industrie 3.0 Zentrale SPS -Speicherprogrammierbare Steuerung die Steuerungsfunktionen sind als Programme in einem Speicher enthalten Flexibilit\u00e4t : Einfacher Austausch von Programmen Mehrere Funktionen auf einem Ger\u00e4t Geringer Platzbedarf , H\u00f6here Zuverl\u00e4ssigkeit, Geringere Kosten Vernetzung mit anderen Systemen, Fernwartung Fehlerdiagnose https://www.xplore-dna.net/mod/page/view.php?id=294 Abgrenzung von SPS und Bussystemen \u26a0\ufe0f Die folgende Darstellung vereinfacht und stilisiert in der Praxis sind Mischformen \u00fcblich SPS als zentrales System SPS als Single Point of Failure h\u00e4ufig sternf\u00f6rmige Verkabelung Ein- und Ausg\u00e4nge der SPS sind digital (nur zwei Zust\u00e4nde) oder analog https://de.wikipedia.org/wiki/Nervensystem Dezentrales System Viele Mikrocontroller \u00fcbernehmen die Steuerungsaufgaben kein Single Point of Failure andere Topologien als Sternform m\u00f6glich \u00dcbermittlung von Seriellen Telegrammen auf der Busleitung https://quizizz.com/admin/quiz/605a064f172bf7001b1ea35d/tintenfische Steuerung mit Bus-System Zentrale SPS wird durch mehrere dezentrale Contoller ersetzt Diese kommunizieren \u00fcber Telegramme in einem standardtisierten Protokoll miteinander Anstelle von bin\u00e4ren Schaltinformationen werden Bitfolgen \u00fcbertragen Mischformen sind m\u00f6glich! Speicherprogrammierbare Steuerung (SPS) Messkette: Elektronische Sicht der Steuerung Sensoren wandeln den Zustand eines Prozesses in ein elektrisches Signal um Die Steuerung und Regelung erfolgt elektronisch oder digital oder in einem rechnergest\u00fctzten Ger\u00e4t ( Steuerungseinheit ) Aktoren werden zur Beeinflussung von Systemen eingesetzt https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a Steuerungseinheit: Aufbau einer SPS https://www.xplore-dna.net/mod/page/view.php?id=294 Anbringung meist an Hutschiene ( modular ) Rechen- und Speichereinheit oft Anbindung an Bus-System Ein oder mehrere Signalmodule Empfang Sensordaten ( Eing\u00e4nge ) Versand Steuerbefehle ( Ausg\u00e4nge ) Aufbau SPS Digitale Ein- und Ausg\u00e4nge kennt nur zwei Zust\u00e4nde ( True / False ) Abgebildet \u00fcber Spannungslevel oder Stromst\u00e4rke https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a Adressierung https://www.xplore-dna.net/mod/page/view.php?id=294 Digitale Ein- und Ausg\u00e4nge schalten und erfassen Spannungen bis 24V (i.d.R.) Jeder digitale Ein- und Ausgang wird durch ein Bit repr\u00e4sentiert ( True : 24V, False : 0V) Eing\u00e4nge werden mit E bzw. I (Input) bezeichnet ( E0.1 ) Ausg\u00e4nge mit A bzw. O/Q (Output) A0.2 Symbolische Adressierung Zur besseren Verst\u00e4ndlichkeit sollten bei der Programmierung sinnvolle Variablennamen eingef\u00fchrt werden, da diese leichter zu interpretieren sind als z.B. Q0.1 . z.B. f\u00fcr ein Automatiklicht bInAnwesenheit F\u00fcr Wert des digitalen Sensors f\u00fcr Anwesenheit an E0.0 bInDunkelheit F\u00fcr Wert des digitalen Sensors f\u00fcr Dunkelheit an E0.1 bOutLicht F\u00fcr digitalen Schalter f\u00fcr Licht an A0.1 Das b steht f\u00fcr einen bin\u00e4ren (digitalen) Ein- oder Ausgang Das In / Out f\u00fcr Ein- oder Ausg\u00e4nge Digitale Ein- und Ausg\u00e4nge https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a Digitaler Eingang Kennt nur Signal oder kein Signal ( Boolean ) z.B. Taster z.B. Fensterkontakt EVA-Prinzip https://upload.wikimedia.org/wikipedia/commons/f/f2/EVA-Prinzip.svg Zyklische Verarbeitung Das EVA-Prinzip wird in regelm\u00e4\u00dfigen Zyklen durchlaufen Einlesen der Eing\u00e4nge Durchf\u00fchren der Verarbeitung Ausgabe der Ausg\u00e4nge Typische Zykluszeiten liegen zwischen einer und zehn Millisekunden Verarbeitungseinheit - CPU Beckhoff Automation Analoge Ein- und Ausg\u00e4nge https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a Analog-Digital Wandler Vorsicht : Auch analoge Signale werden beim Eingang in die Verarbeitungseinheit digitalisiert Die Aufl\u00f6sung analoger Ein- und Ausg\u00e4nge wird in Bit angegeben Analoger Eingang bei vielen Anwendungsf\u00e4llen sind stetige Werte von Interesse: z.B. Temperatur, Helligkeit, etc. Passive Analoge Signale Nutzen Temperaturabh\u00e4ngigkeit eines Widerstands und Ohmsches Gesetz: \\(U=RI\\) Bei gleicher angelegter Spannung, wird temperaturabh\u00e4ngig ein anderer Strom gemessen https://blog.wika.de/know-how/pt100-in-2-3-oder-4-leiter-schaltung/ z.B. PT-Widerst\u00e4nde Platin hat ein relativ lineares Verhalten \\(U = 24 V\\) \\(I_m=0.16 A\\) \\(R=\\frac{U}{I_m}=150 \\Omega\\) \\(T \\approx 100\u00b0C\\) Sollten wir den PT-Widerstand direkt mit \\(24 V\\) beaufschlagen? Kennlinie eines Pt100 (100 \\(\\Omega\\) bei 0 \u00b0C) Einsatzgebiete von Verst\u00e4rkern https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a Linearisierung des Signals Anpassung des Signals auf definierten Ausgangsbereich (z.B. 0 .. 20mA, 0 .. 10V) Extra Kosten Sensorspezifisch Aktive Sensoren Integriert Sensor und Verst\u00e4rker Sensor wird mit Spannung versorgt (i.d.R. 24V/DC) Sensor \u00fcbersetzt physikalische Gr\u00f6\u00dfe in ein Ausgangssignal \\(E\\) Skalierung h\u00e4ufig linear oder sogar proportional \\(U(E_v)=E_0 + K_p \\cdot E_v\\) \\(U(E_v)=\\frac{10 V}{100.000 Lux} \\cdot E_v\\) Anschluss aktiver Sensoren Spannungsversorgung \u00fcber GND und 24 V Ausgang LUX wird mit analogem Eingang der SPS verbunden Auswahl Analoger Eing\u00e4nge Spannungssignal: z.B. \\(0...10\\) bzw. \\(-10...10\\) V g\u00fcnstig leicht zu messen (z.B. mit Multimeter) Stromschnittstelle: z.B. 4...20 mA auch bei langen Leitungen unanf\u00e4lliger gegen St\u00f6rungen Erkennen von Drahtbruch (0 A) PT-Eing\u00e4nge: Spezielle Eing\u00e4nge zum Anschluss von PT-Widerst\u00e4nden https://www.beckhoff.com/de-at/produkte/i-o/ethercat-klemmen/el3xxx-analog-eingang/ \ud83e\udd13 Anzahl der Leiter Es gibt Sensoren mit 2, 3, 4 Leitern Zunehmende Messgenauigkeit (Einfluss des Leiterwiderstands kann herausgerechnet werden) Signalformen live zero l\u00e4sst Kabelbruch erkennen https://download.beckhoff.com/download/document/Application_Notes/DK9221-1111-0059.pdf \ud83e\udd13 Single-Ended vs. Differential Single-Ended: alle Sensoren liegen auf dem gleichen V- Potential (nur ein Kabel zur\u00fcck) Differential: jeder Sensor hat sein eigenes V- Potential (weniger St\u00f6ranf\u00e4llig) https://infosys.beckhoff.com/index.php?content=../content/1031/ep3356/1668832651.html&id= Analog-Digital-Wandlung Analog-Digital-Wandlung Signalform: Spannung bipolar SPS kann nur diskrete Werte darstellen Wie hoch ist die Zykluszeit der SPS? Wie viel Bit stehen zur Speicherung eines Wertes zu Verf\u00fcgung? https://chrishoermann.at/analog-digital-wandlung-digital-analog-wandlung/ Abtastung (Sample rate) i.d.R. Zykluszeit der SPS ein Wert pro Zyklus z.B. 10 ms T in ms Beleuchtungsst\u00e4rke in Lux 0 0 10 50000 https://chrishoermann.at/analog-digital-wandlung-digital-analog-wandlung/ Digitalisierung (resolution) https://chrishoermann.at/analog-digital-wandlung-digital-analog-wandlung/ Wie viele Spannungswerte kann der Eingang unterscheiden (resolution) Angabe auf der Klemme: 12 Bit verteilt auf \\(-0-..10\\) V \\(2^{12} = 4096\\) Zust\u00e4nde T in ms Beleuchtungsst\u00e4rke in Lux am Sensor Spannung in V nach Verst\u00e4rker Eingangswert als Integer am A/D-Wandler Beleuchtungsst\u00e4rke in Lux in der Steuerungseinheit 0 0 0 0 0 10 50000 5 2047 50000 https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a Digitalsignal Nach der Umwandlung im Speicher der SPS https://chrishoermann.at/analog-digital-wandlung-digital-analog-wandlung/ T in ms Beleuchtungsst\u00e4rke in Lux 0 0 10 50000 \u270d\ufe0f Aufgabe 4_1_1: Anbindung eines Helligkeitssensors Ein Helligkeitssensor bildet die gemessenen Helligkeitswerte \u00fcber ein analoges Signal \\(0...10 \\text{ V}\\) ab Die Eingangsschnittstelle verf\u00fcgt \u00fcber eine Aufl\u00f6sung von 12 Bit Wie viele diskrete Helligkeitsstufen gibt es? Was ist der kleinste Spannungsunterschied, der unterschieden werden kann? Analoger Eingang Signal ist eine Stromst\u00e4rke ( 4...20mA ) Signal wird in 12 Bit digitalisiert z.B. Lichtsensor Beispiele f\u00fcr analoge und digitale Signale Eingang Ausgang Digital Taster, ... Kontrollleuchte, ... Analog Temperaturf\u00fchler, ... Elektromotor, ... \u270d\ufe0f Aufgabe 4_1_2: In einer L\u00fcftungsanlage soll ein Drucksensor (Druckbereich 0-10 bar) mit einem verbaut werden Wichtig ist hierbei, dass ein Drahtbruch sofort erkannt wird Welches Sensorsignal w\u00e4hlen Sie? Welche Klemme w\u00e4hlen Sie? Was ist die kleinste Druckdifferenz, die Sie an der SPS erfassen k\u00f6nnen? Zeichen Sie, wie sie den Sensor anschlie\u00dfen w\u00fcrden https://www.sensorshop24.de/productpdf/download/file/id/1009/name/Drucktransmitter_G14%2522_oder_G12%2522_f%25C3%25BCr_%25C3%259Cber- und_Unterdruck_mit_Normstecker %25280%25E2%2580%259110V4%25E2%2580%259120mA%2529.pdf/ \u00dcbersicht Klemmen Link L\u00f6sung mit einem Stromsignal (4...20mA) kann ein Drahtbruch sicher erkannt werden Entsprechende Klemme z.B. EL3021 | EtherCAT-Klemme, 1-Kanal-Analog-Eingang, Strom, 4\u202620 mA, 12 Bit, differentiell Single-Ended w\u00e4re ebenfalls m\u00f6glich mehre Eing\u00e4nge w\u00e4re ebenfalls m\u00f6glich kleinster m\u00f6glicher Druckunterschied 12 Bit sind \\(2^{12}=4096\\) m\u00f6gliche Zust\u00e4nde Der Messbereich liegt zwischen 0-10 bar \\(\\Delta P_{min}=\\frac{P_{max}-P_{min}}{n}=\\frac{10-0 bar}{4096}=2.44 \\text{ mbar}\\) EL3051 L\u00f6sung EL3051 - single-ended https://download.beckhoff.com/download/Document/io/ethercat-terminals/el30xxde.pdf L\u00f6sung EL3021 - differentiell https://download.beckhoff.com/download/Document/io/ethercat-terminals/el30xxde.pdf Ausg\u00e4nge F\u00fcr Digitale und Analoge Ausg\u00e4nge gelten sie selben Prinzipien \ud83c\udfaf Lernfortschritt Nach dieser Einheit sind Sie in der Lage dazu - zwischen digitalen und analogen Ein- und Ausg\u00e4ngen zu unterscheiden - geeignete Ein- und Ausg\u00e4nge zu Sensoren auszuw\u00e4hlen - und anzuschlie\u00dfen","title":"Speicherprogrammierbare Steuerung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#speicherprogrammierbare-steuerung-sps","text":"","title":"Speicherprogrammierbare Steuerung (SPS)"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#schalter-vs-taster","text":"Ein Schalter beh\u00e4lt seine Stellung nach dem Bet\u00e4tigen bei. Ein Taster springt in die Ausgangslage","title":"Schalter vs. Taster"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#wahrheitstabelle","text":"Annahme: Schalter mit zwei Zust\u00e4nden S1 S2 H1 0 0 1 0 1 0 1 0 0 1 1 1 \\(H1 = \\lnot (S1 \\oplus S2)\\)","title":"Wahrheitstabelle"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#zustandsdiagramm-einer-wechselschaltung","text":"stateDiagram-v2 s1: Licht aus - Schalter 1 = off, Schalter = 2 off s2: Licht an - Schalter 1 = on, Schalter 2 = off s3: Licht an - Schalter 1 = off, Schalter 2 = on s4: Licht aus - Schalter 1 = on, Schalter 2 = on s1--> s2: Schalter 1 = on s2--> s1: Schalter 1 = off s1--> s3: Schalter 2 = on s3--> s1: Schalter 2 = off s4--> s3: Schalter 1 = off s3--> s4: Schalter 1 = on s2 --> s4: Schalter 2 = on s4 --> s2: Schalter 2 = off","title":"Zustandsdiagramm einer Wechselschaltung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsmermaidlive","text":"","title":"https://mermaid.live/"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#losung-industrie-20","text":"S1, S2: Schalter mit zwei Zust\u00e4nden H1: Gl\u00fchlampe","title":"L\u00f6sung \"Industrie 2.0\""},{"location":"4_1_Speicherprogrammierbare_Steuerung/#wechselschaltung-im-gebaude","text":"","title":"Wechselschaltung im Geb\u00e4ude"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpscdn-reicheltdedocumentsdatenblatttippelektroinstallationkopppdf","text":"","title":"https://cdn-reichelt.de/documents/datenblatt/TIPP/Elektroinstallation(Kopp).pdf"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#direkte-verbindungsprogrammierte-steuerung","text":"Steuerung auf Basis des Stomkreises (z.B. Wechselschaltung bei Lichtschalter) \u00dcberall liegt die hohe (ggf. gef\u00e4hrliche ) Spannung an Verdrahtungsaufwand (z.B. Kreuzschaltung f\u00fcr mehr als 2 Schalter) die Fehlersuche sehr m\u00fchselig Bestimmte sicherheitsrelevante Funktionen (z. B. Not-Aus)","title":"Direkte verbindungsprogrammierte Steuerung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#losung-industrie-21","text":"Entkopplung von Steuerstrom und Laststromkreis durch Relais oder Sch\u00fctz Steuerstromkreis hat i.d.R. niedrigere Spannung","title":"L\u00f6sung \"Industrie 2.1\""},{"location":"4_1_Speicherprogrammierbare_Steuerung/#verbindungsprogrammierte-steuerung-mit-logischen-komponenten","text":"In diesem Fall wird ein Stromsto\u00dfschalter verbaut: Bei jeder Bet\u00e4tigung eines der Taster (S) wird der Zustand von K1 gewechselt Zwei oder mehrere Schalter S k\u00f6nnen parallel geschaltet werden Verringertet Verdrahtungsaufwand, erh\u00f6hte Wartbarkeit A1 - A2 : Schlie\u00dfen des Steuerkreises l\u00f6st eine Sprungfunktion in der Spannung und Strom aus (Flanke) 1 - 2 wird geschlossen","title":"Verbindungsprogrammierte Steuerung mit logischen Komponenten"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsdewikipediaorgwikiliste_der_schaltzeichen_elektrikelektronik-httpswwweltakocomfileadmindownloadsdegesamtkatalogeltako_gesamtkatalog_kap11_low_respdf","text":"A1 - A2 : Schlie\u00dfen des Steuerkreises l\u00f6st eine Sprungfunktion in der Spannung und Strom aus (Flanke) *- 1 - 2 wird geschlossen","title":"https://de.wikipedia.org/wiki/Liste_der_Schaltzeichen_(Elektrik/Elektronik), https://www.eltako.com/fileadmin/downloads/de/Gesamtkatalog/Eltako_Gesamtkatalog_Kap11_low_res.pdf"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsdewikipediaorgwikiliste_der_schaltzeichen_elektrikelektronik-httpswwweltakocomfileadmindownloadsdegesamtkatalogeltako_gesamtkatalog_kap11_low_respdf_1","text":"","title":"https://de.wikipedia.org/wiki/Liste_der_Schaltzeichen_(Elektrik/Elektronik), https://www.eltako.com/fileadmin/downloads/de/Gesamtkatalog/Eltako_Gesamtkatalog_Kap11_low_res.pdf"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#stromstoschalter","text":"","title":"Stromsto\u00dfschalter"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpscdn-reicheltdedocumentsdatenblatttippelektroinstallationkopppdf_1","text":"","title":"https://cdn-reichelt.de/documents/datenblatt/TIPP/Elektroinstallation(Kopp).pdf"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#losung-industrie-30","text":"Logikbausteine werden durch Computer mit Ein- ( bIn1 ) und Ausg\u00e4ngen ( bOut1 ) ersetzt Computer erfasst, ob an Eing\u00e4ngen eine Spannung anliegt Computer setzt Spannung auf Ausg\u00e4nge def taster ( s1 , s2 , status_lampe ): if ( s1 or s1 ): return not ( status_lampe ) else : return status_lampe bOut1 = stromstossschalter ( s1 , s2 , status_lampe )","title":"L\u00f6sung Industrie 3.0"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#aufbau-sps-loxone-mini-server","text":"","title":"Aufbau SPS - Loxone Mini Server"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpswwwloxonecomdedeproduktegebaeude-und-hausautomation-miniserver","text":"","title":"https://www.loxone.com/dede/produkte/gebaeude-und-hausautomation-miniserver/"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#aufbau-sps-siemens-logo","text":"","title":"Aufbau SPS - Siemens Logo"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#aufbau-sps-am-beispiel-beckhoff","text":"","title":"Aufbau SPS - am Beispiel Beckhoff"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#aufbau-einer-sps","text":"","title":"\ud83e\udde0 Aufbau einer SPS"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpswwwxplore-dnanetmodpageviewphpid294","text":"Anbringung meist an Hutschiene ( modular ) Rechen- und Speichereinheit oft Anbindung an Bus-System Ein oder mehrere Signalmodule Empfang Sensordaten ( Eing\u00e4nge ) Versand Steuerbefehle ( Ausg\u00e4nge )","title":"https://www.xplore-dna.net/mod/page/view.php?id=294"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#aufbau-sps","text":"Eingang / Ausgang: Schaltende Verbindungen zwischen 0 und 24V Stromversorgung Powerkontakt 24V (L+): SPS arbeitet wegen Bauraum und Sicherheit mit 24V Gleichstrom Powerkontakt 0V (L-): Masse als 0 Potential f\u00fcr die Schaltung definiert Powerkontakt PE: Schutzleiter mit Potential-Erde, 0V sollte auf PE gelegt werden Ausg\u00e4nge + und - zur weiterverteilung","title":"Aufbau SPS"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#industrie-30-zentrale-sps-speicherprogrammierbare-steuerung","text":"die Steuerungsfunktionen sind als Programme in einem Speicher enthalten Flexibilit\u00e4t : Einfacher Austausch von Programmen Mehrere Funktionen auf einem Ger\u00e4t Geringer Platzbedarf , H\u00f6here Zuverl\u00e4ssigkeit, Geringere Kosten Vernetzung mit anderen Systemen, Fernwartung Fehlerdiagnose","title":"Industrie 3.0 Zentrale SPS -Speicherprogrammierbare Steuerung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpswwwxplore-dnanetmodpageviewphpid294_1","text":"","title":"https://www.xplore-dna.net/mod/page/view.php?id=294"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#abgrenzung-von-sps-und-bussystemen","text":"\u26a0\ufe0f Die folgende Darstellung vereinfacht und stilisiert in der Praxis sind Mischformen \u00fcblich","title":"Abgrenzung von SPS und Bussystemen"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#sps-als-zentrales-system","text":"SPS als Single Point of Failure h\u00e4ufig sternf\u00f6rmige Verkabelung Ein- und Ausg\u00e4nge der SPS sind digital (nur zwei Zust\u00e4nde) oder analog","title":"SPS als zentrales System"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsdewikipediaorgwikinervensystem","text":"","title":"https://de.wikipedia.org/wiki/Nervensystem"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#dezentrales-system","text":"Viele Mikrocontroller \u00fcbernehmen die Steuerungsaufgaben kein Single Point of Failure andere Topologien als Sternform m\u00f6glich \u00dcbermittlung von Seriellen Telegrammen auf der Busleitung","title":"Dezentrales System"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsquizizzcomadminquiz605a064f172bf7001b1ea35dtintenfische","text":"","title":"https://quizizz.com/admin/quiz/605a064f172bf7001b1ea35d/tintenfische"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#steuerung-mit-bus-system","text":"Zentrale SPS wird durch mehrere dezentrale Contoller ersetzt Diese kommunizieren \u00fcber Telegramme in einem standardtisierten Protokoll miteinander Anstelle von bin\u00e4ren Schaltinformationen werden Bitfolgen \u00fcbertragen Mischformen sind m\u00f6glich!","title":"Steuerung mit Bus-System"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#speicherprogrammierbare-steuerung-sps_1","text":"","title":"Speicherprogrammierbare Steuerung (SPS)"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#messkette-elektronische-sicht-der-steuerung","text":"Sensoren wandeln den Zustand eines Prozesses in ein elektrisches Signal um Die Steuerung und Regelung erfolgt elektronisch oder digital oder in einem rechnergest\u00fctzten Ger\u00e4t ( Steuerungseinheit ) Aktoren werden zur Beeinflussung von Systemen eingesetzt","title":"Messkette: Elektronische Sicht der Steuerung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsmermaidliveeditpakoenp1umtqw0am_bwj0wzsqpo-wieawzdcqqggftrtqxhle4m9a2qtpyt8tf-kp9zng6glrcdpnbpjc4dag4icmt6_1x2yjnth7ziy1qxek3kt57ckyzaxvljpxjn8ffkeebexa9aqwjbzmzrtz9c1qoqccxdtrnz1zoxcufhlsvjlvf2vekekvxhezeesv6q0rrwmq8m9g4ncxjppxd7ht9hdkjmapdaqd2hntofwktaghq2kiy-poqzdlxq0o0yqbvhvh6shfw6uqhgncpuww8yb8gb7kajkbpxhd7b2x-eurnqv3s-c4zdljx9a","text":"","title":"https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#steuerungseinheit-aufbau-einer-sps","text":"","title":"Steuerungseinheit: Aufbau einer SPS"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpswwwxplore-dnanetmodpageviewphpid294_2","text":"Anbringung meist an Hutschiene ( modular ) Rechen- und Speichereinheit oft Anbindung an Bus-System Ein oder mehrere Signalmodule Empfang Sensordaten ( Eing\u00e4nge ) Versand Steuerbefehle ( Ausg\u00e4nge )","title":"https://www.xplore-dna.net/mod/page/view.php?id=294"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#aufbau-sps_1","text":"","title":"Aufbau SPS"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#digitale-ein-und-ausgange","text":"kennt nur zwei Zust\u00e4nde ( True / False ) Abgebildet \u00fcber Spannungslevel oder Stromst\u00e4rke","title":"Digitale Ein- und Ausg\u00e4nge"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsmermaidliveeditpakoenp1umtqw0am_bwj0wzsqpo-wieawzdcqqggftrtqxhle4m9a2qtpyt8tf-kp9zng6glrcdpnbpjc4dag4icmt6_1x2yjnth7ziy1qxek3kt57ckyzaxvljpxjn8ffkeebexa9aqwjbzmzrtz9c1qoqccxdtrnz1zoxcufhlsvjlvf2vekekvxhezeesv6q0rrwmq8m9g4ncxjppxd7ht9hdkjmapdaqd2hntofwktaghq2kiy-poqzdlxq0o0yqbvhvh6shfw6uqhgncpuww8yb8gb7kajkbpxhd7b2x-eurnqv3s-c4zdljx9a_1","text":"","title":"https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#adressierung","text":"","title":"Adressierung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpswwwxplore-dnanetmodpageviewphpid294_3","text":"Digitale Ein- und Ausg\u00e4nge schalten und erfassen Spannungen bis 24V (i.d.R.) Jeder digitale Ein- und Ausgang wird durch ein Bit repr\u00e4sentiert ( True : 24V, False : 0V) Eing\u00e4nge werden mit E bzw. I (Input) bezeichnet ( E0.1 ) Ausg\u00e4nge mit A bzw. O/Q (Output) A0.2","title":"https://www.xplore-dna.net/mod/page/view.php?id=294"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#symbolische-adressierung","text":"Zur besseren Verst\u00e4ndlichkeit sollten bei der Programmierung sinnvolle Variablennamen eingef\u00fchrt werden, da diese leichter zu interpretieren sind als z.B. Q0.1 . z.B. f\u00fcr ein Automatiklicht bInAnwesenheit F\u00fcr Wert des digitalen Sensors f\u00fcr Anwesenheit an E0.0 bInDunkelheit F\u00fcr Wert des digitalen Sensors f\u00fcr Dunkelheit an E0.1 bOutLicht F\u00fcr digitalen Schalter f\u00fcr Licht an A0.1 Das b steht f\u00fcr einen bin\u00e4ren (digitalen) Ein- oder Ausgang Das In / Out f\u00fcr Ein- oder Ausg\u00e4nge","title":"Symbolische Adressierung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#digitale-ein-und-ausgange_1","text":"","title":"Digitale Ein- und Ausg\u00e4nge"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsmermaidliveeditpakoenp1umtqw0am_bwj0wzsqpo-wieawzdcqqggftrtqxhle4m9a2qtpyt8tf-kp9zng6glrcdpnbpjc4dag4icmt6_1x2yjnth7ziy1qxek3kt57ckyzaxvljpxjn8ffkeebexa9aqwjbzmzrtz9c1qoqccxdtrnz1zoxcufhlsvjlvf2vekekvxhezeesv6q0rrwmq8m9g4ncxjppxd7ht9hdkjmapdaqd2hntofwktaghq2kiy-poqzdlxq0o0yqbvhvh6shfw6uqhgncpuww8yb8gb7kajkbpxhd7b2x-eurnqv3s-c4zdljx9a_2","text":"","title":"https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#digitaler-eingang","text":"Kennt nur Signal oder kein Signal ( Boolean ) z.B. Taster z.B. Fensterkontakt","title":"Digitaler Eingang"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#eva-prinzip","text":"","title":"EVA-Prinzip"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsuploadwikimediaorgwikipediacommonsff2eva-prinzipsvg","text":"","title":"https://upload.wikimedia.org/wikipedia/commons/f/f2/EVA-Prinzip.svg"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#zyklische-verarbeitung","text":"Das EVA-Prinzip wird in regelm\u00e4\u00dfigen Zyklen durchlaufen Einlesen der Eing\u00e4nge Durchf\u00fchren der Verarbeitung Ausgabe der Ausg\u00e4nge Typische Zykluszeiten liegen zwischen einer und zehn Millisekunden","title":"Zyklische Verarbeitung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#verarbeitungseinheit-cpu","text":"","title":"Verarbeitungseinheit - CPU"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#beckhoff-automation","text":"","title":"Beckhoff Automation"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#analoge-ein-und-ausgange","text":"","title":"Analoge Ein- und Ausg\u00e4nge"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsmermaidliveeditpakoenp1umtqw0am_bwj0wzsqpo-wieawzdcqqggftrtqxhle4m9a2qtpyt8tf-kp9zng6glrcdpnbpjc4dag4icmt6_1x2yjnth7ziy1qxek3kt57ckyzaxvljpxjn8ffkeebexa9aqwjbzmzrtz9c1qoqccxdtrnz1zoxcufhlsvjlvf2vekekvxhezeesv6q0rrwmq8m9g4ncxjppxd7ht9hdkjmapdaqd2hntofwktaghq2kiy-poqzdlxq0o0yqbvhvh6shfw6uqhgncpuww8yb8gb7kajkbpxhd7b2x-eurnqv3s-c4zdljx9a_3","text":"","title":"https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#analog-digital-wandler","text":"Vorsicht : Auch analoge Signale werden beim Eingang in die Verarbeitungseinheit digitalisiert Die Aufl\u00f6sung analoger Ein- und Ausg\u00e4nge wird in Bit angegeben","title":"Analog-Digital Wandler"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#analoger-eingang","text":"bei vielen Anwendungsf\u00e4llen sind stetige Werte von Interesse: z.B. Temperatur, Helligkeit, etc.","title":"Analoger Eingang"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#passive-analoge-signale","text":"Nutzen Temperaturabh\u00e4ngigkeit eines Widerstands und Ohmsches Gesetz: \\(U=RI\\) Bei gleicher angelegter Spannung, wird temperaturabh\u00e4ngig ein anderer Strom gemessen","title":"Passive Analoge Signale"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsblogwikadeknow-howpt100-in-2-3-oder-4-leiter-schaltung","text":"","title":"https://blog.wika.de/know-how/pt100-in-2-3-oder-4-leiter-schaltung/"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#zb-pt-widerstande","text":"Platin hat ein relativ lineares Verhalten \\(U = 24 V\\) \\(I_m=0.16 A\\) \\(R=\\frac{U}{I_m}=150 \\Omega\\) \\(T \\approx 100\u00b0C\\) Sollten wir den PT-Widerstand direkt mit \\(24 V\\) beaufschlagen?","title":"z.B. PT-Widerst\u00e4nde"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#kennlinie-eines-pt100-100-omega-bei-0-c","text":"","title":"Kennlinie eines Pt100 (100 \\(\\Omega\\) bei 0 \u00b0C)"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#einsatzgebiete-von-verstarkern","text":"","title":"Einsatzgebiete von Verst\u00e4rkern"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsmermaidliveeditpakoenp1umtqw0am_bwj0wzsqpo-wieawzdcqqggftrtqxhle4m9a2qtpyt8tf-kp9zng6glrcdpnbpjc4dag4icmt6_1x2yjnth7ziy1qxek3kt57ckyzaxvljpxjn8ffkeebexa9aqwjbzmzrtz9c1qoqccxdtrnz1zoxcufhlsvjlvf2vekekvxhezeesv6q0rrwmq8m9g4ncxjppxd7ht9hdkjmapdaqd2hntofwktaghq2kiy-poqzdlxq0o0yqbvhvh6shfw6uqhgncpuww8yb8gb7kajkbpxhd7b2x-eurnqv3s-c4zdljx9a_4","text":"Linearisierung des Signals Anpassung des Signals auf definierten Ausgangsbereich (z.B. 0 .. 20mA, 0 .. 10V) Extra Kosten Sensorspezifisch","title":"https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#aktive-sensoren","text":"Integriert Sensor und Verst\u00e4rker Sensor wird mit Spannung versorgt (i.d.R. 24V/DC) Sensor \u00fcbersetzt physikalische Gr\u00f6\u00dfe in ein Ausgangssignal \\(E\\) Skalierung h\u00e4ufig linear oder sogar proportional \\(U(E_v)=E_0 + K_p \\cdot E_v\\) \\(U(E_v)=\\frac{10 V}{100.000 Lux} \\cdot E_v\\)","title":"Aktive Sensoren"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#anschluss-aktiver-sensoren","text":"Spannungsversorgung \u00fcber GND und 24 V Ausgang LUX wird mit analogem Eingang der SPS verbunden","title":"Anschluss aktiver Sensoren"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#auswahl-analoger-eingange","text":"Spannungssignal: z.B. \\(0...10\\) bzw. \\(-10...10\\) V g\u00fcnstig leicht zu messen (z.B. mit Multimeter) Stromschnittstelle: z.B. 4...20 mA auch bei langen Leitungen unanf\u00e4lliger gegen St\u00f6rungen Erkennen von Drahtbruch (0 A) PT-Eing\u00e4nge: Spezielle Eing\u00e4nge zum Anschluss von PT-Widerst\u00e4nden","title":"Auswahl Analoger Eing\u00e4nge"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpswwwbeckhoffcomde-atproduktei-oethercat-klemmenel3xxx-analog-eingang","text":"","title":"https://www.beckhoff.com/de-at/produkte/i-o/ethercat-klemmen/el3xxx-analog-eingang/"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#anzahl-der-leiter","text":"Es gibt Sensoren mit 2, 3, 4 Leitern Zunehmende Messgenauigkeit (Einfluss des Leiterwiderstands kann herausgerechnet werden)","title":"\ud83e\udd13 Anzahl der Leiter"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#signalformen","text":"live zero l\u00e4sst Kabelbruch erkennen","title":"Signalformen"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsdownloadbeckhoffcomdownloaddocumentapplication_notesdk9221-1111-0059pdf","text":"","title":"https://download.beckhoff.com/download/document/Application_Notes/DK9221-1111-0059.pdf"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#single-ended-vs-differential","text":"Single-Ended: alle Sensoren liegen auf dem gleichen V- Potential (nur ein Kabel zur\u00fcck) Differential: jeder Sensor hat sein eigenes V- Potential (weniger St\u00f6ranf\u00e4llig)","title":"\ud83e\udd13 Single-Ended vs. Differential"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsinfosysbeckhoffcomindexphpcontentcontent1031ep33561668832651htmlid","text":"","title":"https://infosys.beckhoff.com/index.php?content=../content/1031/ep3356/1668832651.html&amp;id="},{"location":"4_1_Speicherprogrammierbare_Steuerung/#analog-digital-wandlung","text":"","title":"Analog-Digital-Wandlung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#analog-digital-wandlung_1","text":"Signalform: Spannung bipolar SPS kann nur diskrete Werte darstellen Wie hoch ist die Zykluszeit der SPS? Wie viel Bit stehen zur Speicherung eines Wertes zu Verf\u00fcgung?","title":"Analog-Digital-Wandlung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpschrishoermannatanalog-digital-wandlung-digital-analog-wandlung","text":"","title":"https://chrishoermann.at/analog-digital-wandlung-digital-analog-wandlung/"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#abtastung-sample-rate","text":"i.d.R. Zykluszeit der SPS ein Wert pro Zyklus z.B. 10 ms T in ms Beleuchtungsst\u00e4rke in Lux 0 0 10 50000","title":"Abtastung (Sample rate)"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpschrishoermannatanalog-digital-wandlung-digital-analog-wandlung_1","text":"","title":"https://chrishoermann.at/analog-digital-wandlung-digital-analog-wandlung/"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#digitalisierung-resolution","text":"","title":"Digitalisierung (resolution)"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpschrishoermannatanalog-digital-wandlung-digital-analog-wandlung_2","text":"Wie viele Spannungswerte kann der Eingang unterscheiden (resolution) Angabe auf der Klemme: 12 Bit verteilt auf \\(-0-..10\\) V \\(2^{12} = 4096\\) Zust\u00e4nde T in ms Beleuchtungsst\u00e4rke in Lux am Sensor Spannung in V nach Verst\u00e4rker Eingangswert als Integer am A/D-Wandler Beleuchtungsst\u00e4rke in Lux in der Steuerungseinheit 0 0 0 0 0 10 50000 5 2047 50000","title":"https://chrishoermann.at/analog-digital-wandlung-digital-analog-wandlung/"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsmermaidliveeditpakoenp1umtqw0am_bwj0wzsqpo-wieawzdcqqggftrtqxhle4m9a2qtpyt8tf-kp9zng6glrcdpnbpjc4dag4icmt6_1x2yjnth7ziy1qxek3kt57ckyzaxvljpxjn8ffkeebexa9aqwjbzmzrtz9c1qoqccxdtrnz1zoxcufhlsvjlvf2vekekvxhezeesv6q0rrwmq8m9g4ncxjppxd7ht9hdkjmapdaqd2hntofwktaghq2kiy-poqzdlxq0o0yqbvhvh6shfw6uqhgncpuww8yb8gb7kajkbpxhd7b2x-eurnqv3s-c4zdljx9a_5","text":"","title":"https://mermaid.live/edit#pako:eNp1UMtqw0AM_BWj0wZsQpo-wIeAwZdCQqGGFtrtQXhle4m9a2QtpYT8Tf-kP9ZNg6GlRCdpNBpJc4DaG4Icmt6_1x2yJNtH7ZIY1qxeK3KT57ckyzaxvlJPxJN8ffKeeBExa9aqWJbZMzrTz9C1qoQCcXDtRNZ1ZOXcuFHlsvjLvf2veKeKvXhezEesV6q0rRWMQ8m9G4NcXjPPXD7ht9hDkJMapDAQD2hNtOFwktAgHQ2kIY-poQZDLxq0O0YqBvHVh6shFw6UQhgNCpUWW8YB8gb7KaJkbPxhd7b2x-EURnQv3s-c4zdLjX9a"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#digitalsignal","text":"Nach der Umwandlung im Speicher der SPS","title":"Digitalsignal"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpschrishoermannatanalog-digital-wandlung-digital-analog-wandlung_3","text":"T in ms Beleuchtungsst\u00e4rke in Lux 0 0 10 50000","title":"https://chrishoermann.at/analog-digital-wandlung-digital-analog-wandlung/"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#aufgabe-4_1_1-anbindung-eines-helligkeitssensors","text":"Ein Helligkeitssensor bildet die gemessenen Helligkeitswerte \u00fcber ein analoges Signal \\(0...10 \\text{ V}\\) ab Die Eingangsschnittstelle verf\u00fcgt \u00fcber eine Aufl\u00f6sung von 12 Bit Wie viele diskrete Helligkeitsstufen gibt es? Was ist der kleinste Spannungsunterschied, der unterschieden werden kann?","title":"\u270d\ufe0f Aufgabe 4_1_1: Anbindung eines Helligkeitssensors"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#analoger-eingang_1","text":"Signal ist eine Stromst\u00e4rke ( 4...20mA ) Signal wird in 12 Bit digitalisiert z.B. Lichtsensor","title":"Analoger Eingang"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#beispiele-fur-analoge-und-digitale-signale","text":"Eingang Ausgang Digital Taster, ... Kontrollleuchte, ... Analog Temperaturf\u00fchler, ... Elektromotor, ...","title":"Beispiele f\u00fcr analoge und digitale Signale"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#aufgabe-4_1_2","text":"In einer L\u00fcftungsanlage soll ein Drucksensor (Druckbereich 0-10 bar) mit einem verbaut werden Wichtig ist hierbei, dass ein Drahtbruch sofort erkannt wird Welches Sensorsignal w\u00e4hlen Sie? Welche Klemme w\u00e4hlen Sie? Was ist die kleinste Druckdifferenz, die Sie an der SPS erfassen k\u00f6nnen? Zeichen Sie, wie sie den Sensor anschlie\u00dfen w\u00fcrden","title":"\u270d\ufe0f Aufgabe 4_1_2:"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpswwwsensorshop24deproductpdfdownloadfileid1009namedrucktransmitter_g142522_oder_g122522_f25c325bcr_25c3259cber-und_unterdruck_mit_normstecker2528025e22580259110v425e22580259120ma2529pdf","text":"","title":"https://www.sensorshop24.de/productpdf/download/file/id/1009/name/Drucktransmitter_G14%2522_oder_G12%2522_f%25C3%25BCr_%25C3%259Cber-und_Unterdruck_mit_Normstecker%25280%25E2%2580%259110V4%25E2%2580%259120mA%2529.pdf/"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#ubersicht-klemmen","text":"Link","title":"\u00dcbersicht Klemmen"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#losung","text":"mit einem Stromsignal (4...20mA) kann ein Drahtbruch sicher erkannt werden Entsprechende Klemme z.B. EL3021 | EtherCAT-Klemme, 1-Kanal-Analog-Eingang, Strom, 4\u202620 mA, 12 Bit, differentiell Single-Ended w\u00e4re ebenfalls m\u00f6glich mehre Eing\u00e4nge w\u00e4re ebenfalls m\u00f6glich kleinster m\u00f6glicher Druckunterschied 12 Bit sind \\(2^{12}=4096\\) m\u00f6gliche Zust\u00e4nde Der Messbereich liegt zwischen 0-10 bar \\(\\Delta P_{min}=\\frac{P_{max}-P_{min}}{n}=\\frac{10-0 bar}{4096}=2.44 \\text{ mbar}\\)","title":"L\u00f6sung"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#el3051","text":"","title":"EL3051"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#losung-el3051-single-ended","text":"","title":"L\u00f6sung EL3051 - single-ended"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsdownloadbeckhoffcomdownloaddocumentioethercat-terminalsel30xxdepdf","text":"","title":"https://download.beckhoff.com/download/Document/io/ethercat-terminals/el30xxde.pdf"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#losung-el3021-differentiell","text":"","title":"L\u00f6sung EL3021 - differentiell"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#httpsdownloadbeckhoffcomdownloaddocumentioethercat-terminalsel30xxdepdf_1","text":"","title":"https://download.beckhoff.com/download/Document/io/ethercat-terminals/el30xxde.pdf"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#ausgange","text":"F\u00fcr Digitale und Analoge Ausg\u00e4nge gelten sie selben Prinzipien","title":"Ausg\u00e4nge"},{"location":"4_1_Speicherprogrammierbare_Steuerung/#lernfortschritt","text":"Nach dieser Einheit sind Sie in der Lage dazu - zwischen digitalen und analogen Ein- und Ausg\u00e4ngen zu unterscheiden - geeignete Ein- und Ausg\u00e4nge zu Sensoren auszuw\u00e4hlen - und anzuschlie\u00dfen","title":"\ud83c\udfaf Lernfortschritt"},{"location":"4_2_Sprachen_nach_IEC_61131-3/","text":"SPS Programmier-Sprachen nach IEC 61131-3 Allgemeiner Aufbau eines SPS-Projekts Die Folgenden Inhalte orientieren sich an der Software Twincat 3 von Beckhoff Die Inhalte sind aber auch auf andere SPS-Programmiersysteme \u00fcbertragbar Da die Twincat 3 Software tief ins System eingreift, wird nicht empfohlen diese auf den privaten Rechnern zu installieren Die Software ist aber auf den Rechnern im Labor installiert Als Alternative, kann die Software OpenPLC Editor empfohlen werden Projektstruktur Ein Projekt besteht aus einem oder mehreren Programmen, welche in einer POU (Program Organization Unit) zusammengefasst werden Am Beispiel TwinCat Entwicklungsumgebung der Firma Beckhoff Automation f\u00fcr SPS Steuerungslogiken Kann auf der Steuerung oder anderem PC ausgef\u00fchrt werden Links sieht man die Gesamt\u00fcbersicht \u00fcber das Projekt ( Projektexplorer ) Twincat bietet ein Fester f\u00fcr die Variablendeklaration (rechts oben) und ein Fester f\u00fcr den sonstigen Code an (rechts unten) Programmablauf in Verarbeitungseinheit Nach dem EVA-Prinzip \u00fcberwacht die SPS in regelm\u00e4\u00dfigen Abst\u00e4nden ( Zykluszeit ) die Werte der Eing\u00e4nge und f\u00fchrt das Hauptprogramm (.../POUs/MAIN (PRG)) aus Hauptprogramm (Main-Program) Entsprechend der code.py bei Circuit Python gibt es eine MAIN -Programm W\u00e4hren wir im code.py einen while -Loop erstellen mussten, wir der Inhalt der MAIN immer wieder automatisch in der Zykluszeit der SPS ausgef\u00fchrt Das Hauptprogramm wird in einer Entwicklungsumgebung geschrieben Hierzu kommen verschiedene Programmiersprachen zum Einsatz Nach Pr\u00fcfung und Fehlerbeseitigung erstellt der Compiler dann den Programmcode, der auf die Steuerung geladen werden kann. liegt dann auf dem Speicher der SPS und kann ver\u00e4ndert werden Programmiersprachen f\u00fcr SPS f\u00fcnf Programmiersprachen (nach IEC 61131) Strukturierter Text , ST (engl. Structured Text, ST) \u00e4hnlich Pascal Anweisungsliste, AWL (engl. Instruction List, IL) Kontaktplan , KOP (engl. Ladder Diagram, LD) Funktionsbausteinsprache , FBS oder FUP genannt (engl. Function Block Diagram, FBD) Ablaufsprache, AS (engl. Sequential Function Chart, SFC) Programm Programm liefert bei der Ausf\u00fchrung einen oder mehrere Werte und speichert diese in Variablen Alle Werte bleiben nach einer Ausf\u00fchrung des Programms bis zur n\u00e4chsten Ausf\u00fchrung erhalten z.B. der Status der Lampe im Hauptprogramm bis zur Ausf\u00fchrung des n\u00e4chsten Zyklus \u270d\ufe0f Aufgabe 4_2_1: Automatik Licht Anwendungsfall: Eine smarte Lichtsteuerung soll eine Leuchte immer anschalten, wenn es dunkel ist und eine Anwesenheit erkannt wird F\u00fcr unsere smarte Lichtsteuerung k\u00f6nnte das f\u00fcr eine Programmierung mittels Strukturiertem Text wie folgt aussehen, wenn wir statt analogen digitale Eing\u00e4nge verwenden: PROGRAM MAIN // Main Programm wird definiert VAR // Variablen werden deklariert bInAnwesenheit1 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Anwesend bInDunkelheit2 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Dunkel bOutLicht1 : BOOL; // der Variable f\u00fcr Licht. True = An END_VAR bOutLicht1 := bInAnwesenheit1 AND bInDunkelheit2; // Logische Verkn\u00fcpfung (nur wenn beides erf\u00fcllt ist, geht das Licht an) Welche Unterschiede zu Python fallen Ihnen auf? L\u00f6sung PROGRAM MAIN // Main Programm wird definiert VAR // Variablen werden deklariert bInAnwesenheit1 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Anwesend bInDunkelheit2 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Dunkel bOutLicht1 : BOOL; // der Variable f\u00fcr Licht. True = An END_VAR bOutLicht1 := bInAnwesenheit1 AND bInDunkelheit2; // Logische Verkn\u00fcpfung (nur wenn beides erf\u00fcllt ist, geht das Licht an) * Kommentare mit // eingef\u00fchrt * Zeilen werden mit ; abgeschlossen * Variablen und Ihr Typ m\u00fcssen deklariert werden (Name und Datentyp werden festgelegt): <Variablenname>:<Typ> * Der Wert der Variable wird \u00fcber := gesetzt: <Variablenname>:=<Variablenwert> Wichtige Datentypen BOOL : Boolean INT : Integer (nur positiv) z.B. Bit-Werte der Eingangsklemmen UNIT : Unsigned Integer (nur positiv) REAL : Gleitkommazahl z.B. Interne Darstellung der physikalischen G\u00f6\u00dfen weitere IF-Anweisungen IF-Anweisung kann man eine Bedingung abpr\u00fcfen und abh\u00e4ngig von dieser Bedingung ein Anweisungen ausf\u00fchren IF <Boolescher_Ausdruck1> THEN <IF_Anweisungen> {ELSIF <Boolescher_Ausdruck2> THEN <ELSIF_Anweisungen1> . . ELSIF <Boolescher_Ausdruck n> THEN <ELSIF_Anweisungen n-1> ELSE <ELSE_Anweisungen>} END_IF; Ausdr\u00fccke in den {} sind optional Beispiel IF temp < 17 THEN heizung_an := TRUE ; ELSE heizung_an := FALSE ; END_IF ; Keine Einr\u00fcckungen wie bei Python erforderlich \u270d\ufe0f Aufgabe 4_2_2: Wechselschaltung Wie k\u00f6nnen wir daf\u00fcr sorgen, dass das Licht den Zustand wechselt, wenn einer der beiden Schalter bet\u00e4tigt wird? L\u00f6sung IF ( bInS1 OR bInS2 ) THEN bOut1 = not ( bOut1 ) else : bOut1 = bOut1 Funktionsbausteine Funktionsbaustein liefert einen oder mehrere Werte . Die Werte der Ausgabevariablen und der internen Variablen bleiben bis zur n\u00e4chsten Ausf\u00fchrung erhalten (lokalen Variablen werden nicht gel\u00f6scht) Vergleichbar eine Klasse, mit einer Methode, die immer wieder aufgerufen wird Vorsicht : bei mehrmaligem Aufruf mit denselben Eingabevariablen werden so nicht unbedingt dieselben Ausgabewerte geliefert vgl. Hysterese) Funktionsbaustein Zun\u00e4chst wird eine Blaupause (Klasse) erstellt, sie beschreibt, welche Ein-, Ausgaben, und Zwischenwerte ein Funktionsbaustein enth\u00e4lt (Variablen) und welche Berechnungen diese ausf\u00fchrt Im Hauptprogramm ( MAIN ) k\u00f6nnen eine oder mehrere Objekte des Bausteins instanziiert werden (als Variable deklariert werden) Auch bei der Arbeit mit Funktionsbausteinen gilt das EVA-Prinzip Warum gibt es beides - Funktionen und Funktionsbausteine? z.B. Anwendung von Funktionsbaustein f\u00fcr verschiedene R\u00e4ume nach 100 Bewegungen soll gel\u00fcftet werden w\u00fcrde mit Funktion eine globale Variable pro Raum ben\u00f6tigen \u270d\ufe0f Aufgabe 4_2_3: Funktionsbaustein Counter Schreiben Sie eine Klasse f\u00fcr einen Funktionsbaustein, der eine Z\u00e4hlervariable um eins erh\u00f6ht und den aktuellen Wert zur\u00fcckgibt Zudem soll der Z\u00e4hler zur\u00fcckgesetzt werden k\u00f6nnen class Counter : def __init__ ( self ): self . count = 0 class Counter : def __init__ ( self ): self . count = 0 def increment ( self ): self . count = self . count + 1 return self . count def reset ( self ): self . count = 0 return self . count c = Counter () c . increment () c . increment () print ( c . increment ()) Verwendung von Programm-Organisationseinheiten Programme Direkte Verbindung zu Ein- und Ausgabeeinheiten Grundger\u00fcst ist das Hauptprogramm MAIN , welches zyklisch ausgef\u00fchrt wird und angibt welche Funktionen und Funktionsbausteine aufgerufen werden Funktion Wiederverwendbare Elemente Es gibt viele Standardfunktionen ohne internen Speicher Funktionsbausteine Komplexer as Funktionen K\u00f6nnen Variablen erhalten z.B. Z\u00e4hler Strukturierter Text Anweisungen Wie in anderen h\u00f6heren Programmiersprachen gibt es Anweisungen die den Text strukturieren Zuweisung : Auf der linken Seite einer Zuweisung := steht ein Operand (Variable, Adresse), dem der Wert des Ausdrucks auf der rechten Seite zugewiesen wird: Var1 := Var2 * 10; Aufruf von Funktionen und Funktionsbl\u00f6cken Aufruf eines Funktionsblocks: Aufruf durch Namen der Funktion oder Instanz des Funktionsblocks und in Klammer die gew\u00fcnschten Werte der Parameter hier wird die Funktion FIND aufgerufen, um STR2 in STR1 zu finden Die \u00fcbergebenen Parameter sind beide Zeichenketten / Strings Funktionen haben einen fixen R\u00fcckgabetyp (z.B. die Position als INT) Globale und lokale Variablen Wichtiges Prinzip in der Programmierung Verhindert unbeabsichtigte Eingriffe Nur globale Variablen sind von \u00fcberall sichtbar lokale Variablen , k\u00f6nnen z.B. innerhalb eines Programms oder Funkion definiert werden und sind nur darin sichtbar Alle Variablen sind zun\u00e4chst nur innerhalb der jeweiligen POU sichtbar Arrays - Datenfelder (Listen gleichen Datentyps) / Deklaration VAR aCounter : ARRAY[0..9] OF INT; END_VAR //Deklaration mit Initialisierung: aCounter : ARRAY[0..9] OF INT := [0, 10, 20, 30, 40, 50, 60, 70, 80, 90]; //Datenzugriff 1: //Der lokalen Variablen wird der Wert 20 zugewiesen. nLocalVariable := aCounter[2]; Weitere Anweisungen Return wird genutzt, um einen Baustein zu verlassen EXIT -Anweisung** wenn diese in einer FOR-, WHILE- oder REPEAT-Schleife vorkommt, dann wird die innerste Schleife beendet, ungeachtet der Abbruchbedingung. Aufruf einer Fuktion : Analog zu Python werden der Funktionsname genannt und in Klammern die Attribute \u00fcbergeben (z.B. SQRT(IN := 9) ) Funktionsplan \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu - einfache bin\u00e4re Funktionspl\u00e4ne lesen und aufbauen - einfache Bausteine (Vergleiche, Mathematische Operatoren) interpretieren - die Wirkweise von Zeitbausteinen skizzieren und diese passenden Anwendungsf\u00e4llen zuzuordnen (Bin\u00e4rer) Funktionsplan (FUP) Grafische Programmiersprache, nach EVA -Prinzip (links nach rechts) Jeder Baustein ist ein Funktionsbaustein (Funktionsblock) Bausteine mit Symbolen z.B. & f\u00fcr logisches und ( \\(\\land\\) ) >=1 f\u00fcr logisches oder ( \\(\\lor\\) ) Links gehen die Eing\u00e4nge in die Bausteine. Ergebnisse werden rechts weitergegeben. Variablen die gesetzt werden stehen \u00fcber den Bausteinen (vgl. Spule bei Kontaktplan, hier A0.1 ) https://www.sps-lehrgang.de/zusammengesetzte-verknuepfungen/ Negieren von Ein- und Ausg\u00e4ngen Bei bin\u00e4ren Ein- und Ausg\u00e4ngen kann der Wert durch einen Kreis negiert werden TRUE wird zu FALSE FALSE wird zu TRUE https://www.sps-lehrgang.de/zusammengesetzte-verknuepfungen/ \u270d\ufe0f Aufgabe 4_2_4: Bin\u00e4rer Funktionsplan E0.1 = TRUE E0.2 = TRUE E0.3 = FALSE E0.4 = TRUE - Was ist A0.1 ? https://www.sps-lehrgang.de/zusammengesetzte-verknuepfungen/ Zeitbausteine Ein guter Bewegungsmelder w\u00fcrde nicht sofort erl\u00f6schen, wenn keine Bewegung mehr registriert wird, sondern f\u00fcr ein Nachleuchten der Lampen sorgen (Nachlauf) Die k\u00f6nnte \u00fcber das Z\u00e4hlen der Zyklus-Zeiten gesteuert werden, hierzu m\u00fcssten aber alle Zyklen auf jeder Steuerung gleich lang sein Stattdessen k\u00f6nnen spezielle Bausteine , wie z.B. TOF (Timer off), Ausschaltverz\u00f6gerung eingesetzt werden. TOF: Ausschaltverz\u00f6gerung (Timer Off) verl\u00e4ngert Signal nach Wechsel auf Off (False) IN bin\u00e4rer Eingang PT Gesetzte Ausschaltverz\u00f6gerung Q bin\u00e4rer Ausgang mit Impuls ET Vergangene Zeit seit Erkennen des Ende des Eingangsignals https://www.xplore-dna.net/mod/page/view.php?id=168 \u270d\ufe0f Aufgabe 4_2_5 Erweiterung um Nachlauf von einer Sekunde Impulsbildung wandelt positive Flanke in Impuls mit fixer L\u00e4nge IN bin\u00e4rer Eingang PT Gesetzte Impulsl\u00e4nge Q bin\u00e4rer Ausgang mit Impuls ET Vergangene Zeit seit Impulsstart (Elapsed Time) https://www.xplore-dna.net/mod/page/view.php?id=166 TON: Einschaltverz\u00f6gerung verz\u00f6gerte Aktivierung, sofern Mindestdauer erreicht IN bin\u00e4rer Eingang PT Gesetzte Einschaltverz\u00f6gerung Q bin\u00e4rer Ausgang mit Impuls ET Vergangene Zeit seit Erkennen des Eingangsignals https://www.xplore-dna.net/mod/page/view.php?id=167 TONR: Zeitakkumulator Gibt aufsummierte Zeit sobald Mindestwert erreicht ET Zeit bis zur Ausgabe PT Maximalzeit bis Ausgabe IN bin\u00e4rer Start-Eingang R bin\u00e4rer Reset-Eingang Q bin\u00e4rer Ausgang zeigt wann PT erreicht https://www.xplore-dna.net/mod/page/view.php?id=168 \u270d\ufe0f Aufgabe 2_4_6: Zeitbausteine Zeichnen Sie das Ausgangssignal einer Ausschaltverz\u00f6gerung TOF mit PT = 2s eines Impulsgenerators TP mit PT = 0.5s Z\u00e4hler Z\u00e4hlt Flanken (\u00c4nderungen False auf True ) CU bin\u00e4rer Eingang an dem die Flanken gez\u00e4hlt werden (Count Up) R Reset-Eingang um Z\u00e4hler zur\u00fcckzusetzen PV Oberer Grenzwert CV Ausgang der hoch z\u00e4hlt (Counter Value) Q Z\u00e4hlerstatus im Vergleich mit PV Weitere Bausteine Trigger-Bausteine Erkennen steigende oder fallende Flanken F_TRIG f\u00fcr fallende Flanken R_TRIG f\u00fcr steigende (rising) Flanken Anstelle von zur\u00fccksetzen der Taster (Bild) Szenenwechsel wird nur bei Aktivierung eines Tasters aktiviert Speicherbausteine Zuweisungen bleiben i.d.R. nur solange bestehen wie die Eing\u00e4nge auf den vorherigen Block wirken. Zuweisungen bleiben i.d.R. nur solange wie die Eing\u00e4nge auf den vorherigen Block wirken. Speicherglieder und Flipflops erhalten den Wert , auch wenn die Setz-Bedingung nicht mehr gegeben ist. Ausgang setzen im FUP Hier wird der Wert von A0.1 gesetzt (S f\u00fcr set) SR-Flipflop der Ausgang Q wird abh\u00e4ngig vom Signalzustand der Eing\u00e4nge S (et) und R (eset) dauerhaft gesetzt Wenn der Signalzustand am Eingang S=1 und am Eingang R=0 ist, wird Q=1 gesetzt. S=0 und am Eingang R=1 ist, wird auf Q=0 zur\u00fcck gesetzt. bei SR-Flipfops dominiert Eingang S den Eingang R . Bei 1 an beiden Eing\u00e4ngen wird der Operanden auf \"1\" gesetzt S R Q 0 0 Q 1 0 1 0 1 0 1 1 1 https://www.xplore-dna.net/mod/page/view.php?id=173 RS-Flipflop Der Eingang R dominiert den Eingang S . Bei einem Signalzustand 1 an beiden Eing\u00e4ngen wird der Signalzustand des angegebenen Operanden auf \"0\" zur\u00fcckgesetzt. S R Q 0 0 Q 1 0 1 0 1 0 1 1 0 https://www.xplore-dna.net/mod/page/view.php?id=1038 Speicherbausteine und Variablen Ist das Programm in der Lage interne Variablen zu speichern, kann der Einsatz von Speicherbausteinen durch Zuweisungen ersetzt werden Zusammenfassung und Ausblick komplexe neuartige Probleme lassen sich h\u00e4ufig am besten \u00fcber strukturierten Text l\u00f6sen f\u00fcr viele bestehende Anwendungsf\u00e4lle stehen in verschiedenen Softwarel\u00f6sungen bereits Funktionen und Funktionsbl\u00f6cke bereit Automatiklicht bSwi : Eine steigende Flanke an diesem Eingang schaltet den Baustein und das Licht wechselweise ein und aus. bOn : Eine steigende Flanke an diesem Eingang schaltet den Baustein und das Licht gezielt ein. bOff : Eine steigende Flanke an diesem Eingang schaltet das Licht und die Gesamtfunktion des Bausteins aus. fOut : Steuerausgang f\u00fcr Lichtaktoren (0\u2026100 %). https://infosys.beckhoff.com/index.php?content=../content/1031/tf8040_tc3_buildingautomation/9255011851.html&id=7218420269355608175 PID-Regler fSetpointValue : Sollwert der Regelgr\u00f6\u00dfe fActualValue : Istwert der Regelgr\u00f6\u00dfe fOut : Ausgang des PID-Glieds Was fehlt noch? fKp : Reglerbeiwert tTn : Nachstellzeit tTv : Vorhaltzeit in stParams https://infosys.beckhoff.com/index.php?content=../content/1031/tf4100_tc3_controller_toolbox/245435787.html&id=","title":"Sprachen nach IEC 61131-3"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#sps-programmier-sprachen-nach-iec-61131-3","text":"","title":"SPS Programmier-Sprachen nach IEC 61131-3"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#allgemeiner-aufbau-eines-sps-projekts","text":"Die Folgenden Inhalte orientieren sich an der Software Twincat 3 von Beckhoff Die Inhalte sind aber auch auf andere SPS-Programmiersysteme \u00fcbertragbar Da die Twincat 3 Software tief ins System eingreift, wird nicht empfohlen diese auf den privaten Rechnern zu installieren Die Software ist aber auf den Rechnern im Labor installiert Als Alternative, kann die Software OpenPLC Editor empfohlen werden","title":"Allgemeiner Aufbau eines SPS-Projekts"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#projektstruktur","text":"Ein Projekt besteht aus einem oder mehreren Programmen, welche in einer POU (Program Organization Unit) zusammengefasst werden","title":"Projektstruktur"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#am-beispiel-twincat","text":"Entwicklungsumgebung der Firma Beckhoff Automation f\u00fcr SPS Steuerungslogiken Kann auf der Steuerung oder anderem PC ausgef\u00fchrt werden Links sieht man die Gesamt\u00fcbersicht \u00fcber das Projekt ( Projektexplorer ) Twincat bietet ein Fester f\u00fcr die Variablendeklaration (rechts oben) und ein Fester f\u00fcr den sonstigen Code an (rechts unten)","title":"Am Beispiel TwinCat"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#programmablauf-in-verarbeitungseinheit","text":"Nach dem EVA-Prinzip \u00fcberwacht die SPS in regelm\u00e4\u00dfigen Abst\u00e4nden ( Zykluszeit ) die Werte der Eing\u00e4nge und f\u00fchrt das Hauptprogramm (.../POUs/MAIN (PRG)) aus","title":"Programmablauf in Verarbeitungseinheit"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#hauptprogramm-main-program","text":"Entsprechend der code.py bei Circuit Python gibt es eine MAIN -Programm W\u00e4hren wir im code.py einen while -Loop erstellen mussten, wir der Inhalt der MAIN immer wieder automatisch in der Zykluszeit der SPS ausgef\u00fchrt Das Hauptprogramm wird in einer Entwicklungsumgebung geschrieben Hierzu kommen verschiedene Programmiersprachen zum Einsatz Nach Pr\u00fcfung und Fehlerbeseitigung erstellt der Compiler dann den Programmcode, der auf die Steuerung geladen werden kann. liegt dann auf dem Speicher der SPS und kann ver\u00e4ndert werden","title":"Hauptprogramm (Main-Program)"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#programmiersprachen-fur-sps","text":"f\u00fcnf Programmiersprachen (nach IEC 61131) Strukturierter Text , ST (engl. Structured Text, ST) \u00e4hnlich Pascal Anweisungsliste, AWL (engl. Instruction List, IL) Kontaktplan , KOP (engl. Ladder Diagram, LD) Funktionsbausteinsprache , FBS oder FUP genannt (engl. Function Block Diagram, FBD) Ablaufsprache, AS (engl. Sequential Function Chart, SFC)","title":"Programmiersprachen f\u00fcr SPS"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#programm","text":"Programm liefert bei der Ausf\u00fchrung einen oder mehrere Werte und speichert diese in Variablen Alle Werte bleiben nach einer Ausf\u00fchrung des Programms bis zur n\u00e4chsten Ausf\u00fchrung erhalten z.B. der Status der Lampe im Hauptprogramm bis zur Ausf\u00fchrung des n\u00e4chsten Zyklus","title":"Programm"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#aufgabe-4_2_1-automatik-licht","text":"Anwendungsfall: Eine smarte Lichtsteuerung soll eine Leuchte immer anschalten, wenn es dunkel ist und eine Anwesenheit erkannt wird F\u00fcr unsere smarte Lichtsteuerung k\u00f6nnte das f\u00fcr eine Programmierung mittels Strukturiertem Text wie folgt aussehen, wenn wir statt analogen digitale Eing\u00e4nge verwenden: PROGRAM MAIN // Main Programm wird definiert VAR // Variablen werden deklariert bInAnwesenheit1 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Anwesend bInDunkelheit2 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Dunkel bOutLicht1 : BOOL; // der Variable f\u00fcr Licht. True = An END_VAR bOutLicht1 := bInAnwesenheit1 AND bInDunkelheit2; // Logische Verkn\u00fcpfung (nur wenn beides erf\u00fcllt ist, geht das Licht an) Welche Unterschiede zu Python fallen Ihnen auf?","title":"\u270d\ufe0f Aufgabe 4_2_1: Automatik Licht"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#losung","text":"PROGRAM MAIN // Main Programm wird definiert VAR // Variablen werden deklariert bInAnwesenheit1 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Anwesend bInDunkelheit2 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Dunkel bOutLicht1 : BOOL; // der Variable f\u00fcr Licht. True = An END_VAR bOutLicht1 := bInAnwesenheit1 AND bInDunkelheit2; // Logische Verkn\u00fcpfung (nur wenn beides erf\u00fcllt ist, geht das Licht an) * Kommentare mit // eingef\u00fchrt * Zeilen werden mit ; abgeschlossen * Variablen und Ihr Typ m\u00fcssen deklariert werden (Name und Datentyp werden festgelegt): <Variablenname>:<Typ> * Der Wert der Variable wird \u00fcber := gesetzt: <Variablenname>:=<Variablenwert>","title":"L\u00f6sung"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#wichtige-datentypen","text":"BOOL : Boolean INT : Integer (nur positiv) z.B. Bit-Werte der Eingangsklemmen UNIT : Unsigned Integer (nur positiv) REAL : Gleitkommazahl z.B. Interne Darstellung der physikalischen G\u00f6\u00dfen weitere","title":"Wichtige Datentypen"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#if-anweisungen","text":"IF-Anweisung kann man eine Bedingung abpr\u00fcfen und abh\u00e4ngig von dieser Bedingung ein Anweisungen ausf\u00fchren IF <Boolescher_Ausdruck1> THEN <IF_Anweisungen> {ELSIF <Boolescher_Ausdruck2> THEN <ELSIF_Anweisungen1> . . ELSIF <Boolescher_Ausdruck n> THEN <ELSIF_Anweisungen n-1> ELSE <ELSE_Anweisungen>} END_IF;","title":"IF-Anweisungen"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#ausdrucke-in-den-sind-optional","text":"","title":"Ausdr\u00fccke in den {} sind optional"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#beispiel","text":"IF temp < 17 THEN heizung_an := TRUE ; ELSE heizung_an := FALSE ; END_IF ; Keine Einr\u00fcckungen wie bei Python erforderlich","title":"Beispiel"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#aufgabe-4_2_2-wechselschaltung","text":"Wie k\u00f6nnen wir daf\u00fcr sorgen, dass das Licht den Zustand wechselt, wenn einer der beiden Schalter bet\u00e4tigt wird?","title":"\u270d\ufe0f Aufgabe 4_2_2: Wechselschaltung"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#losung_1","text":"IF ( bInS1 OR bInS2 ) THEN bOut1 = not ( bOut1 ) else : bOut1 = bOut1","title":"L\u00f6sung"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#funktionsbausteine","text":"Funktionsbaustein liefert einen oder mehrere Werte . Die Werte der Ausgabevariablen und der internen Variablen bleiben bis zur n\u00e4chsten Ausf\u00fchrung erhalten (lokalen Variablen werden nicht gel\u00f6scht) Vergleichbar eine Klasse, mit einer Methode, die immer wieder aufgerufen wird Vorsicht : bei mehrmaligem Aufruf mit denselben Eingabevariablen werden so nicht unbedingt dieselben Ausgabewerte geliefert vgl. Hysterese)","title":"Funktionsbausteine"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#funktionsbaustein","text":"Zun\u00e4chst wird eine Blaupause (Klasse) erstellt, sie beschreibt, welche Ein-, Ausgaben, und Zwischenwerte ein Funktionsbaustein enth\u00e4lt (Variablen) und welche Berechnungen diese ausf\u00fchrt Im Hauptprogramm ( MAIN ) k\u00f6nnen eine oder mehrere Objekte des Bausteins instanziiert werden (als Variable deklariert werden) Auch bei der Arbeit mit Funktionsbausteinen gilt das EVA-Prinzip","title":"Funktionsbaustein"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#warum-gibt-es-beides-funktionen-und-funktionsbausteine","text":"z.B. Anwendung von Funktionsbaustein f\u00fcr verschiedene R\u00e4ume nach 100 Bewegungen soll gel\u00fcftet werden w\u00fcrde mit Funktion eine globale Variable pro Raum ben\u00f6tigen","title":"Warum gibt es beides - Funktionen und Funktionsbausteine?"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#aufgabe-4_2_3-funktionsbaustein-counter","text":"Schreiben Sie eine Klasse f\u00fcr einen Funktionsbaustein, der eine Z\u00e4hlervariable um eins erh\u00f6ht und den aktuellen Wert zur\u00fcckgibt Zudem soll der Z\u00e4hler zur\u00fcckgesetzt werden k\u00f6nnen class Counter : def __init__ ( self ): self . count = 0 class Counter : def __init__ ( self ): self . count = 0 def increment ( self ): self . count = self . count + 1 return self . count def reset ( self ): self . count = 0 return self . count c = Counter () c . increment () c . increment () print ( c . increment ())","title":"\u270d\ufe0f Aufgabe 4_2_3: Funktionsbaustein Counter"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#verwendung-von-programm-organisationseinheiten","text":"Programme Direkte Verbindung zu Ein- und Ausgabeeinheiten Grundger\u00fcst ist das Hauptprogramm MAIN , welches zyklisch ausgef\u00fchrt wird und angibt welche Funktionen und Funktionsbausteine aufgerufen werden Funktion Wiederverwendbare Elemente Es gibt viele Standardfunktionen ohne internen Speicher Funktionsbausteine Komplexer as Funktionen K\u00f6nnen Variablen erhalten z.B. Z\u00e4hler","title":"Verwendung von Programm-Organisationseinheiten"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#strukturierter-text","text":"","title":"Strukturierter Text"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#anweisungen","text":"Wie in anderen h\u00f6heren Programmiersprachen gibt es Anweisungen die den Text strukturieren Zuweisung : Auf der linken Seite einer Zuweisung := steht ein Operand (Variable, Adresse), dem der Wert des Ausdrucks auf der rechten Seite zugewiesen wird: Var1 := Var2 * 10;","title":"Anweisungen"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#aufruf-von-funktionen-und-funktionsblocken","text":"Aufruf eines Funktionsblocks: Aufruf durch Namen der Funktion oder Instanz des Funktionsblocks und in Klammer die gew\u00fcnschten Werte der Parameter hier wird die Funktion FIND aufgerufen, um STR2 in STR1 zu finden Die \u00fcbergebenen Parameter sind beide Zeichenketten / Strings Funktionen haben einen fixen R\u00fcckgabetyp (z.B. die Position als INT)","title":"Aufruf von Funktionen und Funktionsbl\u00f6cken"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#globale-und-lokale-variablen","text":"Wichtiges Prinzip in der Programmierung Verhindert unbeabsichtigte Eingriffe Nur globale Variablen sind von \u00fcberall sichtbar lokale Variablen , k\u00f6nnen z.B. innerhalb eines Programms oder Funkion definiert werden und sind nur darin sichtbar Alle Variablen sind zun\u00e4chst nur innerhalb der jeweiligen POU sichtbar","title":"Globale und lokale Variablen"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#arrays-datenfelder-listen-gleichen-datentyps","text":"/ Deklaration VAR aCounter : ARRAY[0..9] OF INT; END_VAR //Deklaration mit Initialisierung: aCounter : ARRAY[0..9] OF INT := [0, 10, 20, 30, 40, 50, 60, 70, 80, 90]; //Datenzugriff 1: //Der lokalen Variablen wird der Wert 20 zugewiesen. nLocalVariable := aCounter[2];","title":"Arrays - Datenfelder (Listen gleichen Datentyps)"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#weitere-anweisungen","text":"Return wird genutzt, um einen Baustein zu verlassen EXIT -Anweisung** wenn diese in einer FOR-, WHILE- oder REPEAT-Schleife vorkommt, dann wird die innerste Schleife beendet, ungeachtet der Abbruchbedingung. Aufruf einer Fuktion : Analog zu Python werden der Funktionsname genannt und in Klammern die Attribute \u00fcbergeben (z.B. SQRT(IN := 9) )","title":"Weitere Anweisungen"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#funktionsplan","text":"","title":"Funktionsplan"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#lernziele","text":"Nach dieser Einheit sind Sie in der Lage dazu - einfache bin\u00e4re Funktionspl\u00e4ne lesen und aufbauen - einfache Bausteine (Vergleiche, Mathematische Operatoren) interpretieren - die Wirkweise von Zeitbausteinen skizzieren und diese passenden Anwendungsf\u00e4llen zuzuordnen","title":"\ud83c\udfaf Lernziele"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#binarer-funktionsplan-fup","text":"Grafische Programmiersprache, nach EVA -Prinzip (links nach rechts) Jeder Baustein ist ein Funktionsbaustein (Funktionsblock) Bausteine mit Symbolen z.B. & f\u00fcr logisches und ( \\(\\land\\) ) >=1 f\u00fcr logisches oder ( \\(\\lor\\) ) Links gehen die Eing\u00e4nge in die Bausteine. Ergebnisse werden rechts weitergegeben. Variablen die gesetzt werden stehen \u00fcber den Bausteinen (vgl. Spule bei Kontaktplan, hier A0.1 )","title":"(Bin\u00e4rer) Funktionsplan (FUP)"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpswwwsps-lehrgangdezusammengesetzte-verknuepfungen","text":"","title":"https://www.sps-lehrgang.de/zusammengesetzte-verknuepfungen/"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#negieren-von-ein-und-ausgangen","text":"Bei bin\u00e4ren Ein- und Ausg\u00e4ngen kann der Wert durch einen Kreis negiert werden TRUE wird zu FALSE FALSE wird zu TRUE","title":"Negieren von Ein- und Ausg\u00e4ngen"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpswwwsps-lehrgangdezusammengesetzte-verknuepfungen_1","text":"","title":"https://www.sps-lehrgang.de/zusammengesetzte-verknuepfungen/"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#aufgabe-4_2_4-binarer-funktionsplan","text":"E0.1 = TRUE E0.2 = TRUE E0.3 = FALSE E0.4 = TRUE - Was ist A0.1 ?","title":"\u270d\ufe0f Aufgabe 4_2_4: Bin\u00e4rer Funktionsplan"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpswwwsps-lehrgangdezusammengesetzte-verknuepfungen_2","text":"","title":"https://www.sps-lehrgang.de/zusammengesetzte-verknuepfungen/"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#zeitbausteine","text":"Ein guter Bewegungsmelder w\u00fcrde nicht sofort erl\u00f6schen, wenn keine Bewegung mehr registriert wird, sondern f\u00fcr ein Nachleuchten der Lampen sorgen (Nachlauf) Die k\u00f6nnte \u00fcber das Z\u00e4hlen der Zyklus-Zeiten gesteuert werden, hierzu m\u00fcssten aber alle Zyklen auf jeder Steuerung gleich lang sein Stattdessen k\u00f6nnen spezielle Bausteine , wie z.B. TOF (Timer off), Ausschaltverz\u00f6gerung eingesetzt werden.","title":"Zeitbausteine"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#tof-ausschaltverzogerung-timer-off","text":"verl\u00e4ngert Signal nach Wechsel auf Off (False) IN bin\u00e4rer Eingang PT Gesetzte Ausschaltverz\u00f6gerung Q bin\u00e4rer Ausgang mit Impuls ET Vergangene Zeit seit Erkennen des Ende des Eingangsignals","title":"TOF: Ausschaltverz\u00f6gerung (Timer Off)"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpswwwxplore-dnanetmodpageviewphpid168","text":"","title":"https://www.xplore-dna.net/mod/page/view.php?id=168"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#aufgabe-4_2_5-erweiterung-um-nachlauf-von-einer-sekunde","text":"","title":"\u270d\ufe0f Aufgabe 4_2_5 Erweiterung um Nachlauf von einer Sekunde"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#impulsbildung","text":"wandelt positive Flanke in Impuls mit fixer L\u00e4nge IN bin\u00e4rer Eingang PT Gesetzte Impulsl\u00e4nge Q bin\u00e4rer Ausgang mit Impuls ET Vergangene Zeit seit Impulsstart (Elapsed Time)","title":"Impulsbildung"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpswwwxplore-dnanetmodpageviewphpid166","text":"","title":"https://www.xplore-dna.net/mod/page/view.php?id=166"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#ton-einschaltverzogerung","text":"verz\u00f6gerte Aktivierung, sofern Mindestdauer erreicht IN bin\u00e4rer Eingang PT Gesetzte Einschaltverz\u00f6gerung Q bin\u00e4rer Ausgang mit Impuls ET Vergangene Zeit seit Erkennen des Eingangsignals","title":"TON: Einschaltverz\u00f6gerung"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpswwwxplore-dnanetmodpageviewphpid167","text":"","title":"https://www.xplore-dna.net/mod/page/view.php?id=167"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#tonr-zeitakkumulator","text":"Gibt aufsummierte Zeit sobald Mindestwert erreicht ET Zeit bis zur Ausgabe PT Maximalzeit bis Ausgabe IN bin\u00e4rer Start-Eingang R bin\u00e4rer Reset-Eingang Q bin\u00e4rer Ausgang zeigt wann PT erreicht","title":"TONR: Zeitakkumulator"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpswwwxplore-dnanetmodpageviewphpid168_1","text":"","title":"https://www.xplore-dna.net/mod/page/view.php?id=168"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#aufgabe-2_4_6-zeitbausteine","text":"Zeichnen Sie das Ausgangssignal einer Ausschaltverz\u00f6gerung TOF mit PT = 2s eines Impulsgenerators TP mit PT = 0.5s","title":"\u270d\ufe0f Aufgabe 2_4_6: Zeitbausteine"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#zahler","text":"Z\u00e4hlt Flanken (\u00c4nderungen False auf True ) CU bin\u00e4rer Eingang an dem die Flanken gez\u00e4hlt werden (Count Up) R Reset-Eingang um Z\u00e4hler zur\u00fcckzusetzen PV Oberer Grenzwert CV Ausgang der hoch z\u00e4hlt (Counter Value) Q Z\u00e4hlerstatus im Vergleich mit PV","title":"Z\u00e4hler"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#weitere-bausteine","text":"","title":"Weitere Bausteine"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#trigger-bausteine","text":"Erkennen steigende oder fallende Flanken F_TRIG f\u00fcr fallende Flanken R_TRIG f\u00fcr steigende (rising) Flanken Anstelle von zur\u00fccksetzen der Taster (Bild) Szenenwechsel wird nur bei Aktivierung eines Tasters aktiviert","title":"Trigger-Bausteine"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#speicherbausteine","text":"Zuweisungen bleiben i.d.R. nur solange bestehen wie die Eing\u00e4nge auf den vorherigen Block wirken. Zuweisungen bleiben i.d.R. nur solange wie die Eing\u00e4nge auf den vorherigen Block wirken. Speicherglieder und Flipflops erhalten den Wert , auch wenn die Setz-Bedingung nicht mehr gegeben ist. Ausgang setzen im FUP Hier wird der Wert von A0.1 gesetzt (S f\u00fcr set)","title":"Speicherbausteine"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#sr-flipflop","text":"der Ausgang Q wird abh\u00e4ngig vom Signalzustand der Eing\u00e4nge S (et) und R (eset) dauerhaft gesetzt Wenn der Signalzustand am Eingang S=1 und am Eingang R=0 ist, wird Q=1 gesetzt. S=0 und am Eingang R=1 ist, wird auf Q=0 zur\u00fcck gesetzt. bei SR-Flipfops dominiert Eingang S den Eingang R . Bei 1 an beiden Eing\u00e4ngen wird der Operanden auf \"1\" gesetzt S R Q 0 0 Q 1 0 1 0 1 0 1 1 1","title":"SR-Flipflop"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpswwwxplore-dnanetmodpageviewphpid173","text":"","title":"https://www.xplore-dna.net/mod/page/view.php?id=173"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#rs-flipflop","text":"Der Eingang R dominiert den Eingang S . Bei einem Signalzustand 1 an beiden Eing\u00e4ngen wird der Signalzustand des angegebenen Operanden auf \"0\" zur\u00fcckgesetzt. S R Q 0 0 Q 1 0 1 0 1 0 1 1 0","title":"RS-Flipflop"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpswwwxplore-dnanetmodpageviewphpid1038","text":"","title":"https://www.xplore-dna.net/mod/page/view.php?id=1038"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#speicherbausteine-und-variablen","text":"Ist das Programm in der Lage interne Variablen zu speichern, kann der Einsatz von Speicherbausteinen durch Zuweisungen ersetzt werden","title":"Speicherbausteine und Variablen"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#zusammenfassung-und-ausblick","text":"komplexe neuartige Probleme lassen sich h\u00e4ufig am besten \u00fcber strukturierten Text l\u00f6sen f\u00fcr viele bestehende Anwendungsf\u00e4lle stehen in verschiedenen Softwarel\u00f6sungen bereits Funktionen und Funktionsbl\u00f6cke bereit","title":"Zusammenfassung und Ausblick"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#automatiklicht","text":"bSwi : Eine steigende Flanke an diesem Eingang schaltet den Baustein und das Licht wechselweise ein und aus. bOn : Eine steigende Flanke an diesem Eingang schaltet den Baustein und das Licht gezielt ein. bOff : Eine steigende Flanke an diesem Eingang schaltet das Licht und die Gesamtfunktion des Bausteins aus. fOut : Steuerausgang f\u00fcr Lichtaktoren (0\u2026100 %).","title":"Automatiklicht"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpsinfosysbeckhoffcomindexphpcontentcontent1031tf8040_tc3_buildingautomation9255011851htmlid7218420269355608175","text":"","title":"https://infosys.beckhoff.com/index.php?content=../content/1031/tf8040_tc3_buildingautomation/9255011851.html&amp;id=7218420269355608175"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#pid-regler","text":"fSetpointValue : Sollwert der Regelgr\u00f6\u00dfe fActualValue : Istwert der Regelgr\u00f6\u00dfe fOut : Ausgang des PID-Glieds Was fehlt noch? fKp : Reglerbeiwert tTn : Nachstellzeit tTv : Vorhaltzeit in stParams","title":"PID-Regler"},{"location":"4_2_Sprachen_nach_IEC_61131-3/#httpsinfosysbeckhoffcomindexphpcontentcontent1031tf4100_tc3_controller_toolbox245435787htmlid","text":"","title":"https://infosys.beckhoff.com/index.php?content=../content/1031/tf4100_tc3_controller_toolbox/245435787.html&amp;id="},{"location":"4_3_Appendix_Twincat/","text":"\ud83e\udd13 Appendix: Twincat Installation Twincat und Erstes Projekt \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu - eine Testinstanz von TwinCat 3 auf ihrem Rechner auszuf\u00fchren - ein einfaches Hallo World Programm mit Strukturiertem Text schreiben und ausf\u00fchren Installation Twincat und Erstes Projekt Download und Installation von TwinCat Handbuch Quelle und gutes Video zum nachmachen Probleml\u00f6sung, wenn Code nicht ausf\u00fchrbar AdsError: 4132 + \"HyperV\" Problem win8settick.bat im TwinCat Ordner als Admin ausf\u00fchren Was ist TwinCat Software f\u00fcr SPS Entwicklungen und Bertrieb Entwicklungsumgebung : Programm zum Entwickeln von Programmen Laufzeitumgebung : \u00dcberwachnung von kompilierten Programmen Code wird auf SPS geladen und dort ausgef\u00fchrt Alternativ kann zum Testen eine virutelle SPS auf dem Entwicklungs-PC gestartet werden Ausf\u00fchren des Programms TwinCat wird in der Regel auf einem PC gestartet Teilweise sind auch kleine PCs direkt auf die Hutschiene mit der SPS installiert Entwicklungsumgebung Zun\u00e4chst startet TwiNCat im Entwicklungsmodus Erkennbar am blauen Zahnrad Anlegen eines neuen Projektes Neues Projekt anlegen kein SPS-Projekt Anlegen eines neuen SPS-Projektes Innerhalb des Projektes wird ein neues SPS-Projekt angelegt Rechtsklick auf SPS (Neues Element hinzuf\u00fcgen) Nutzen der Vorlage (Standard PLC Project) \u00d6ffnen des Main Programms Relevant ist das MAIN-Programm unter /POU/ Dieses besteht aus einem Variablen (oben) und einem Code-Editor (mitte) Variablen Deklarieren Variablen k\u00f6nnen in Tabellen- und Textueller Ansicht angezeigt werden (rechts oben) Wichtige Datentypen BOOL : Boolean INT : Integer (nur positiv) z.B. Bit-Werte der Eingangsklemmen UNIT : Unsigned Integer (nur positiv) REAL : Gleitkommazahl z.B. Interne Darstellung der physikalischen G\u00f6\u00dfen weitere Zyklische Ausf\u00fchrung SPS hat eine feste Zykluszeit In dieser wir das Main-Programm wiederholt ausgef\u00fchrt Variablenzust\u00e4nde werden erhalten Zyklische Ausf\u00fchrung Ablauf Eing\u00e4nge werden gelesen Main-Programm wird ausgef\u00fchrt Ausg\u00e4nge werden geschrieben \u00c4nderungen nach dem Einlesen, werden erst im n\u00e4chsten Zyklus erfasst \u270d\ufe0f Aufgabe 4_3_1: Blinker Schreiben Sie ein Main Programm, das den Zustand einer LED alle 100 Zyklen wechselt. Tipps: - LedStatus := NOT(LedStatus) zum wechseln (toggeln) - Variable, die die Zyklen z\u00e4hlt - IF -Anweisung Aufgabe Programmieren Sie einen einfachen Bewegungsmelder basierend auf drei Variablen: bInAnwesenheit1 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Anwesend bInDunkelheit2 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Dunkel bOutLicht1 : BOOL ; // der Variable f\u00fcr Licht. True = An L\u00f6sung Wir m\u00f6chten einen Bewegungsmelder implementieren, welcher nur bei Dunkelheit und Bewegung ein Licht anschaltet. Hierzu definieren wir die Variablen als: PROGRAM MAIN // Beschreibung an welcher Stelle die Variablen g\u00fcltig sein sollen VAR // Beginn der Variablen Deklaration bInAnwesenheit1 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Anwesend bInDunkelheit2 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Dunkel bOutLicht1 : BOOL; // der Variable f\u00fcr Licht. True = An END_VAR Implementieren der Steuerungslogik Das Licht soll nur angehen, wenn bInAnwesenheit1 und bInDunkelheit2 auf True stehen. Standardm\u00e4\u00dfig ist das Main-Programm Strukturierter Text. Dies kann aber ge\u00e4ndert werden. L\u00f6sung ``` bOutLicht1 := bInAnwesenheit1 AND bInDunkelheit2; // Logische Verkn\u00fcpfung (nur wenn beides erf\u00fcllt ist, geht das Licht an) ```` Bef\u00fcllen des Main Programmes fertiges Programm, welches in jedem Zyklus ausgef\u00fchrt wird Kompilieren Zum Ausf\u00fchren muss der Code kompiliert werden Hierzu dient das Symbol mit der kleinen blauen Treppe Testlizenz Die Testlizenz l\u00e4uft 7 Tage und kann immer wieder erneuert werden Im Produktivbetrieb w\u00e4re regelm\u00e4\u00dfiges Erneuern sehr st\u00f6rend Testlizenz aktivieren und SPS ausw\u00e4hlen TwinCat startet im Laufzeitmodus Nun kann der Code grundlegend ausgef\u00fchrt werden Erkennbar am gr\u00fcnen Zahnrad unten rechts Auf SPS einloggen und Programm in Speicher laden Als n\u00e4chstes loggen wir uns auf eine SPS ein, um den Code dorthin zu \u00fcbertragen In unserem Fall ist das die virtuelle SPS auf unserem Rechner Meldung, das Programm bisher noch nicht besteht Werte in SPS schreiben Um nun Werte zu setzen (die nicht von au\u00dfen vorgegeben sind), gibt es folgendes Vorgehen \"Vorbereiteten Wert\" eingeben \"Wert schreiben\", um den Wert zu setzen Zyklus-Schritt umsetzen Damit die \u00c4nderung auf im Ergebnis wirksam wird, k\u00f6nnen wir manuell einen Zyklusschritt durchf\u00fchren (blauer Kreispfeil) Hierdurch wird das Main-Programm einmal mit den neuen Werten ausgef\u00fchrt alternativ kann die SPS auch im Echtzeitbetrieb betrieben werden (gr\u00fcner Pfeil) Ausloggen Nach Beendigung k\u00f6nnen wir uns wieder ausloggen und in den Entwicklungsmodus zur\u00fcckkehren \u270d\ufe0f 4_3_1Aufgabe 4_3_2: Bewegungsmelder FUP Erstellen Sie f\u00fcr die gleiche Logik ein Funktionsbausteinplan Legen Sie ein neues SPS-Projekt an (Rechtsklick) L\u00f6schen Sie das MAIN-Programm Erstellen Sie in neues POU MAIN als Funktionsbausteinsprache (FUP) Variablendeklaration \u00dcbernehmen Sie die Variablendeklaration Ziehen Sie einen Baustein aus der Toolbox in das FUP-Feld Bausteine W\u00e4hlen sie den Typ des Bausteins ( ... ) Benennen Sie den Baustein mit AND wird dies automatisch erkannt W\u00e4hlen Sie die Variablen als Eing\u00e4nge F\u00fcgen Sie eine Zuweisung am Ausgang an und vergeben Sie die Variable Im Gegensatz zu Funktionen (z.B. AND ) werden Funktionsbl\u00f6cke als Variablen mit eigenem Namen instanziiert L\u00f6sung Probleml\u00f6sung, wenn SPS nicht ausf\u00fchrbar AdsError: 4132 + \"HyperV\" Problem win8settick.bat im TwinCat Ordner als Admin ausf\u00fchren Zusammenfassung TwinCat - Entwicklung Oberste Ebene ist das Projekt (ErsteSchritteVorlesung) Darunter gibt es SPS -Projekte (1_SPS_HelloWorld) In POUs liegen die Programme Daneben Visualisierungen (VISUs) und andere Funktionn Zusammenfassung TwinCat - Ausf\u00fchrung Es muss das richtige Zielsystem ausgew\u00e4hlt werden Ansonsten wird der Code Lokal auf dem aktuellen Rechner ausgef\u00fchrt Ist ein Zielsystem mit Klemmen verbunden, so werden diese unter E/A angezeigt ePC Verbinden Wird lokal auf einem PC entwickelt, und m\u00f6chte man den Code auf der SPS ausf\u00fchren, muss man den PC und den embeddedPC der SPS mit einem Netzwerkkabel verbinden Schritte aus Video TwinCat im Configmodus starten verbinden digitale und analoge Welt Dropdown / Zielsystem w\u00e4hlen Suchen im Netzwerk: Suchen (Ethernet) / Broadcastsuche ePC ausw\u00e4hlen (MAC1-Addresse, letzte & Zeichen) Klemmen Scannen Schritte: TwinCat im Configmodus starten Men\u00fcpunkt E/A / Scannen - Nach Boxen (Klemmen) suchen - Free Run aktivieren Klemmen mit Typ werden angezeigt Funktion: Zeige Online-Daten aktivieren (Blaue Kugel mit roten Pfeilen) Channel / Input / \u00d6ffnen Datentyp der Varialben \u00fcberpr\u00fcfen Verbindung von Hardwaresignalen zu Variablen Passende Variablen in Main anlegen Deklarieren ob Eingangs oder Ausgangs-Variable ( AT%I* vs AT%Q* ) PROGRAM MAIN VAR bInTaster AT%I*: BOOL; bInTaster AT%Q*: BOOL; END_VAR Button: Konfiguration Aktivieren Klemme und Channel ausw\u00e4hlen Reiter Variable Verkn\u00fcpft mit ausw\u00e4hlen Konfiguration aktivieren \u270d\ufe0f Aufgabe 4_3_3: Funktion Lineare Transformation An einen Analog-Eingang (z.B. 0...10 V) mit einer Aufl\u00f6sung von 12 Bit ( \\(2^{12}=4096\\) m\u00f6gliche Zust\u00e4nde) ist ein Drucksensor mit Messbereich von 0...10 bar angeschlossen Durch eine Funktion sollten die vom Eingang gemessenen Integer-Werte in einen Druck in bar umgerechnet werden L\u00f6sung: FUN_LinearTransformation FUNCTION FUN_LinearTransformation : REAL // Funktionsname und Typ der R\u00fcckgabe VAR_INPUT value_to_transform : INT; // Wert der Transformiert werden soll min_eingang : REAL; // Untere Grenze der Eingabe (z.B. 0) min_ausgang : REAL; // Untere Grenze der Ausgabe (z.B. 0 bar) max_eingang : REAL; // Obere Grenze der Eingabe (z.B. 2**12) max_ausgang : REAL; // Obere Grenze der Ausgabe (z.B. 10 bar) END_VAR VAR steigung : REAL; // Steigung als Zwischenvariable END_VAR steigung := (max_ausgang-min_ausgang)/(max_eingang-min_eingang); // Berechnung der Steigung der Geraden, Wird jedes mal neu berechnet FUN_LinearTransformation := value_to_transform * steigung + min_ausgang; // Anwendungs der linearen Transformation L\u00f6sung: MAIN PROGRAM MAIN VAR aInPressure : INT; // Eingangswert von Analogem Eingang pressure_bar : REAL; // Umgerechneter Wert in physikalische Gr\u00f6\u00dfe z.B. bar END_VAR pressure_bar := FUN_LinearTransformation(value_to_transform := aInPressure, min_eingang := 0, min_ausgang := 0, max_eingang := 4096, max_ausgang := 10); Operatoren nach Bindungsst\u00e4rke Operation Symbol Bindungsst\u00e4rke Einklammern (<Ausdruck>) St\u00e4rkste Bindung Funktionsaufruf <Funktionsname>(Parameterliste) Potenzieren EXPT Negieren - Komplementbildung NOT Multiplizieren * Dividieren / Modulo MOD Addieren + Operation Symbol Bindungsst\u00e4rke Subtrahieren - Vergleiche < , > , <= , >= Gleichheit Ungleichheit = Gleichheit Ungleichheit <> Bool AND AND Bool XOR XOR Bool OR OR Schw\u00e4chste Bindung https://infosys.beckhoff.com/index.php?content=../content/1031/tcplccontrol/html/tcplcctrl_languages%20st.htm&id=5754912264349492758 \u270d\ufe0f 4_3_4 Aufgabe: Auswertung von Ausdr\u00fccken Werten Sie die folgenden Ausdr\u00fccke aus foo := (3+2) EXPT 2; (* *) ba := 3 + 2 EXPT 2; (* *) blub := foo + 3 (* *) result := blub > 10 (* *) L\u00f6sung foo := (3+2) EXPT 2; (* 25 *) ba := 3 + 2 EXPT 2; (* 7 *) blub := foo + 3; (* 28 *) result := blub > 10; (* TRUE *) Zusammenfassungen Anweisungen Anweisungsart Beispiel Zuweisung A:=B; CV := CV + 1; C:=SIN(X); Aufruf eines Funktionsblocks CMD_TMR(IN := %IX5, PT := 300);A:=CMD_TMR.Q; RETURN RETURN; IF IF D<0.0 THEN C:=A; ELSIF D=0.0 THEN C:=B; ELSE C:=D; END_IF; CASE CASE INT1 OF 1: BOOL1 := TRUE; 2: BOOL2 := TRUE; ELSE BOOL1 := FALSE; BOOL2 := FALSE; END_CASE; FOR FOR J:=101; FOR I:=1 TO 100 BY 2 DO IF ARR[I] = 70 THEN J:=I; EXIT; END_IF; END_FOR; WHILE WHILE J<= 100 AND ARR[J] <> 70 DO J:=J+2; END_WHILE; REPEAT REPEAT J:=J+2; UNTIL J= 101 OR ARR[J] = 70 END_REPEAT; EXIT EXIT; Leere Anweisung ; \u270d\ufe0f 4_3_5: Aufgabe Heizungsanlage Im Falle eines Appartmenthauses haben Sie es mit einer sehr st\u00f6rrischen Heizungsanlage zu k\u00e4mpfen. F\u00e4llt diese aus, so startet sie h\u00e4ufig erst nach einigen Anlaufversuchen. Um \u00fcber die n\u00e4chsten Wochen zu kommen, bis eine neue Heizung installiert werden kann, programmieren Sie eine Notl\u00f6sung: Den Heizungsstatus k\u00f6nnen Sie \u00fcber die Boolesche Variable aInHeatingStatus auslesen. . Die Heizungsanlage kann mit der Funktion START_HEATING_SYSTEM() neu gestartet. Die Funktion hat keine Parameter, gibt aber den Wert TRUE zur\u00fcck, wenn der Startversuch erfolgreich war. Wenn dies nach 20 Versuchen nicht funktionieren sollte, wird es Zeit die Techniker:in zu informieren, damit diese sich dem Problem vor Ort annimmt. Hierzu wurde die Funktion NOTIFY_TECHNICIAN() bereitgestellt. Wenn es besonders kalt ist (5\u00b0C) ist das Problem besonders kritisch: anstelle des Techniker:innen, sollen in diesem Fall alle Mitarbeitenden informiert werden ( NOTIFY_ALL() ). Die Umgebungstemperatur k\u00f6nnen Sie mit der Variable aInTempOutside abrufen. Schreiben Sie ein Steuerungsprogramm als Strukturierten Text, welches in jedem Zyklus die Status der Heizungsanlage \u00fcberwacht, diese bei Bedarf neu startet und ggf. die Techniker:innen und anderen Mitarbeiter:innen informiert. Nutzen Sie dazu Schleifen und IF-Anweisungen. Gehen Sie von einer sehr langsamen Zykluszeit der Steuerung aus (ca. 5 Minute). Ein Startversuch hingegen dauert nur 2 Sekunden. Hinweise: // Abfrage des Status zu Beginn jedes Zyklus IF aInHeatingStatus = False THEN <...> // Mehrfacher Versuch des Starts FOR Versuch:=1 TO 20 BY 1 DO <...> END_FOR; // Aufruf der Startfunktion und gleichzeitiges Speichern der R\u00fcckgabe aInHeatingStatus := START_HEATING_SYSTEM() L\u00f6sung In jedem Zyklus fragen wird zu Beginn den Status der Anlage ab und werden nur aktiv, wenn diese nicht l\u00e4uft // Abfrage des Status zu Beginn jedes Zyklus IF aInHeatingStatus = False THEN <...> Dann f\u00fchren wir 20 Startversuche auf. Dazu rufen wir die Funktion START_HEATING_SYSTEM in der For-Schleife auf. FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf*) END_FOR; L\u00f6sung Da wir die Versuche stoppen k\u00f6nnen, wenn die Heizung erfolgreich gestartet ist, wollen wir das Ergebnis des Startversuches in einer neuen Variable aInHeatingStatus speichern. FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus := START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf*) END_FOR; L\u00f6sung Dazu \u00fcberpr\u00fcfen wir in jedem Schleifendurchlauf, ob das Starten geklappt hat. Wenn es geklappt hat, dann k\u00f6nnen wir die For-Schleife mit der Anweisung EXIT verlasse, ohne sie 20 mal zu durchlaufen. FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus :=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; END_FOR; L\u00f6sung Wenn wir beim 20. Versuch angelangt sind, und die Schleife immer noch nicht wegen Erfolgs verlassen haben, wird es Zeit den Techniker zu informieren. Die Funktion zur Information NOTIFY_TECHNICIAN wird ausgel\u00f6st, wenn wir den 20. Durchlauf erreichen. Das Pr\u00fcfen wir \u00fcber eine IF-Anweisung. Hier rufen wir eine Funktion ohne R\u00fcckgabe auf. Deswegen steht kein neuer Variablename links der Funktion. FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus:=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; IF Versuch = 20 THEN (* Beim 20. Versuch*) NOTIFY_TECHNICIAN(); (* Benachrichtige die Techniker:in *) END_IF; END_FOR; L\u00f6sung Um alle zu informieren, m\u00fcssen wir zus\u00e4tzlich die Au\u00dfentemperatur \u00fcberpr\u00fcfen. Hierzu k\u00f6nnen eine zweite If-Abfrage mit etwas komplizierterem Booleschen Ausdruck FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus:=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; IF Versuch = 20 THEN (* Beim 20. Versuch*) NOTIFY_ALL(); (* Benachrichtige alle *) END_IF; IF Versuch = 20 AND TEMP_OUTSIDE<5 THEN NOTIFY_TECHNICIAN(); (* Benachrichtige die Techniker:in *) END_IF; END_FOR; Alternativ lassen sich auch zwei If-Anweisungen schachteln FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus:=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; IF Versuch = 20 THEN (* Beim 20. Versuch *) NOTIFY_TECHNICIAN(); (* Benachrichtige die Techniker:in *) IF TEMP_OUTSIDE<5 THEN (* und kalter Witterung*) NOTIFY_ALL(); (* Benachrichtige all *) END_IF; END_IF; END_FOR; Gehen wir davon aus, dass der die Techniker:in sowohl auf der Liste in NOTIFY_TECHNICIAN als auch in NOTIFY_ALL steht, w\u00e4re es sch\u00f6n, wenn er/sie nur einmal informiert wird. Hierzu k\u00f6nnen wir die ELSIF Anweisung nutzen. FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus:=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; IF Versuch = 20 AND TEMP_OUTSIDE<5 THEN (* Beim 20. Versuch und kalter Witterung*) NOTIFY_ALL(); (* Benachrichtige all *) ELSIF Versuch = 20 THEN (* Beim 20. Versuch *) NOTIFY_TECHNICIAN(); (* Benachrichtige die Techniker:in *) END_IF; END_FOR; Erg\u00e4nzen des \u00e4u\u00dferen FOR -Loops, damit der Code nur ausgef\u00fchrt wird, wenn die Analge nicht l\u00e4uft: IF aInHeatingStatus = False THEN FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus:=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; IF Versuch = 20 AND TEMP_OUTSIDE<5 THEN (* Beim 20. Versuch und kalter Witterung*) NOTIFY_ALL(); (* Benachrichtige all *) ELSIF Versuch = 20 THEN (* Beim 20. Versuch *) NOTIFY_TECHNICIAN(); (* Benachrichtige die Techniker:in *) END_IF; END_FOR; END_IF;","title":"Twincat"},{"location":"4_3_Appendix_Twincat/#appendix-twincat","text":"","title":"\ud83e\udd13 Appendix: Twincat"},{"location":"4_3_Appendix_Twincat/#installation-twincat-und-erstes-projekt","text":"","title":"Installation Twincat und Erstes Projekt"},{"location":"4_3_Appendix_Twincat/#lernziele","text":"Nach dieser Einheit sind Sie in der Lage dazu - eine Testinstanz von TwinCat 3 auf ihrem Rechner auszuf\u00fchren - ein einfaches Hallo World Programm mit Strukturiertem Text schreiben und ausf\u00fchren","title":"\ud83c\udfaf Lernziele"},{"location":"4_3_Appendix_Twincat/#installation-twincat-und-erstes-projekt_1","text":"Download und Installation von TwinCat Handbuch Quelle und gutes Video zum nachmachen Probleml\u00f6sung, wenn Code nicht ausf\u00fchrbar AdsError: 4132 + \"HyperV\" Problem win8settick.bat im TwinCat Ordner als Admin ausf\u00fchren","title":"Installation Twincat und Erstes Projekt"},{"location":"4_3_Appendix_Twincat/#was-ist-twincat","text":"Software f\u00fcr SPS Entwicklungen und Bertrieb Entwicklungsumgebung : Programm zum Entwickeln von Programmen Laufzeitumgebung : \u00dcberwachnung von kompilierten Programmen Code wird auf SPS geladen und dort ausgef\u00fchrt Alternativ kann zum Testen eine virutelle SPS auf dem Entwicklungs-PC gestartet werden","title":"Was ist TwinCat"},{"location":"4_3_Appendix_Twincat/#ausfuhren-des-programms","text":"TwinCat wird in der Regel auf einem PC gestartet Teilweise sind auch kleine PCs direkt auf die Hutschiene mit der SPS installiert","title":"Ausf\u00fchren des Programms"},{"location":"4_3_Appendix_Twincat/#entwicklungsumgebung","text":"Zun\u00e4chst startet TwiNCat im Entwicklungsmodus Erkennbar am blauen Zahnrad","title":"Entwicklungsumgebung"},{"location":"4_3_Appendix_Twincat/#anlegen-eines-neuen-projektes","text":"Neues Projekt anlegen kein SPS-Projekt","title":"Anlegen eines neuen Projektes"},{"location":"4_3_Appendix_Twincat/#anlegen-eines-neuen-sps-projektes","text":"Innerhalb des Projektes wird ein neues SPS-Projekt angelegt Rechtsklick auf SPS (Neues Element hinzuf\u00fcgen) Nutzen der Vorlage (Standard PLC Project)","title":"Anlegen eines neuen SPS-Projektes"},{"location":"4_3_Appendix_Twincat/#offnen-des-main-programms","text":"Relevant ist das MAIN-Programm unter /POU/ Dieses besteht aus einem Variablen (oben) und einem Code-Editor (mitte)","title":"\u00d6ffnen des Main Programms"},{"location":"4_3_Appendix_Twincat/#variablen-deklarieren","text":"Variablen k\u00f6nnen in Tabellen- und Textueller Ansicht angezeigt werden (rechts oben)","title":"Variablen Deklarieren"},{"location":"4_3_Appendix_Twincat/#wichtige-datentypen","text":"BOOL : Boolean INT : Integer (nur positiv) z.B. Bit-Werte der Eingangsklemmen UNIT : Unsigned Integer (nur positiv) REAL : Gleitkommazahl z.B. Interne Darstellung der physikalischen G\u00f6\u00dfen weitere","title":"Wichtige Datentypen"},{"location":"4_3_Appendix_Twincat/#zyklische-ausfuhrung","text":"SPS hat eine feste Zykluszeit In dieser wir das Main-Programm wiederholt ausgef\u00fchrt Variablenzust\u00e4nde werden erhalten","title":"Zyklische Ausf\u00fchrung"},{"location":"4_3_Appendix_Twincat/#zyklische-ausfuhrung_1","text":"Ablauf Eing\u00e4nge werden gelesen Main-Programm wird ausgef\u00fchrt Ausg\u00e4nge werden geschrieben \u00c4nderungen nach dem Einlesen, werden erst im n\u00e4chsten Zyklus erfasst","title":"Zyklische Ausf\u00fchrung"},{"location":"4_3_Appendix_Twincat/#aufgabe-4_3_1-blinker","text":"Schreiben Sie ein Main Programm, das den Zustand einer LED alle 100 Zyklen wechselt. Tipps: - LedStatus := NOT(LedStatus) zum wechseln (toggeln) - Variable, die die Zyklen z\u00e4hlt - IF -Anweisung","title":"\u270d\ufe0f Aufgabe 4_3_1: Blinker"},{"location":"4_3_Appendix_Twincat/#aufgabe","text":"Programmieren Sie einen einfachen Bewegungsmelder basierend auf drei Variablen: bInAnwesenheit1 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Anwesend bInDunkelheit2 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Dunkel bOutLicht1 : BOOL ; // der Variable f\u00fcr Licht. True = An","title":"Aufgabe"},{"location":"4_3_Appendix_Twincat/#losung","text":"Wir m\u00f6chten einen Bewegungsmelder implementieren, welcher nur bei Dunkelheit und Bewegung ein Licht anschaltet. Hierzu definieren wir die Variablen als: PROGRAM MAIN // Beschreibung an welcher Stelle die Variablen g\u00fcltig sein sollen VAR // Beginn der Variablen Deklaration bInAnwesenheit1 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Anwesend bInDunkelheit2 : BOOL; // der Variable f\u00fcr Anwesenheit. True = Dunkel bOutLicht1 : BOOL; // der Variable f\u00fcr Licht. True = An END_VAR","title":"L\u00f6sung"},{"location":"4_3_Appendix_Twincat/#implementieren-der-steuerungslogik","text":"Das Licht soll nur angehen, wenn bInAnwesenheit1 und bInDunkelheit2 auf True stehen. Standardm\u00e4\u00dfig ist das Main-Programm Strukturierter Text. Dies kann aber ge\u00e4ndert werden. L\u00f6sung ``` bOutLicht1 := bInAnwesenheit1 AND bInDunkelheit2; // Logische Verkn\u00fcpfung (nur wenn beides erf\u00fcllt ist, geht das Licht an) ````","title":"Implementieren der Steuerungslogik"},{"location":"4_3_Appendix_Twincat/#befullen-des-main-programmes","text":"fertiges Programm, welches in jedem Zyklus ausgef\u00fchrt wird","title":"Bef\u00fcllen des Main Programmes"},{"location":"4_3_Appendix_Twincat/#kompilieren","text":"Zum Ausf\u00fchren muss der Code kompiliert werden Hierzu dient das Symbol mit der kleinen blauen Treppe","title":"Kompilieren"},{"location":"4_3_Appendix_Twincat/#testlizenz","text":"Die Testlizenz l\u00e4uft 7 Tage und kann immer wieder erneuert werden Im Produktivbetrieb w\u00e4re regelm\u00e4\u00dfiges Erneuern sehr st\u00f6rend","title":"Testlizenz"},{"location":"4_3_Appendix_Twincat/#testlizenz-aktivieren-und-sps-auswahlen","text":"","title":"Testlizenz aktivieren und SPS ausw\u00e4hlen"},{"location":"4_3_Appendix_Twincat/#twincat-startet-im-laufzeitmodus","text":"Nun kann der Code grundlegend ausgef\u00fchrt werden Erkennbar am gr\u00fcnen Zahnrad unten rechts","title":"TwinCat startet im Laufzeitmodus"},{"location":"4_3_Appendix_Twincat/#auf-sps-einloggen-und-programm-in-speicher-laden","text":"Als n\u00e4chstes loggen wir uns auf eine SPS ein, um den Code dorthin zu \u00fcbertragen In unserem Fall ist das die virtuelle SPS auf unserem Rechner Meldung, das Programm bisher noch nicht besteht","title":"Auf SPS einloggen und Programm in Speicher laden"},{"location":"4_3_Appendix_Twincat/#werte-in-sps-schreiben","text":"Um nun Werte zu setzen (die nicht von au\u00dfen vorgegeben sind), gibt es folgendes Vorgehen \"Vorbereiteten Wert\" eingeben \"Wert schreiben\", um den Wert zu setzen","title":"Werte in SPS schreiben"},{"location":"4_3_Appendix_Twincat/#zyklus-schritt-umsetzen","text":"Damit die \u00c4nderung auf im Ergebnis wirksam wird, k\u00f6nnen wir manuell einen Zyklusschritt durchf\u00fchren (blauer Kreispfeil) Hierdurch wird das Main-Programm einmal mit den neuen Werten ausgef\u00fchrt alternativ kann die SPS auch im Echtzeitbetrieb betrieben werden (gr\u00fcner Pfeil)","title":"Zyklus-Schritt umsetzen"},{"location":"4_3_Appendix_Twincat/#ausloggen","text":"Nach Beendigung k\u00f6nnen wir uns wieder ausloggen und in den Entwicklungsmodus zur\u00fcckkehren","title":"Ausloggen"},{"location":"4_3_Appendix_Twincat/#4_3_1aufgabe-4_3_2-bewegungsmelder-fup","text":"Erstellen Sie f\u00fcr die gleiche Logik ein Funktionsbausteinplan Legen Sie ein neues SPS-Projekt an (Rechtsklick) L\u00f6schen Sie das MAIN-Programm Erstellen Sie in neues POU MAIN als Funktionsbausteinsprache (FUP)","title":"\u270d\ufe0f 4_3_1Aufgabe 4_3_2: Bewegungsmelder FUP"},{"location":"4_3_Appendix_Twincat/#variablendeklaration","text":"\u00dcbernehmen Sie die Variablendeklaration Ziehen Sie einen Baustein aus der Toolbox in das FUP-Feld","title":"Variablendeklaration"},{"location":"4_3_Appendix_Twincat/#bausteine","text":"W\u00e4hlen sie den Typ des Bausteins ( ... ) Benennen Sie den Baustein mit AND wird dies automatisch erkannt W\u00e4hlen Sie die Variablen als Eing\u00e4nge F\u00fcgen Sie eine Zuweisung am Ausgang an und vergeben Sie die Variable Im Gegensatz zu Funktionen (z.B. AND ) werden Funktionsbl\u00f6cke als Variablen mit eigenem Namen instanziiert","title":"Bausteine"},{"location":"4_3_Appendix_Twincat/#losung_1","text":"","title":"L\u00f6sung"},{"location":"4_3_Appendix_Twincat/#problemlosung-wenn-sps-nicht-ausfuhrbar","text":"AdsError: 4132 + \"HyperV\" Problem win8settick.bat im TwinCat Ordner als Admin ausf\u00fchren","title":"Probleml\u00f6sung, wenn SPS nicht ausf\u00fchrbar"},{"location":"4_3_Appendix_Twincat/#zusammenfassung-twincat-entwicklung","text":"Oberste Ebene ist das Projekt (ErsteSchritteVorlesung) Darunter gibt es SPS -Projekte (1_SPS_HelloWorld) In POUs liegen die Programme Daneben Visualisierungen (VISUs) und andere Funktionn","title":"Zusammenfassung TwinCat - Entwicklung"},{"location":"4_3_Appendix_Twincat/#zusammenfassung-twincat-ausfuhrung","text":"Es muss das richtige Zielsystem ausgew\u00e4hlt werden Ansonsten wird der Code Lokal auf dem aktuellen Rechner ausgef\u00fchrt Ist ein Zielsystem mit Klemmen verbunden, so werden diese unter E/A angezeigt","title":"Zusammenfassung TwinCat - Ausf\u00fchrung"},{"location":"4_3_Appendix_Twincat/#epc-verbinden","text":"Wird lokal auf einem PC entwickelt, und m\u00f6chte man den Code auf der SPS ausf\u00fchren, muss man den PC und den embeddedPC der SPS mit einem Netzwerkkabel verbinden Schritte aus Video TwinCat im Configmodus starten verbinden digitale und analoge Welt Dropdown / Zielsystem w\u00e4hlen Suchen im Netzwerk: Suchen (Ethernet) / Broadcastsuche ePC ausw\u00e4hlen (MAC1-Addresse, letzte & Zeichen)","title":"ePC Verbinden"},{"location":"4_3_Appendix_Twincat/#klemmen-scannen","text":"Schritte: TwinCat im Configmodus starten Men\u00fcpunkt E/A / Scannen - Nach Boxen (Klemmen) suchen - Free Run aktivieren Klemmen mit Typ werden angezeigt Funktion: Zeige Online-Daten aktivieren (Blaue Kugel mit roten Pfeilen) Channel / Input / \u00d6ffnen Datentyp der Varialben \u00fcberpr\u00fcfen","title":"Klemmen Scannen"},{"location":"4_3_Appendix_Twincat/#verbindung-von-hardwaresignalen-zu-variablen","text":"Passende Variablen in Main anlegen Deklarieren ob Eingangs oder Ausgangs-Variable ( AT%I* vs AT%Q* ) PROGRAM MAIN VAR bInTaster AT%I*: BOOL; bInTaster AT%Q*: BOOL; END_VAR Button: Konfiguration Aktivieren Klemme und Channel ausw\u00e4hlen Reiter Variable Verkn\u00fcpft mit ausw\u00e4hlen Konfiguration aktivieren","title":"Verbindung von Hardwaresignalen zu Variablen"},{"location":"4_3_Appendix_Twincat/#aufgabe-4_3_3-funktion-lineare-transformation","text":"An einen Analog-Eingang (z.B. 0...10 V) mit einer Aufl\u00f6sung von 12 Bit ( \\(2^{12}=4096\\) m\u00f6gliche Zust\u00e4nde) ist ein Drucksensor mit Messbereich von 0...10 bar angeschlossen Durch eine Funktion sollten die vom Eingang gemessenen Integer-Werte in einen Druck in bar umgerechnet werden","title":"\u270d\ufe0f Aufgabe 4_3_3: Funktion Lineare Transformation"},{"location":"4_3_Appendix_Twincat/#losung-fun_lineartransformation","text":"FUNCTION FUN_LinearTransformation : REAL // Funktionsname und Typ der R\u00fcckgabe VAR_INPUT value_to_transform : INT; // Wert der Transformiert werden soll min_eingang : REAL; // Untere Grenze der Eingabe (z.B. 0) min_ausgang : REAL; // Untere Grenze der Ausgabe (z.B. 0 bar) max_eingang : REAL; // Obere Grenze der Eingabe (z.B. 2**12) max_ausgang : REAL; // Obere Grenze der Ausgabe (z.B. 10 bar) END_VAR VAR steigung : REAL; // Steigung als Zwischenvariable END_VAR steigung := (max_ausgang-min_ausgang)/(max_eingang-min_eingang); // Berechnung der Steigung der Geraden, Wird jedes mal neu berechnet FUN_LinearTransformation := value_to_transform * steigung + min_ausgang; // Anwendungs der linearen Transformation","title":"L\u00f6sung: FUN_LinearTransformation"},{"location":"4_3_Appendix_Twincat/#losung-main","text":"PROGRAM MAIN VAR aInPressure : INT; // Eingangswert von Analogem Eingang pressure_bar : REAL; // Umgerechneter Wert in physikalische Gr\u00f6\u00dfe z.B. bar END_VAR pressure_bar := FUN_LinearTransformation(value_to_transform := aInPressure, min_eingang := 0, min_ausgang := 0, max_eingang := 4096, max_ausgang := 10);","title":"L\u00f6sung: MAIN"},{"location":"4_3_Appendix_Twincat/#operatoren-nach-bindungsstarke","text":"Operation Symbol Bindungsst\u00e4rke Einklammern (<Ausdruck>) St\u00e4rkste Bindung Funktionsaufruf <Funktionsname>(Parameterliste) Potenzieren EXPT Negieren - Komplementbildung NOT Multiplizieren * Dividieren / Modulo MOD Addieren + Operation Symbol Bindungsst\u00e4rke Subtrahieren - Vergleiche < , > , <= , >= Gleichheit Ungleichheit = Gleichheit Ungleichheit <> Bool AND AND Bool XOR XOR Bool OR OR Schw\u00e4chste Bindung","title":"Operatoren nach Bindungsst\u00e4rke"},{"location":"4_3_Appendix_Twincat/#httpsinfosysbeckhoffcomindexphpcontentcontent1031tcplccontrolhtmltcplcctrl_languages20sthtmid5754912264349492758","text":"","title":"https://infosys.beckhoff.com/index.php?content=../content/1031/tcplccontrol/html/tcplcctrl_languages%20st.htm&amp;id=5754912264349492758"},{"location":"4_3_Appendix_Twincat/#4_3_4-aufgabe-auswertung-von-ausdrucken","text":"Werten Sie die folgenden Ausdr\u00fccke aus foo := (3+2) EXPT 2; (* *) ba := 3 + 2 EXPT 2; (* *) blub := foo + 3 (* *) result := blub > 10 (* *)","title":"\u270d\ufe0f 4_3_4 Aufgabe: Auswertung von Ausdr\u00fccken"},{"location":"4_3_Appendix_Twincat/#losung_2","text":"foo := (3+2) EXPT 2; (* 25 *) ba := 3 + 2 EXPT 2; (* 7 *) blub := foo + 3; (* 28 *) result := blub > 10; (* TRUE *)","title":"L\u00f6sung"},{"location":"4_3_Appendix_Twincat/#zusammenfassungen-anweisungen","text":"Anweisungsart Beispiel Zuweisung A:=B; CV := CV + 1; C:=SIN(X); Aufruf eines Funktionsblocks CMD_TMR(IN := %IX5, PT := 300);A:=CMD_TMR.Q; RETURN RETURN; IF IF D<0.0 THEN C:=A; ELSIF D=0.0 THEN C:=B; ELSE C:=D; END_IF; CASE CASE INT1 OF 1: BOOL1 := TRUE; 2: BOOL2 := TRUE; ELSE BOOL1 := FALSE; BOOL2 := FALSE; END_CASE; FOR FOR J:=101; FOR I:=1 TO 100 BY 2 DO IF ARR[I] = 70 THEN J:=I; EXIT; END_IF; END_FOR; WHILE WHILE J<= 100 AND ARR[J] <> 70 DO J:=J+2; END_WHILE; REPEAT REPEAT J:=J+2; UNTIL J= 101 OR ARR[J] = 70 END_REPEAT; EXIT EXIT; Leere Anweisung ;","title":"Zusammenfassungen Anweisungen"},{"location":"4_3_Appendix_Twincat/#4_3_5-aufgabe-heizungsanlage","text":"Im Falle eines Appartmenthauses haben Sie es mit einer sehr st\u00f6rrischen Heizungsanlage zu k\u00e4mpfen. F\u00e4llt diese aus, so startet sie h\u00e4ufig erst nach einigen Anlaufversuchen. Um \u00fcber die n\u00e4chsten Wochen zu kommen, bis eine neue Heizung installiert werden kann, programmieren Sie eine Notl\u00f6sung: Den Heizungsstatus k\u00f6nnen Sie \u00fcber die Boolesche Variable aInHeatingStatus auslesen. . Die Heizungsanlage kann mit der Funktion START_HEATING_SYSTEM() neu gestartet. Die Funktion hat keine Parameter, gibt aber den Wert TRUE zur\u00fcck, wenn der Startversuch erfolgreich war. Wenn dies nach 20 Versuchen nicht funktionieren sollte, wird es Zeit die Techniker:in zu informieren, damit diese sich dem Problem vor Ort annimmt. Hierzu wurde die Funktion NOTIFY_TECHNICIAN() bereitgestellt. Wenn es besonders kalt ist (5\u00b0C) ist das Problem besonders kritisch: anstelle des Techniker:innen, sollen in diesem Fall alle Mitarbeitenden informiert werden ( NOTIFY_ALL() ). Die Umgebungstemperatur k\u00f6nnen Sie mit der Variable aInTempOutside abrufen. Schreiben Sie ein Steuerungsprogramm als Strukturierten Text, welches in jedem Zyklus die Status der Heizungsanlage \u00fcberwacht, diese bei Bedarf neu startet und ggf. die Techniker:innen und anderen Mitarbeiter:innen informiert. Nutzen Sie dazu Schleifen und IF-Anweisungen. Gehen Sie von einer sehr langsamen Zykluszeit der Steuerung aus (ca. 5 Minute). Ein Startversuch hingegen dauert nur 2 Sekunden.","title":"\u270d\ufe0f 4_3_5: Aufgabe Heizungsanlage"},{"location":"4_3_Appendix_Twincat/#hinweise","text":"// Abfrage des Status zu Beginn jedes Zyklus IF aInHeatingStatus = False THEN <...> // Mehrfacher Versuch des Starts FOR Versuch:=1 TO 20 BY 1 DO <...> END_FOR; // Aufruf der Startfunktion und gleichzeitiges Speichern der R\u00fcckgabe aInHeatingStatus := START_HEATING_SYSTEM()","title":"Hinweise:"},{"location":"4_3_Appendix_Twincat/#losung_3","text":"In jedem Zyklus fragen wird zu Beginn den Status der Anlage ab und werden nur aktiv, wenn diese nicht l\u00e4uft // Abfrage des Status zu Beginn jedes Zyklus IF aInHeatingStatus = False THEN <...> Dann f\u00fchren wir 20 Startversuche auf. Dazu rufen wir die Funktion START_HEATING_SYSTEM in der For-Schleife auf. FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf*) END_FOR;","title":"L\u00f6sung"},{"location":"4_3_Appendix_Twincat/#losung_4","text":"Da wir die Versuche stoppen k\u00f6nnen, wenn die Heizung erfolgreich gestartet ist, wollen wir das Ergebnis des Startversuches in einer neuen Variable aInHeatingStatus speichern. FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus := START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf*) END_FOR;","title":"L\u00f6sung"},{"location":"4_3_Appendix_Twincat/#losung_5","text":"Dazu \u00fcberpr\u00fcfen wir in jedem Schleifendurchlauf, ob das Starten geklappt hat. Wenn es geklappt hat, dann k\u00f6nnen wir die For-Schleife mit der Anweisung EXIT verlasse, ohne sie 20 mal zu durchlaufen. FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus :=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; END_FOR;","title":"L\u00f6sung"},{"location":"4_3_Appendix_Twincat/#losung_6","text":"Wenn wir beim 20. Versuch angelangt sind, und die Schleife immer noch nicht wegen Erfolgs verlassen haben, wird es Zeit den Techniker zu informieren. Die Funktion zur Information NOTIFY_TECHNICIAN wird ausgel\u00f6st, wenn wir den 20. Durchlauf erreichen. Das Pr\u00fcfen wir \u00fcber eine IF-Anweisung. Hier rufen wir eine Funktion ohne R\u00fcckgabe auf. Deswegen steht kein neuer Variablename links der Funktion. FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus:=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; IF Versuch = 20 THEN (* Beim 20. Versuch*) NOTIFY_TECHNICIAN(); (* Benachrichtige die Techniker:in *) END_IF; END_FOR;","title":"L\u00f6sung"},{"location":"4_3_Appendix_Twincat/#losung_7","text":"Um alle zu informieren, m\u00fcssen wir zus\u00e4tzlich die Au\u00dfentemperatur \u00fcberpr\u00fcfen. Hierzu k\u00f6nnen eine zweite If-Abfrage mit etwas komplizierterem Booleschen Ausdruck FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus:=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; IF Versuch = 20 THEN (* Beim 20. Versuch*) NOTIFY_ALL(); (* Benachrichtige alle *) END_IF; IF Versuch = 20 AND TEMP_OUTSIDE<5 THEN NOTIFY_TECHNICIAN(); (* Benachrichtige die Techniker:in *) END_IF; END_FOR; Alternativ lassen sich auch zwei If-Anweisungen schachteln FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus:=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; IF Versuch = 20 THEN (* Beim 20. Versuch *) NOTIFY_TECHNICIAN(); (* Benachrichtige die Techniker:in *) IF TEMP_OUTSIDE<5 THEN (* und kalter Witterung*) NOTIFY_ALL(); (* Benachrichtige all *) END_IF; END_IF; END_FOR; Gehen wir davon aus, dass der die Techniker:in sowohl auf der Liste in NOTIFY_TECHNICIAN als auch in NOTIFY_ALL steht, w\u00e4re es sch\u00f6n, wenn er/sie nur einmal informiert wird. Hierzu k\u00f6nnen wir die ELSIF Anweisung nutzen. FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus:=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; IF Versuch = 20 AND TEMP_OUTSIDE<5 THEN (* Beim 20. Versuch und kalter Witterung*) NOTIFY_ALL(); (* Benachrichtige all *) ELSIF Versuch = 20 THEN (* Beim 20. Versuch *) NOTIFY_TECHNICIAN(); (* Benachrichtige die Techniker:in *) END_IF; END_FOR; Erg\u00e4nzen des \u00e4u\u00dferen FOR -Loops, damit der Code nur ausgef\u00fchrt wird, wenn die Analge nicht l\u00e4uft: IF aInHeatingStatus = False THEN FOR Versuch:=1 TO 20 BY 1 DO (* Versuch es 20 mal *) aInHeatingStatus:=START_HEATING_SYSTEM(); (* Rufe die Funktion zum Starten auf und speichere ob es erfolgreich war *) IF aInHeatingStatus THEN (* Wenn es erfolgreich war *) EXIT; (* Verlasse die for-Schleife *) END_IF; IF Versuch = 20 AND TEMP_OUTSIDE<5 THEN (* Beim 20. Versuch und kalter Witterung*) NOTIFY_ALL(); (* Benachrichtige all *) ELSIF Versuch = 20 THEN (* Beim 20. Versuch *) NOTIFY_TECHNICIAN(); (* Benachrichtige die Techniker:in *) END_IF; END_FOR; END_IF;","title":"L\u00f6sung"},{"location":"5_1_Signalisierung/","text":"Unterschiede SPS und Bussysteme https://webuser.hs-furtwangen.de/~hoenig/2016/Wiki/ac_08/0_Inhalt/01_U-Han/6feldbus.pdf Feldbus Bei einer konventionellen SPS sind alle Komponenten sternf\u00f6rmig verbunden (analoges oder digitale Signale werden \u00fcbertragen) Beim Bus ein Datenkabel (Buskabel) Zentraler Aufbau mit SPS und steckbaren Schnittstellenkarten ( Master ) m\u00f6glich https://www.xplore-dna.net/pluginfile.php/623/mod_resource/content/2/Einf%C3%BChrung%20Feldbussysteme.pdf Vielfalt an Bussystemen Spezielle Anwendungsf\u00e4lle in Geb\u00e4uden DALI, KNX, ... Geschwindigkeit und Zuverl\u00e4ssigkeit CAN-Bus in Fahrzeugen Funk Reichweite und Energiebedarf LoRaWAN, Bluetooth Low Energy Unterscheidungsmerkmale von Bussystemen Telegramminhalt : welche Information Topologie : Verkabelung Teilnehmerhierarchie : Master, Slave, ... Adressierung : Wie erreicht man Komponenten Buszugriffsverfahren : Wer sendet wann? Signalisierung : Wie werden Telegramme \u00fcbertragen \u00dcbertragungsmedium : z.B: Kabel oder Funk https://www.wachendorff-prozesstechnik.de/produktgruppen/gateways-und-protokollwandler/informationen/busprotokolle-besser-verstehen/?type=98 Unterscheidungsmerkmale von Bussystemen Telegramminhalt : welche Information Topologie : Verkabelung Teilnehmerhierarchie : Master, Slave, ... Adressierung : Wie erreicht man Komponenten Buszugriffsverfahren : Wer sendet wann? Signalisierung : Wie werden Telegramme \u00fcbertragen \u00dcbertragungsmedium : z.B: Kabel oder Funk Bit\u00fcbertragungsschicht / Signalisierung von Telegrammen Wireless \u00fcber Wellen Frequenzmodulation Amplitudenmodulation Kabelgebundene Kodierung \u00dcber Spannungslevel Informationsgehalt von Telegrammen Steuerfeld: Priorit\u00e4t der Nachricht Quelladresse: Absender (vgl. MAC-Adresse) Zieladresse: Empf\u00e4nger (vgl. MAC-Adresse) Routing Z\u00e4hler: Z\u00e4hlt wie oft \u00fcber Koppler gesendet (verhindert Irrl\u00e4ufer) Nutzinformation: Eigentlich Information (z.B. Messwerte eines Sensor) Sicherungs-Feld: Wurden die Daten richtig \u00fcbertragen (vgl. Hash) Symbolrate und Bitrate Anzahl der \u00fcbertragenen Symbole pro Zeiteinheit In der Abbildung rechts gibt es ein Symbolalphabet \\({\\displaystyle d_{i}\\in \\{-1,1\\}}.\\) Die Bitrate ist die Anzahl der \u00fcbertragenen Bits pro Zeiteinheit (bei einem Bit pro Symbol entspricht die Bitrate der Symbolrate) \\(1 \\text{ Baud} = 1 \\frac{\\text{Symbol}}{\\text{s}}\\) Beispiele CAN-Bus: \\(5 \\text{ bis } 500.000 \\text{ Baud}\\) DMX: \\(500.000 \\text{ Baud}\\) DALI-Bus: \\(1.200 \\text{ Baud}\\) \u270d\ufe0f Aufgabe 5_1_1: Symbolrate Wie gro\u00df ist jeweils die Symbolrate und die Bitrate? L\u00f6sung In beiden F\u00e4llen \u00e4ndert sich die Spannung zehn mal pro Sekunde \\(\\text{Symbolrate} = 10 \\text{ Baud}\\) Links: Es gibt zwei Spannungen, jedes Symbol codiert ein Bit \\(\\text{Bitrate} = 10 \\frac{\\text{Bit}}{\\text{s}}\\) Rechts: Es gibt vier Spannungen, jedes Symbol codiert zwei Bit \\(\\text{Bitrate} = 20 \\frac{\\text{Bit}}{\\text{s}}\\) Leitungscodes Wie wird die Symbolrate ausgenutzt? z.B. Non-Return-to-Zero High Level Hohes Spannungslevel codiert 1 in jedem Schritt wird ein Bit \u00fcbertragen dazwischen gibt es keine zur\u00fcckfallen auf eine neutrale Spannung Baud-Rate entspricht Bit-Rate \\(1 \\text{ Baud} \\cdot \\frac{\\text{Bit}}{\\text{Signal}}= 1 \\frac{\\text{Bit}}{\\text{s}}\\) Weitere Leitungscodes \u270d\ufe0f Aufgabe 5_1_2: Leitungscodes Erkl\u00e4ren Sie verbal, wie die Leitungscodes funktionieren Non-Return-to-Zero Low Level Non-Return-to-Zero Inverted Return-to-Zero Welche Vor- und Nachteile haben die verschiedenen Leitungscodes? L\u00f6sung Non-Return-to-Zero Low Level: eine 1 wird durch eine niedrige Spannung codiert Non-Return-to-Zero Inverted: Bei jedem Auftreten einer 1 wird die Spannung invertiert Return-to-Zero: eine 1 wird durch eine hohe Spannung codiert, nach jedem Bit wird auf eine neutrale Spannung zur\u00fcckgekehrt (halbiert die Bitrate bei gleicher Baud-Rate) \u00dcbermittlung der Taktrate Signal ohne Taktrate (z.B. Non-Return-to-Zero Low Level): Ohne gemeinsame Uhr nur schwer zu entschl\u00fcsseln L\u00f6sungen: Einsatz einer Return-to-Zero-Code Kodierung Pausen mit definierter L\u00e4nge mit definiertem Rhythmus z.B. bei RS-232 Separate Leitung f\u00fcr Takt z.B. bei I\u00b2C-Bus Synchrone Daten\u00fcbertragung Neben der Datenleitung SDA gibt es eine Taktleitung SCL , mit welcher der Master vorgibt, wann SDA gelesen wird (z.B. I\u00b2C -Bus) Probleme: Taktleitung ben\u00f6tigt zus\u00e4tzliche Leitung Bei langen Leitungen kann es zu Phasenverschiebungen kommen. D.h. bis die Spannung auf der Datenleitung ,welche vom Busteilnehmer gesendet wurde, ankommt, ist der Takt beim Master schon weitergezogen http://fmh-studios.de/theorie/informationstechnik/i2c-bus/#_ Asynchrone Daten\u00fcbertragung Jeder Busteilnehmer verf\u00fcgt \u00fcber eine eigene Taktquelle ( Sample Clock ), die deutlich schneller taktet als die Daten\u00fcbertragung Durch die \u00dcbertragung eines Start- und Stop-Bits wird die Taktquelle des Senders und Empf\u00e4ngers synchronisiert (z.B. RS-232) Serielle und Parallele Busse Mit mehreren parallelen Leitungen k\u00f6nnen ebenfalls mehr Symbole bei gleicher Baud-Rate \u00fcbertragen werden Kaum Einsatz in Feldbussen (welche Ger\u00e4te im Feld verbinden), h\u00e4ufig jedoch in Computern ( PCI , ATA ) \u00dcbertragungsarten Simplex: Eine Richtung Half-Duplex: Beide Richtungen, aber nicht gleichzeitig Full-Duplex: Beide Richtungen gleichzeitig https://www.black-box.de/de-de/page/25078/Information/Technische-Ressourcen/black-box-erklaert/Glasfaserkabel/Simplex-versus-Duplex-Glasfaser-Patchkabel Beispiel: Universal Serial Bus (USB 1.1 und 2.0) Leitungen sind \u00fcber Schirmung gegen St\u00f6rungen abgesichert Zwei Dr\u00e4hte f\u00fcr Spannungspotentiale Zwei Dr\u00e4hte f\u00fcr Daten (Werte immer gegenl\u00e4ufig - half duplex) Kein Draht f\u00fcr Takt (spezielle NRZ-S Kodierung mit Bit Stuffing) \\(480 \\text{ Baud}\\) https://commons.wikimedia.org/wiki/File:USB_3.0_Kabel_und_Stecker.png, https://de.wikipedia.org/wiki/Non_Return_to_Zero \ud83e\udd13 NRZ-S: Bitwechsel bei Null Bei jeder 0 im Datenbit findet ein Wechsel statt # Beispiel 1: Datenbits (logisch): 1 1 1 1 1 1 1 1 phys. Leitung bei Ausgangszustand \u201e1\u201c: 1 1 1 1 1 1 1 1 phys. Leitung bei Ausgangszustand \u201e0\u201c: 0 0 0 0 0 0 0 0 # Beispiel 2: Datenbits (logisch): 0 0 0 0 0 0 0 0 phys. Leitung bei Ausgangszustand \u201e1\u201c: 0 1 0 1 0 1 0 1 phys. Leitung bei Ausgangszustand \u201e0\u201c: 1 0 1 0 1 0 1 0 # Beispiel 3: Datenbits (logisch): 1 1 1 1 1 0 1 0 1 0 1 1 0 0 0 1 phys. Leitung bei Ausgangszustand \u201e1\u201c: 1 1 1 1 1 0 0 1 1 0 0 0 1 0 1 1 phys. Leitung bei Ausgangszustand \u201e0\u201c: 0 0 0 0 0 1 1 0 0 1 1 1 0 1 0 0","title":"Signalisierung"},{"location":"5_1_Signalisierung/#unterschiede-sps-und-bussysteme","text":"","title":"Unterschiede SPS und Bussysteme"},{"location":"5_1_Signalisierung/#httpswebuserhs-furtwangendehoenig2016wikiac_080_inhalt01_u-han6feldbuspdf","text":"","title":"https://webuser.hs-furtwangen.de/~hoenig/2016/Wiki/ac_08/0_Inhalt/01_U-Han/6feldbus.pdf"},{"location":"5_1_Signalisierung/#feldbus","text":"Bei einer konventionellen SPS sind alle Komponenten sternf\u00f6rmig verbunden (analoges oder digitale Signale werden \u00fcbertragen) Beim Bus ein Datenkabel (Buskabel) Zentraler Aufbau mit SPS und steckbaren Schnittstellenkarten ( Master ) m\u00f6glich","title":"Feldbus"},{"location":"5_1_Signalisierung/#httpswwwxplore-dnanetpluginfilephp623mod_resourcecontent2einfc3bchrung20feldbussystemepdf","text":"","title":"https://www.xplore-dna.net/pluginfile.php/623/mod_resource/content/2/Einf%C3%BChrung%20Feldbussysteme.pdf"},{"location":"5_1_Signalisierung/#vielfalt-an-bussystemen","text":"Spezielle Anwendungsf\u00e4lle in Geb\u00e4uden DALI, KNX, ... Geschwindigkeit und Zuverl\u00e4ssigkeit CAN-Bus in Fahrzeugen Funk Reichweite und Energiebedarf LoRaWAN, Bluetooth Low Energy","title":"Vielfalt an Bussystemen"},{"location":"5_1_Signalisierung/#unterscheidungsmerkmale-von-bussystemen","text":"Telegramminhalt : welche Information Topologie : Verkabelung Teilnehmerhierarchie : Master, Slave, ... Adressierung : Wie erreicht man Komponenten Buszugriffsverfahren : Wer sendet wann? Signalisierung : Wie werden Telegramme \u00fcbertragen \u00dcbertragungsmedium : z.B: Kabel oder Funk","title":"Unterscheidungsmerkmale von Bussystemen"},{"location":"5_1_Signalisierung/#httpswwwwachendorff-prozesstechnikdeproduktgruppengateways-und-protokollwandlerinformationenbusprotokolle-besser-verstehentype98","text":"","title":"https://www.wachendorff-prozesstechnik.de/produktgruppen/gateways-und-protokollwandler/informationen/busprotokolle-besser-verstehen/?type=98"},{"location":"5_1_Signalisierung/#unterscheidungsmerkmale-von-bussystemen_1","text":"Telegramminhalt : welche Information Topologie : Verkabelung Teilnehmerhierarchie : Master, Slave, ... Adressierung : Wie erreicht man Komponenten Buszugriffsverfahren : Wer sendet wann? Signalisierung : Wie werden Telegramme \u00fcbertragen \u00dcbertragungsmedium : z.B: Kabel oder Funk","title":"Unterscheidungsmerkmale von Bussystemen"},{"location":"5_1_Signalisierung/#bitubertragungsschicht-signalisierung-von-telegrammen","text":"Wireless \u00fcber Wellen Frequenzmodulation Amplitudenmodulation Kabelgebundene Kodierung \u00dcber Spannungslevel","title":"Bit\u00fcbertragungsschicht /  Signalisierung von Telegrammen"},{"location":"5_1_Signalisierung/#informationsgehalt-von-telegrammen","text":"Steuerfeld: Priorit\u00e4t der Nachricht Quelladresse: Absender (vgl. MAC-Adresse) Zieladresse: Empf\u00e4nger (vgl. MAC-Adresse) Routing Z\u00e4hler: Z\u00e4hlt wie oft \u00fcber Koppler gesendet (verhindert Irrl\u00e4ufer) Nutzinformation: Eigentlich Information (z.B. Messwerte eines Sensor) Sicherungs-Feld: Wurden die Daten richtig \u00fcbertragen (vgl. Hash)","title":"Informationsgehalt von Telegrammen"},{"location":"5_1_Signalisierung/#symbolrate-und-bitrate","text":"Anzahl der \u00fcbertragenen Symbole pro Zeiteinheit In der Abbildung rechts gibt es ein Symbolalphabet \\({\\displaystyle d_{i}\\in \\{-1,1\\}}.\\) Die Bitrate ist die Anzahl der \u00fcbertragenen Bits pro Zeiteinheit (bei einem Bit pro Symbol entspricht die Bitrate der Symbolrate) \\(1 \\text{ Baud} = 1 \\frac{\\text{Symbol}}{\\text{s}}\\) Beispiele CAN-Bus: \\(5 \\text{ bis } 500.000 \\text{ Baud}\\) DMX: \\(500.000 \\text{ Baud}\\) DALI-Bus: \\(1.200 \\text{ Baud}\\)","title":"Symbolrate und Bitrate"},{"location":"5_1_Signalisierung/#aufgabe-5_1_1-symbolrate","text":"Wie gro\u00df ist jeweils die Symbolrate und die Bitrate?","title":"\u270d\ufe0f Aufgabe 5_1_1: Symbolrate"},{"location":"5_1_Signalisierung/#losung","text":"In beiden F\u00e4llen \u00e4ndert sich die Spannung zehn mal pro Sekunde \\(\\text{Symbolrate} = 10 \\text{ Baud}\\) Links: Es gibt zwei Spannungen, jedes Symbol codiert ein Bit \\(\\text{Bitrate} = 10 \\frac{\\text{Bit}}{\\text{s}}\\) Rechts: Es gibt vier Spannungen, jedes Symbol codiert zwei Bit \\(\\text{Bitrate} = 20 \\frac{\\text{Bit}}{\\text{s}}\\)","title":"L\u00f6sung"},{"location":"5_1_Signalisierung/#leitungscodes","text":"Wie wird die Symbolrate ausgenutzt? z.B. Non-Return-to-Zero High Level Hohes Spannungslevel codiert 1 in jedem Schritt wird ein Bit \u00fcbertragen dazwischen gibt es keine zur\u00fcckfallen auf eine neutrale Spannung Baud-Rate entspricht Bit-Rate \\(1 \\text{ Baud} \\cdot \\frac{\\text{Bit}}{\\text{Signal}}= 1 \\frac{\\text{Bit}}{\\text{s}}\\)","title":"Leitungscodes"},{"location":"5_1_Signalisierung/#weitere-leitungscodes","text":"","title":"Weitere Leitungscodes"},{"location":"5_1_Signalisierung/#aufgabe-5_1_2-leitungscodes","text":"Erkl\u00e4ren Sie verbal, wie die Leitungscodes funktionieren Non-Return-to-Zero Low Level Non-Return-to-Zero Inverted Return-to-Zero Welche Vor- und Nachteile haben die verschiedenen Leitungscodes?","title":"\u270d\ufe0f Aufgabe 5_1_2: Leitungscodes"},{"location":"5_1_Signalisierung/#losung_1","text":"Non-Return-to-Zero Low Level: eine 1 wird durch eine niedrige Spannung codiert Non-Return-to-Zero Inverted: Bei jedem Auftreten einer 1 wird die Spannung invertiert Return-to-Zero: eine 1 wird durch eine hohe Spannung codiert, nach jedem Bit wird auf eine neutrale Spannung zur\u00fcckgekehrt (halbiert die Bitrate bei gleicher Baud-Rate)","title":"L\u00f6sung"},{"location":"5_1_Signalisierung/#ubermittlung-der-taktrate","text":"Signal ohne Taktrate (z.B. Non-Return-to-Zero Low Level): Ohne gemeinsame Uhr nur schwer zu entschl\u00fcsseln L\u00f6sungen: Einsatz einer Return-to-Zero-Code Kodierung Pausen mit definierter L\u00e4nge mit definiertem Rhythmus z.B. bei RS-232 Separate Leitung f\u00fcr Takt z.B. bei I\u00b2C-Bus","title":"\u00dcbermittlung der Taktrate"},{"location":"5_1_Signalisierung/#synchrone-datenubertragung","text":"Neben der Datenleitung SDA gibt es eine Taktleitung SCL , mit welcher der Master vorgibt, wann SDA gelesen wird (z.B. I\u00b2C -Bus) Probleme: Taktleitung ben\u00f6tigt zus\u00e4tzliche Leitung Bei langen Leitungen kann es zu Phasenverschiebungen kommen. D.h. bis die Spannung auf der Datenleitung ,welche vom Busteilnehmer gesendet wurde, ankommt, ist der Takt beim Master schon weitergezogen","title":"Synchrone Daten\u00fcbertragung"},{"location":"5_1_Signalisierung/#httpfmh-studiosdetheorieinformationstechniki2c-bus_","text":"","title":"http://fmh-studios.de/theorie/informationstechnik/i2c-bus/#_"},{"location":"5_1_Signalisierung/#asynchrone-datenubertragung","text":"Jeder Busteilnehmer verf\u00fcgt \u00fcber eine eigene Taktquelle ( Sample Clock ), die deutlich schneller taktet als die Daten\u00fcbertragung Durch die \u00dcbertragung eines Start- und Stop-Bits wird die Taktquelle des Senders und Empf\u00e4ngers synchronisiert (z.B. RS-232)","title":"Asynchrone Daten\u00fcbertragung"},{"location":"5_1_Signalisierung/#serielle-und-parallele-busse","text":"Mit mehreren parallelen Leitungen k\u00f6nnen ebenfalls mehr Symbole bei gleicher Baud-Rate \u00fcbertragen werden Kaum Einsatz in Feldbussen (welche Ger\u00e4te im Feld verbinden), h\u00e4ufig jedoch in Computern ( PCI , ATA )","title":"Serielle und Parallele Busse"},{"location":"5_1_Signalisierung/#ubertragungsarten","text":"Simplex: Eine Richtung Half-Duplex: Beide Richtungen, aber nicht gleichzeitig Full-Duplex: Beide Richtungen gleichzeitig","title":"\u00dcbertragungsarten"},{"location":"5_1_Signalisierung/#httpswwwblack-boxdede-depage25078informationtechnische-ressourcenblack-box-erklaertglasfaserkabelsimplex-versus-duplex-glasfaser-patchkabel","text":"","title":"https://www.black-box.de/de-de/page/25078/Information/Technische-Ressourcen/black-box-erklaert/Glasfaserkabel/Simplex-versus-Duplex-Glasfaser-Patchkabel"},{"location":"5_1_Signalisierung/#beispiel-universal-serial-bus-usb-11-und-20","text":"Leitungen sind \u00fcber Schirmung gegen St\u00f6rungen abgesichert Zwei Dr\u00e4hte f\u00fcr Spannungspotentiale Zwei Dr\u00e4hte f\u00fcr Daten (Werte immer gegenl\u00e4ufig - half duplex) Kein Draht f\u00fcr Takt (spezielle NRZ-S Kodierung mit Bit Stuffing) \\(480 \\text{ Baud}\\)","title":"Beispiel: Universal Serial Bus (USB  1.1 und 2.0)"},{"location":"5_1_Signalisierung/#httpscommonswikimediaorgwikifileusb_30_kabel_und_steckerpng-httpsdewikipediaorgwikinon_return_to_zero","text":"","title":"https://commons.wikimedia.org/wiki/File:USB_3.0_Kabel_und_Stecker.png, https://de.wikipedia.org/wiki/Non_Return_to_Zero"},{"location":"5_1_Signalisierung/#nrz-s-bitwechsel-bei-null","text":"Bei jeder 0 im Datenbit findet ein Wechsel statt # Beispiel 1: Datenbits (logisch): 1 1 1 1 1 1 1 1 phys. Leitung bei Ausgangszustand \u201e1\u201c: 1 1 1 1 1 1 1 1 phys. Leitung bei Ausgangszustand \u201e0\u201c: 0 0 0 0 0 0 0 0 # Beispiel 2: Datenbits (logisch): 0 0 0 0 0 0 0 0 phys. Leitung bei Ausgangszustand \u201e1\u201c: 0 1 0 1 0 1 0 1 phys. Leitung bei Ausgangszustand \u201e0\u201c: 1 0 1 0 1 0 1 0 # Beispiel 3: Datenbits (logisch): 1 1 1 1 1 0 1 0 1 0 1 1 0 0 0 1 phys. Leitung bei Ausgangszustand \u201e1\u201c: 1 1 1 1 1 0 0 1 1 0 0 0 1 0 1 1 phys. Leitung bei Ausgangszustand \u201e0\u201c: 0 0 0 0 0 1 1 0 0 1 1 1 0 1 0 0","title":"\ud83e\udd13 NRZ-S: Bitwechsel bei Null"},{"location":"5_2_Buszugriffsverfahren/","text":"2 Buszugriff \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu * das Vorgehen von Client-Server, Token, Summenrahmenprokoll- und CS-MA- Buszugriffsverfahren zu beschreiben * deren Vor- und Nachteile zu benennen * Laufzeiten von Nachrichten auf Buskabeln zu berechnen http://fmh-studios.de/theorie/informationstechnik/i2c-bus/#img1 Herausforderung Senden mehre Busteilnehmer zeitgleich, so \u00fcberlagern sich die Pegel auf der Busleitung Inhalt der Telegramme kann nicht mehr entziffert werden \ud83e\udde0 Client/Server (Master/Slave-Verfahren) Zentrale Bussteuereinheit ( Master , ggf. SPS) stellt Verbindung zu den passiven Teilnehmern (Slaves) her ( Kommunikationssteuerung ) Slaves antworten auf eine Datenanforderung des Masters unmittelbar Polling (zyklische Abfrage) Master mit aktivem Buszugriff geben die Ein-/Ausgabedaten an die Slaves einfaches Protokoll garantierte Buszugriffszeiten https://www.xplore-dna.net/pluginfile.php/623/mod_resource/content/2/Einf%C3%BChrung%20Feldbussysteme.pdf \u270d\ufe0f Worst Case Polling Zentrale SPS fragt als Master zyklisch alle Werte ab und sendet Befehle 255 Slaves 1 Taster T\u00fcr\u00f6ffner 1 Motor T\u00fcr\u00f6ffner Wie lange dauert es im schlimmsten Fall bis die T\u00fcr reagiert? maximale Busleitungsl\u00e4nge: \\(200 \\text{ m}\\) Telegramml\u00e4nge: \\(2\\) Byte [Adresse].[Nachricht] Zykluszeit des Masters und Slaves vernachl\u00e4ssigbar Baud-Rate \\(9.600 \\text{ Baud}\\) (z.B. Dali) Manchester-Code Zykluszeit je Master + Slave: vernachl\u00e4ssigbar Abrufen eines Slaves: Signal-Laufzeit: 1 Bit pro 2 Baud: \\(4.800 \\frac{\\text{ Bit}}{\\text{s}}\\) In eine Richtung: \\(\\frac{16 \\text{ Bit}}{4800 \\text{ Bit}}\\text{s}=3.3 \\text{ ms}\\) Abrufen aller Salves ( \\(\\text{Bus-Zykluszeit}\\) ): Slaves antworten, nachdem Sie die Nachricht erhalten haben Zeit pro Slave: \\(6.6\\text{ ms}\\) Wenn Befehl direkt weitergeleitet wird, aber die Teilnehmer logisch maximal auseinander: \\(6.6 \\text{ ms} \\cdot 254 = 1.68 \\text{ s}\\) Falls nur am Anfang eines SPS-Zyklus gepollt wird: \\(\\text{Reaktionszeit}_{max} = 2 \\cdot \\text{Bus-Zykluszeit} + \\text{SPS-Zykluszeit}\\) Aber: Es ist garantiert, dass es nicht l\u00e4nger dauert! Einfluss der Bus-Zykluszeit auf Komfort Kopieren Sie den folgenden Code in: https://jsfiddle.net/ <! DOCTYPE html > < html > < head > < title > Toggle Background Color with Time Delay < /title> < script > var color = \"white\" ; function changeBackground () { var time = document . getElementById ( \"timeInput\" ). value ; setTimeout ( function () { if ( color === \"white\" ) { color = \"red\" ; } else { color = \"white\" ; } document . body . style . backgroundColor = color ; }, time ); } < /script> < /head> < body > < input type = \"text\" id = \"timeInput\" placeholder = \"Enter time in ms\" > < button onclick = \"changeBackground()\" > Change Background < /button> < /body> < /html> Einfluss der Bus-Zykluszeit auf Komfort ab \\(60 \\text{ ms}\\) nehmen Nutzer:innen eine Verz\u00f6gerung war Diese f\u00fchrt zu einem negativen Nutzererleben H\u00e4ufig kann innerhalb dieser Zeit keine R\u00fcckmeldung der geschalteten Aktoren erfolgen sequenceDiagram User Interface->>Steuerung: Schalte Licht an Steuerung->>LED-Controller: Schalte Licht an Note over User Interface: Wahrnehmbare Verz\u00f6gerung LED-Controller->>Steuerung: Licht ist an Steuerung->>User Interface: Licht ist an sequenceDiagram User Interface->>Steuerung: Schalte Licht an Steuerung->>User Interface: Licht ist an Steuerung->>LED-Controller: Schalte Licht an LED-Controller->>Steuerung: Licht ist an Steuerung->>User Interface: Licht ist wirklich an \ud83e\udde0 Buszugriffsverfahren Schnell & Wiedemann 2019 Vermeidung von Kollisionen verhindern: deterministische Verfahren wie Polling sorgen daf\u00fcr, das keine Kollisionen stattfinden erkennen: zuf\u00e4llige Verfahren lassen Kollisionen zu, k\u00f6nnen aber damit umgehen \ud83e\udde0 Echtzeitf\u00e4higkeit kann garantiert werden, dass die Nachrichten in benennbar Zeit ankommen? Polling: Langsam, aber maximale Zeit kann berechnet und garantiert Zuf\u00e4llige Buszugriffsverfahren: maximale Zeit kann nicht garantiert werden (i.d.R. nicht Echtzeitf\u00e4hig) Schnell & Wiedemann 2019 \ud83e\udde0 Echtzeitf\u00e4hig Zeitraum oder die Datenl\u00e4nge f\u00fcr einen Kommunikationszyklus und damit maximale Zeitdauer, bis die Daten \u00fcbertragen ist berechenbar Damit w\u00e4re auch eine Schneckenpost echtzeitf\u00e4hig, sofern die die versprochene Zustellzeit garantiert einhalten kann zuf\u00e4llige Buszugriffsverfahren sind i. d. R. nicht echtzeitf\u00e4hig https://de.wikipedia.org/wiki/Schneckenpost \ud83e\udde0 Buszugriffsverfahren deterministisch: Master/Slave-Verfahren Polling (zyklische Abfrage der Slaves) - Nachteil: Langsam! Token Systeme zuf\u00e4llig: Carrier Sense / Multiple Access \ud83e\udde0 Token-Systeme Als Token, Zugstab, Signalstab, Streckenstab oder Kn\u00fcppel bezeichnet man im Eisen- und Stra\u00dfenbahnwesen ein Objekt, dessen Besitz zum Befahren eines eingleisigen Streckenabschnitts berechtigt . z.B. Innsbrucker Mittelgebirgsbahn Wiki Wiki Token Ring (Logischer Ring) Vorsicht: Logischer Ablauf muss nicht der verbauten Topologie entsprechen https://www.xplore-dna.net/pluginfile.php/623/mod_resource/content/2/Einf%C3%BChrung%20Feldbussysteme.pdf \ud83e\udde0 Token Ring (Logischer Ring) alle Teilnehmer k\u00f6nnen die Kommunikationssteuerung \u00fcbernehmen (Multi-Master) nur Teilnehmer mit Token hat Buszugriffsrecht garantierte Buszugriffszeiten : Sender muss Token nach bestimmter Zeit wieder freigeben einfache Realisierung Kombination mit Master-Slave m\u00f6glich (Token Passing) https://www.xplore-dna.net/pluginfile.php/623/mod_resource/content/2/Einf%C3%BChrung%20Feldbussysteme.pdf \ud83e\udde0 Summenrahmenprotokoll Der Master gibt alle Daten in einem Summenrahmen an alle Slaves Im Summenrahmen ist eine Rahmen f\u00fcr die Inputs und Outputs aller Slaves gegeben garantierte Buszugriffszeiten (deterministischer Prozess) sehr effiziente Busauslastung https://www.xplore-dna.net/pluginfile.php/623/mod_resource/content/2/Einf%C3%BChrung%20Feldbussysteme.pdf Summenrahmenprotokoll Beispiel EtherCat https://www.youtube.com/watch?v=z2OagcHG-UU Ein- und Ausgangsklemmen werden \u00fcber Ethercat angesprochen Hardware wie Ethernet, jedoch mit Summenrahmenprotokoll https://www.beckhoff.com/de-de/produkte/i-o/ethercat/ \ud83e\udde0 deterministische Buszugriffsverfahren Sender vor dem Sendebeginn eindeutig bestimmt Buszuteilung (Sendeerlaubnis) zentral von einer Leitstation (Master/Slave-Verfahren) oder dezentral durch mehrere Steuereinheiten (Tokenbus, Tokenring) Schnell & Wiedemann 2019 \ud83e\udde0 zuf\u00e4llige Buszugriffsverfahren die sende-willigen Teilnehmer greifen nur bei Bedarf (i.e., zuf\u00e4llig) auf das \u00dcbertragungsmedium zu z.B. bei Taster-Bet\u00e4tigung im Beleuchtungssystem Medium darf nicht anderweitig von einem anderen Teilnehmer belegt sein ( Carrier Sense , CS) Ist dies der Fall, muss die Sendung auf einen sp\u00e4teren Zeitpunkt verschoben werden ( Multiple Access , MA) \ud83e\udde0 Carrier Sense Multiple Access (CS/MA) falls Busleitung belegt , erneuter Versuch zu sp\u00e4teren Zeitpunkt es ist allerdings ungewiss, ob Busleitung beim n\u00e4chsten Versuch frei es kann keine maximale Zeit zur Datenbereitstellung garantiert ( keine Echtzeitf\u00e4hig ). \ud83e\udde0 Bus-Kollision Zwei Sender beginnen etwa gleichzeitig mit der Sendung Sendungen kollidieren und zerst\u00f6ren sich gegenseitig ( \u00dcberlagerung der Wellen) Wird erkannt, wenn der Empf\u00e4nger die \u00fcbertragenen Daten auf Fehler \u00fcberpr\u00fcft ( Pr\u00fcfsumme ) Vorraussetzung: Sender empfangen ihre eigenen Signale w\u00e4hrend der Sendung. ist es zur Kollision gekommen und die \u00dcbertragung wird sofort eingestellt. ( Collision Detection , CSMA/CD) Kollisionserkennung a: Sendebeginn zum Zeitpunkt \\(t\\) , b: Kollision zum Zeitpunkt \\(t+t_s\\) mit \\(t_s\\) Signallaufzeit, c: Zustand zum Zeitpunkt \\(t + t_S + \\Delta t\\) , d: Zustand zum Zeitpunkt \\(t + 2 t_s\\) Kollisionserkennung der Sender \\(n\\) erkennt die Kollision nach \\(t+t_s\\) Sender \\(1\\) erst zum Zeitpunkt \\(t+ 2 t_s\\) . Pakete die k\u00fcrzer sind als \\(t + 2 t_s\\) werden nicht immer durch die Kollisionserkennung erkannt \ud83e\udde0 Aufl\u00f6sen einer Bus-Kollision Nach der Kollisionserkennung \u00fcbertr\u00e4gt der Sender ein kurzes St\u00f6rsignal ( jam ), mit dem er alle anderen Teilnehmer \u00fcber die erkannte Kollision informiert (Broadcast). Alle sendewilligen Teilnehmer stellen dann ihre Sendung f\u00fcr eine zuf\u00e4llige Zeitdauer , die einem ganzzahligen Vielfachen der maximalen doppelten Signallaufzeit entspricht, zur\u00fcck und versuchen dann erneut den Zugriff. Schnell & Wiedemann 2019 \ud83e\udde0 Zeitverhalten mit steigender Busauslastung steigt die Wahrscheinlichkeit einer Kollision Verz\u00f6gerung bis zum Zustellerfolg aller Nachrichten am Beispiel ETHERNET (CSMA/CD) Schnell & Wiedemann 2019 Welche Ans\u00e4tze gibt es bei einem Bussystem, die Leuchten in einer Notsituation garantiert auf den Zustand leuchtend zuschalten? \ud83e\udde0 Determinsitische Buszugriffsverfahren Schnell & Wiedemann 2019","title":"Buszugriffsverfahren"},{"location":"5_2_Buszugriffsverfahren/#2-buszugriff","text":"","title":"2 Buszugriff"},{"location":"5_2_Buszugriffsverfahren/#lernziele","text":"Nach dieser Einheit sind Sie in der Lage dazu * das Vorgehen von Client-Server, Token, Summenrahmenprokoll- und CS-MA- Buszugriffsverfahren zu beschreiben * deren Vor- und Nachteile zu benennen * Laufzeiten von Nachrichten auf Buskabeln zu berechnen","title":"\ud83c\udfaf Lernziele"},{"location":"5_2_Buszugriffsverfahren/#httpfmh-studiosdetheorieinformationstechniki2c-busimg1","text":"","title":"http://fmh-studios.de/theorie/informationstechnik/i2c-bus/#img1"},{"location":"5_2_Buszugriffsverfahren/#herausforderung","text":"Senden mehre Busteilnehmer zeitgleich, so \u00fcberlagern sich die Pegel auf der Busleitung Inhalt der Telegramme kann nicht mehr entziffert werden","title":"Herausforderung"},{"location":"5_2_Buszugriffsverfahren/#clientserver-masterslave-verfahren","text":"Zentrale Bussteuereinheit ( Master , ggf. SPS) stellt Verbindung zu den passiven Teilnehmern (Slaves) her ( Kommunikationssteuerung ) Slaves antworten auf eine Datenanforderung des Masters unmittelbar Polling (zyklische Abfrage) Master mit aktivem Buszugriff geben die Ein-/Ausgabedaten an die Slaves einfaches Protokoll garantierte Buszugriffszeiten","title":"\ud83e\udde0 Client/Server (Master/Slave-Verfahren)"},{"location":"5_2_Buszugriffsverfahren/#httpswwwxplore-dnanetpluginfilephp623mod_resourcecontent2einfc3bchrung20feldbussystemepdf","text":"","title":"https://www.xplore-dna.net/pluginfile.php/623/mod_resource/content/2/Einf%C3%BChrung%20Feldbussysteme.pdf"},{"location":"5_2_Buszugriffsverfahren/#worst-case-polling","text":"Zentrale SPS fragt als Master zyklisch alle Werte ab und sendet Befehle 255 Slaves 1 Taster T\u00fcr\u00f6ffner 1 Motor T\u00fcr\u00f6ffner Wie lange dauert es im schlimmsten Fall bis die T\u00fcr reagiert? maximale Busleitungsl\u00e4nge: \\(200 \\text{ m}\\) Telegramml\u00e4nge: \\(2\\) Byte [Adresse].[Nachricht] Zykluszeit des Masters und Slaves vernachl\u00e4ssigbar Baud-Rate \\(9.600 \\text{ Baud}\\) (z.B. Dali) Manchester-Code Zykluszeit je Master + Slave: vernachl\u00e4ssigbar Abrufen eines Slaves: Signal-Laufzeit: 1 Bit pro 2 Baud: \\(4.800 \\frac{\\text{ Bit}}{\\text{s}}\\) In eine Richtung: \\(\\frac{16 \\text{ Bit}}{4800 \\text{ Bit}}\\text{s}=3.3 \\text{ ms}\\) Abrufen aller Salves ( \\(\\text{Bus-Zykluszeit}\\) ): Slaves antworten, nachdem Sie die Nachricht erhalten haben Zeit pro Slave: \\(6.6\\text{ ms}\\) Wenn Befehl direkt weitergeleitet wird, aber die Teilnehmer logisch maximal auseinander: \\(6.6 \\text{ ms} \\cdot 254 = 1.68 \\text{ s}\\) Falls nur am Anfang eines SPS-Zyklus gepollt wird: \\(\\text{Reaktionszeit}_{max} = 2 \\cdot \\text{Bus-Zykluszeit} + \\text{SPS-Zykluszeit}\\) Aber: Es ist garantiert, dass es nicht l\u00e4nger dauert!","title":"\u270d\ufe0f Worst Case Polling"},{"location":"5_2_Buszugriffsverfahren/#einfluss-der-bus-zykluszeit-auf-komfort","text":"Kopieren Sie den folgenden Code in: https://jsfiddle.net/ <! DOCTYPE html > < html > < head > < title > Toggle Background Color with Time Delay < /title> < script > var color = \"white\" ; function changeBackground () { var time = document . getElementById ( \"timeInput\" ). value ; setTimeout ( function () { if ( color === \"white\" ) { color = \"red\" ; } else { color = \"white\" ; } document . body . style . backgroundColor = color ; }, time ); } < /script> < /head> < body > < input type = \"text\" id = \"timeInput\" placeholder = \"Enter time in ms\" > < button onclick = \"changeBackground()\" > Change Background < /button> < /body> < /html>","title":"Einfluss der Bus-Zykluszeit auf Komfort"},{"location":"5_2_Buszugriffsverfahren/#einfluss-der-bus-zykluszeit-auf-komfort_1","text":"ab \\(60 \\text{ ms}\\) nehmen Nutzer:innen eine Verz\u00f6gerung war Diese f\u00fchrt zu einem negativen Nutzererleben H\u00e4ufig kann innerhalb dieser Zeit keine R\u00fcckmeldung der geschalteten Aktoren erfolgen sequenceDiagram User Interface->>Steuerung: Schalte Licht an Steuerung->>LED-Controller: Schalte Licht an Note over User Interface: Wahrnehmbare Verz\u00f6gerung LED-Controller->>Steuerung: Licht ist an Steuerung->>User Interface: Licht ist an sequenceDiagram User Interface->>Steuerung: Schalte Licht an Steuerung->>User Interface: Licht ist an Steuerung->>LED-Controller: Schalte Licht an LED-Controller->>Steuerung: Licht ist an Steuerung->>User Interface: Licht ist wirklich an","title":"Einfluss der Bus-Zykluszeit auf Komfort"},{"location":"5_2_Buszugriffsverfahren/#buszugriffsverfahren","text":"","title":"\ud83e\udde0 Buszugriffsverfahren"},{"location":"5_2_Buszugriffsverfahren/#schnell-wiedemann-2019","text":"","title":"Schnell &amp; Wiedemann 2019"},{"location":"5_2_Buszugriffsverfahren/#vermeidung-von-kollisionen","text":"verhindern: deterministische Verfahren wie Polling sorgen daf\u00fcr, das keine Kollisionen stattfinden erkennen: zuf\u00e4llige Verfahren lassen Kollisionen zu, k\u00f6nnen aber damit umgehen","title":"Vermeidung von Kollisionen"},{"location":"5_2_Buszugriffsverfahren/#echtzeitfahigkeit","text":"kann garantiert werden, dass die Nachrichten in benennbar Zeit ankommen? Polling: Langsam, aber maximale Zeit kann berechnet und garantiert Zuf\u00e4llige Buszugriffsverfahren: maximale Zeit kann nicht garantiert werden (i.d.R. nicht Echtzeitf\u00e4hig)","title":"\ud83e\udde0 Echtzeitf\u00e4higkeit"},{"location":"5_2_Buszugriffsverfahren/#schnell-wiedemann-2019_1","text":"","title":"Schnell &amp; Wiedemann 2019"},{"location":"5_2_Buszugriffsverfahren/#echtzeitfahig","text":"Zeitraum oder die Datenl\u00e4nge f\u00fcr einen Kommunikationszyklus und damit maximale Zeitdauer, bis die Daten \u00fcbertragen ist berechenbar Damit w\u00e4re auch eine Schneckenpost echtzeitf\u00e4hig, sofern die die versprochene Zustellzeit garantiert einhalten kann zuf\u00e4llige Buszugriffsverfahren sind i. d. R. nicht echtzeitf\u00e4hig","title":"\ud83e\udde0 Echtzeitf\u00e4hig"},{"location":"5_2_Buszugriffsverfahren/#httpsdewikipediaorgwikischneckenpost","text":"","title":"https://de.wikipedia.org/wiki/Schneckenpost"},{"location":"5_2_Buszugriffsverfahren/#buszugriffsverfahren_1","text":"deterministisch: Master/Slave-Verfahren Polling (zyklische Abfrage der Slaves) - Nachteil: Langsam! Token Systeme zuf\u00e4llig: Carrier Sense / Multiple Access","title":"\ud83e\udde0 Buszugriffsverfahren"},{"location":"5_2_Buszugriffsverfahren/#token-systeme","text":"Als Token, Zugstab, Signalstab, Streckenstab oder Kn\u00fcppel bezeichnet man im Eisen- und Stra\u00dfenbahnwesen ein Objekt, dessen Besitz zum Befahren eines eingleisigen Streckenabschnitts berechtigt . z.B. Innsbrucker Mittelgebirgsbahn","title":"\ud83e\udde0 Token-Systeme"},{"location":"5_2_Buszugriffsverfahren/#wiki","text":"","title":"Wiki"},{"location":"5_2_Buszugriffsverfahren/#wiki_1","text":"","title":"Wiki"},{"location":"5_2_Buszugriffsverfahren/#token-ring-logischer-ring","text":"Vorsicht: Logischer Ablauf muss nicht der verbauten Topologie entsprechen","title":"Token Ring (Logischer Ring)"},{"location":"5_2_Buszugriffsverfahren/#httpswwwxplore-dnanetpluginfilephp623mod_resourcecontent2einfc3bchrung20feldbussystemepdf_1","text":"","title":"https://www.xplore-dna.net/pluginfile.php/623/mod_resource/content/2/Einf%C3%BChrung%20Feldbussysteme.pdf"},{"location":"5_2_Buszugriffsverfahren/#token-ring-logischer-ring_1","text":"alle Teilnehmer k\u00f6nnen die Kommunikationssteuerung \u00fcbernehmen (Multi-Master) nur Teilnehmer mit Token hat Buszugriffsrecht garantierte Buszugriffszeiten : Sender muss Token nach bestimmter Zeit wieder freigeben einfache Realisierung Kombination mit Master-Slave m\u00f6glich (Token Passing)","title":"\ud83e\udde0 Token Ring (Logischer Ring)"},{"location":"5_2_Buszugriffsverfahren/#httpswwwxplore-dnanetpluginfilephp623mod_resourcecontent2einfc3bchrung20feldbussystemepdf_2","text":"","title":"https://www.xplore-dna.net/pluginfile.php/623/mod_resource/content/2/Einf%C3%BChrung%20Feldbussysteme.pdf"},{"location":"5_2_Buszugriffsverfahren/#summenrahmenprotokoll","text":"Der Master gibt alle Daten in einem Summenrahmen an alle Slaves Im Summenrahmen ist eine Rahmen f\u00fcr die Inputs und Outputs aller Slaves gegeben garantierte Buszugriffszeiten (deterministischer Prozess) sehr effiziente Busauslastung","title":"\ud83e\udde0 Summenrahmenprotokoll"},{"location":"5_2_Buszugriffsverfahren/#httpswwwxplore-dnanetpluginfilephp623mod_resourcecontent2einfc3bchrung20feldbussystemepdf_3","text":"","title":"https://www.xplore-dna.net/pluginfile.php/623/mod_resource/content/2/Einf%C3%BChrung%20Feldbussysteme.pdf"},{"location":"5_2_Buszugriffsverfahren/#summenrahmenprotokoll-beispiel-ethercat","text":"","title":"Summenrahmenprotokoll Beispiel EtherCat"},{"location":"5_2_Buszugriffsverfahren/#httpswwwyoutubecomwatchvz2oagchg-uu","text":"Ein- und Ausgangsklemmen werden \u00fcber Ethercat angesprochen Hardware wie Ethernet, jedoch mit Summenrahmenprotokoll","title":"https://www.youtube.com/watch?v=z2OagcHG-UU"},{"location":"5_2_Buszugriffsverfahren/#httpswwwbeckhoffcomde-deproduktei-oethercat","text":"","title":"https://www.beckhoff.com/de-de/produkte/i-o/ethercat/"},{"location":"5_2_Buszugriffsverfahren/#deterministische-buszugriffsverfahren","text":"Sender vor dem Sendebeginn eindeutig bestimmt Buszuteilung (Sendeerlaubnis) zentral von einer Leitstation (Master/Slave-Verfahren) oder dezentral durch mehrere Steuereinheiten (Tokenbus, Tokenring)","title":"\ud83e\udde0 deterministische Buszugriffsverfahren"},{"location":"5_2_Buszugriffsverfahren/#schnell-wiedemann-2019_2","text":"","title":"Schnell &amp; Wiedemann 2019"},{"location":"5_2_Buszugriffsverfahren/#zufallige-buszugriffsverfahren","text":"die sende-willigen Teilnehmer greifen nur bei Bedarf (i.e., zuf\u00e4llig) auf das \u00dcbertragungsmedium zu z.B. bei Taster-Bet\u00e4tigung im Beleuchtungssystem Medium darf nicht anderweitig von einem anderen Teilnehmer belegt sein ( Carrier Sense , CS) Ist dies der Fall, muss die Sendung auf einen sp\u00e4teren Zeitpunkt verschoben werden ( Multiple Access , MA)","title":"\ud83e\udde0 zuf\u00e4llige Buszugriffsverfahren"},{"location":"5_2_Buszugriffsverfahren/#carrier-sense-multiple-access-csma","text":"falls Busleitung belegt , erneuter Versuch zu sp\u00e4teren Zeitpunkt es ist allerdings ungewiss, ob Busleitung beim n\u00e4chsten Versuch frei es kann keine maximale Zeit zur Datenbereitstellung garantiert ( keine Echtzeitf\u00e4hig ).","title":"\ud83e\udde0 Carrier Sense Multiple Access (CS/MA)"},{"location":"5_2_Buszugriffsverfahren/#bus-kollision","text":"Zwei Sender beginnen etwa gleichzeitig mit der Sendung Sendungen kollidieren und zerst\u00f6ren sich gegenseitig ( \u00dcberlagerung der Wellen) Wird erkannt, wenn der Empf\u00e4nger die \u00fcbertragenen Daten auf Fehler \u00fcberpr\u00fcft ( Pr\u00fcfsumme ) Vorraussetzung: Sender empfangen ihre eigenen Signale w\u00e4hrend der Sendung. ist es zur Kollision gekommen und die \u00dcbertragung wird sofort eingestellt. ( Collision Detection , CSMA/CD)","title":"\ud83e\udde0 Bus-Kollision"},{"location":"5_2_Buszugriffsverfahren/#kollisionserkennung","text":"a: Sendebeginn zum Zeitpunkt \\(t\\) , b: Kollision zum Zeitpunkt \\(t+t_s\\) mit \\(t_s\\) Signallaufzeit, c: Zustand zum Zeitpunkt \\(t + t_S + \\Delta t\\) , d: Zustand zum Zeitpunkt \\(t + 2 t_s\\)","title":"Kollisionserkennung"},{"location":"5_2_Buszugriffsverfahren/#kollisionserkennung_1","text":"der Sender \\(n\\) erkennt die Kollision nach \\(t+t_s\\) Sender \\(1\\) erst zum Zeitpunkt \\(t+ 2 t_s\\) . Pakete die k\u00fcrzer sind als \\(t + 2 t_s\\) werden nicht immer durch die Kollisionserkennung erkannt","title":"Kollisionserkennung"},{"location":"5_2_Buszugriffsverfahren/#auflosen-einer-bus-kollision","text":"Nach der Kollisionserkennung \u00fcbertr\u00e4gt der Sender ein kurzes St\u00f6rsignal ( jam ), mit dem er alle anderen Teilnehmer \u00fcber die erkannte Kollision informiert (Broadcast). Alle sendewilligen Teilnehmer stellen dann ihre Sendung f\u00fcr eine zuf\u00e4llige Zeitdauer , die einem ganzzahligen Vielfachen der maximalen doppelten Signallaufzeit entspricht, zur\u00fcck und versuchen dann erneut den Zugriff.","title":"\ud83e\udde0 Aufl\u00f6sen einer Bus-Kollision"},{"location":"5_2_Buszugriffsverfahren/#schnell-wiedemann-2019_3","text":"","title":"Schnell &amp; Wiedemann 2019"},{"location":"5_2_Buszugriffsverfahren/#zeitverhalten","text":"mit steigender Busauslastung steigt die Wahrscheinlichkeit einer Kollision Verz\u00f6gerung bis zum Zustellerfolg aller Nachrichten am Beispiel ETHERNET (CSMA/CD)","title":"\ud83e\udde0 Zeitverhalten"},{"location":"5_2_Buszugriffsverfahren/#schnell-wiedemann-2019_4","text":"","title":"Schnell &amp; Wiedemann 2019"},{"location":"5_2_Buszugriffsverfahren/#_1","text":"Welche Ans\u00e4tze gibt es bei einem Bussystem, die Leuchten in einer Notsituation garantiert auf den Zustand leuchtend zuschalten?","title":""},{"location":"5_2_Buszugriffsverfahren/#determinsitische-buszugriffsverfahren","text":"","title":"\ud83e\udde0 Determinsitische Buszugriffsverfahren"},{"location":"5_2_Buszugriffsverfahren/#schnell-wiedemann-2019_5","text":"","title":"Schnell &amp; Wiedemann 2019"},{"location":"5_3_Uebertragungssicherheit/","text":"3 \u00dcbertragungssicherheit \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu * verschiedene Fehlertypen bei der Daten\u00fcbertragung unterscheiden * Ma\u00dfnahmen zur Erkennung und Behebung von \u00dcbertragungsfehlern beschreiben * die Hammingdistanz verschiedener Codes ermitteln \ud83e\udde0 Informationsgehalt von Telegrammen Steuerfeld: Priorit\u00e4t der Nachricht Quelladresse: Absender (vgl. MAC-Adresse) Zieladresse: Empf\u00e4nger (vgl. MAC-Adresse) Routing Z\u00e4hler: Z\u00e4hlt wie oft \u00fcber Koppler gesendet Nutzinformation: Eigentlich Information (z.B. Messwerte eines Sensor) Sicherungs-Feld: Wurden die Daten richtig \u00fcbertragen (vgl. Hash) \ud83e\udde0 Datensicherung Gesendet: 010000010000001110000000 Empfangen 1: 010000110000001110000000 Empfangen 2: 01000010000001110000000 - wie stellt man sicher, dass keine Daten verloren gehen oder korrumpiert werden? - Schicht 1: technische Vorkehrungen die Wahrscheinlichkeit von St\u00f6rungen, z. B. durch geschirmte Kabel, Glasfaserkabel, potentialfreie \u00dcbertragung. - Schicht 2: \u00dcberwachung der Nachricht auf Fehler und Gegenma\u00dfnahmen \ud83e\udde0 Fehlerarten Wir betrachten im Folgenden stets transparente ( bitorientierte ) Codes. (d.h. jede Bitkombination ist erlaubt und sinnvoll) Bitfolge allein l\u00e4sst nicht auf einen eventuellen Fehler schlie\u00dfen Es gibt drei Arten von Fehlern \ud83e\udde0 Fehlerma\u00dfe Bitfehlerrate \\(p\\) \\(p = \\frac{Anzahl \\ der \\ fehlerhaften \\ Bits}{Gesamtzahl \\ der \\ gesendeten \\ Bits}\\) Der ung\u00fcnstigste Wert \\(p = 0.5\\) . Jedes zweite Bit ist dann im Mittel gest\u00f6rt, die Nachricht also wertlos w\u00e4re \\(p=1\\) : 001 : 110 realistischer Wert \\(p = 10^{-4}\\) \ud83e\udde0 Erkennen von \u00dcbertragungsfehlern Ob Fehler erkennbar sind, h\u00e4ngt auch davon ab, wie die Information codiert wurde Code: Deutsche Sprache Fehler ist offensichtlich: Mein , Tein Fehler ist nicht erkennbar: Mein , Dein Fehler ist erkennbar und korrigierbar: Gxb\u00e4ude , Geb\u00e4ude \ud83e\udde0 Erkennen von \u00dcbertragungsfehlern Codes k\u00f6nnen so definiert, werden, dass das Auftreten einzelner \u00dcbertragungsfehler offensichtlich wird. 00 : Schalter ein 01 : nicht definiert 10 : nicht definiert 11 : Schalter aus Die Schalterstellung kann nicht verwechselt werden (bei einem Ein-Bit-Fehler) \ud83e\udde0 Hamming-Abstand Unter dem Hamming-Abstand eines Codes versteht man das Minimum aller Abst\u00e4nde zwischen verschiedenen W\u00f6rtern innerhalb des Codes Abstand : An wie vielen Stellen muss ein Wort ver\u00e4ndert werden \\(H(\\{ 00,11\\})=2\\) \\(H(\\{ 00,01,10,11\\})=1\\) \\(H(\\{ 00110,00100\\})=1\\) \\(H(\\{ '12345','13349'\\})=2\\) \\(H(\\{ 'Haus','Baum', 'Tier'\\})=2\\) Beachte: bei den Strings z\u00e4hlt nicht, wie weit die Buchstaben auseinander liegen \ud83e\udde0 Anwendung des Hamming-Abstand zur Fehlererkennung Ein Code besteht aus folgenden drei W\u00f6rtern: aus , ein , sie Der kleinste der drei Abst\u00e4nde ist 2, also ist der Hamming-Abstand des Codes ebenfalls gleich \\(h=2\\) ( ein , sie ). Bei Codes mit Hamming-Abstand h=2 k\u00f6nnen alle 1 -Bit-Fehler erkannt werden. D.h. der ver\u00e4nderte Code kann mit keinem anderen Wort verwechselt werden ( _ie , s_e , si_ ) Ein 2 -Bit-Fehler kann nicht immer erkannt werden ( ein , _i_ , sie ) \ud83e\udde0 Anwendungsbeispiel Drehschalter vier Einstellm\u00f6glichkeiten werden als bin\u00e4re Zahl (Codewort) an einen Empf\u00e4nger \u00fcbermittelt: 00 , 01 , 10 , 11 Empf\u00e4nger erh\u00e4lt das Codewort, hat sonst keine M\u00f6glichkeit, die Schalterstellung zu \u00fcberpr\u00fcfen https://at.rs-online.com/web/p/nockenschalter/2212822 \ud83e\udde0 Anwendungsbeispiel und Aufgabe 00 , 01 , 10 , 11 Hamming-Abstand zwischen den vier Worten ist jeweils 1, d. h. falls durch einen Fehler nur ein Bit umgekehrt wird, erh\u00e4lt der Empf\u00e4nger zwar ein anderes, aber ebenso g\u00fcltiges Codewort \u270d\ufe0f Aufgabe Angenommen es treten nur Einfachfehler auf (es wird also maximal ein Bit geflippt) Kann man einen bin\u00e4ren Code entwickeln, der es nicht nur erm\u00f6glicht Fehler zu erkennen, sondern diese auch zu beheben? \ud83e\udde0 L\u00f6sung Um Einfachfehler zu korrigieren ben\u00f6tigt man einen Code, der einen Hamming-Abstand \u2265 3 hat: z. B. 11000000 , 00110000 , 00001100 , 00000011 . Einfachfehler k\u00f6nnen nur erkannt und behoben werden: 10000000 --> 11000000 11100000 --> 11000000 10110000 --> 00110000 Hamming-Distanz bei Bus-Systemen \\(h\\) Ma\u00df f\u00fcr die St\u00f6rfestigkeit eines Codes Bei Feldbus-Systemen ist \\(h = 4\\) \u00fcblich, f\u00fcr sehr hohe Sicherheitsbed\u00fcrfnisse \\(h = 6\\) . Damit nimmt die jedoch Telegramm\u00fcbertragungseffizienz ab. Es m\u00fcssen die eigentlich Informationen (z.b. 4 Werte eines Schalters) durch l\u00e4ngere Bitfolgen codiert werden. \ud83e\udde0 Parit\u00e4tsbit zur Fehlererkennung Wir senden eine Zahl mit 4 Bit, z. B. 0010 ( \\(2_{10}\\) ) Zahl der positiven Bits im Bin\u00e4rcode ist ungerade Parit\u00e4tsbit E=1 (even = True) wird hinzugef\u00fcgt (Parit\u00e4ts-/ Evenbit ist 1, wenn einegerade Zahl von Bit \u00fcbertagen werden) und mit \u00fcbertragen Alle ungeraden Anzahlen an Fehlern werden erkannt: Original: 0010 - E=1 - erwartet E=1 1 Fehler: 0011 - E=1 - erwartet E=0 1 Fehler: 0010 - E=0 - erwartet E=1 1 Fehler: 0110 - E=1 - erwartet E=1 \ud83e\udde0 Blocksicherung Anstelle nur nach allen X-Bits eine Parit\u00e4tsbit einzuf\u00fcgen wird auch ein spaltenweises Parit\u00e4tsbit eingef\u00fcgt Vorsicht: Hier wird \\(P\\) selbst nicht mitgez\u00e4hlt Gerhard Schnell & Bernhard Wiedemann \ud83c\udfaf Lernfortschritt Nach dieser Einheit sind Sie in der Lage dazu * verschiedene Fehlertypen bei der Daten\u00fcbertragung unterscheiden * Ma\u00dfnahmen zur Erkennung und Behebung von \u00dcbertragungsfehlern beschreiben * die Hammingdistanz verschiedener Codes ermitteln","title":"\u00dcbertragungssicherheit"},{"location":"5_3_Uebertragungssicherheit/#3-ubertragungssicherheit","text":"","title":"3 \u00dcbertragungssicherheit"},{"location":"5_3_Uebertragungssicherheit/#lernziele","text":"Nach dieser Einheit sind Sie in der Lage dazu * verschiedene Fehlertypen bei der Daten\u00fcbertragung unterscheiden * Ma\u00dfnahmen zur Erkennung und Behebung von \u00dcbertragungsfehlern beschreiben * die Hammingdistanz verschiedener Codes ermitteln","title":"\ud83c\udfaf Lernziele"},{"location":"5_3_Uebertragungssicherheit/#informationsgehalt-von-telegrammen","text":"Steuerfeld: Priorit\u00e4t der Nachricht Quelladresse: Absender (vgl. MAC-Adresse) Zieladresse: Empf\u00e4nger (vgl. MAC-Adresse) Routing Z\u00e4hler: Z\u00e4hlt wie oft \u00fcber Koppler gesendet Nutzinformation: Eigentlich Information (z.B. Messwerte eines Sensor) Sicherungs-Feld: Wurden die Daten richtig \u00fcbertragen (vgl. Hash)","title":"\ud83e\udde0 Informationsgehalt von Telegrammen"},{"location":"5_3_Uebertragungssicherheit/#datensicherung","text":"Gesendet: 010000010000001110000000 Empfangen 1: 010000110000001110000000 Empfangen 2: 01000010000001110000000 - wie stellt man sicher, dass keine Daten verloren gehen oder korrumpiert werden? - Schicht 1: technische Vorkehrungen die Wahrscheinlichkeit von St\u00f6rungen, z. B. durch geschirmte Kabel, Glasfaserkabel, potentialfreie \u00dcbertragung. - Schicht 2: \u00dcberwachung der Nachricht auf Fehler und Gegenma\u00dfnahmen","title":"\ud83e\udde0 Datensicherung"},{"location":"5_3_Uebertragungssicherheit/#fehlerarten","text":"Wir betrachten im Folgenden stets transparente ( bitorientierte ) Codes. (d.h. jede Bitkombination ist erlaubt und sinnvoll) Bitfolge allein l\u00e4sst nicht auf einen eventuellen Fehler schlie\u00dfen Es gibt drei Arten von Fehlern","title":"\ud83e\udde0 Fehlerarten"},{"location":"5_3_Uebertragungssicherheit/#fehlermae","text":"Bitfehlerrate \\(p\\) \\(p = \\frac{Anzahl \\ der \\ fehlerhaften \\ Bits}{Gesamtzahl \\ der \\ gesendeten \\ Bits}\\) Der ung\u00fcnstigste Wert \\(p = 0.5\\) . Jedes zweite Bit ist dann im Mittel gest\u00f6rt, die Nachricht also wertlos w\u00e4re \\(p=1\\) : 001 : 110 realistischer Wert \\(p = 10^{-4}\\)","title":"\ud83e\udde0 Fehlerma\u00dfe"},{"location":"5_3_Uebertragungssicherheit/#erkennen-von-ubertragungsfehlern","text":"Ob Fehler erkennbar sind, h\u00e4ngt auch davon ab, wie die Information codiert wurde Code: Deutsche Sprache Fehler ist offensichtlich: Mein , Tein Fehler ist nicht erkennbar: Mein , Dein Fehler ist erkennbar und korrigierbar: Gxb\u00e4ude , Geb\u00e4ude","title":"\ud83e\udde0 Erkennen von \u00dcbertragungsfehlern"},{"location":"5_3_Uebertragungssicherheit/#erkennen-von-ubertragungsfehlern_1","text":"Codes k\u00f6nnen so definiert, werden, dass das Auftreten einzelner \u00dcbertragungsfehler offensichtlich wird. 00 : Schalter ein 01 : nicht definiert 10 : nicht definiert 11 : Schalter aus Die Schalterstellung kann nicht verwechselt werden (bei einem Ein-Bit-Fehler)","title":"\ud83e\udde0 Erkennen von \u00dcbertragungsfehlern"},{"location":"5_3_Uebertragungssicherheit/#hamming-abstand","text":"Unter dem Hamming-Abstand eines Codes versteht man das Minimum aller Abst\u00e4nde zwischen verschiedenen W\u00f6rtern innerhalb des Codes Abstand : An wie vielen Stellen muss ein Wort ver\u00e4ndert werden \\(H(\\{ 00,11\\})=2\\) \\(H(\\{ 00,01,10,11\\})=1\\) \\(H(\\{ 00110,00100\\})=1\\) \\(H(\\{ '12345','13349'\\})=2\\) \\(H(\\{ 'Haus','Baum', 'Tier'\\})=2\\)","title":"\ud83e\udde0 Hamming-Abstand"},{"location":"5_3_Uebertragungssicherheit/#beachte-bei-den-strings-zahlt-nicht-wie-weit-die-buchstaben-auseinander-liegen","text":"","title":"Beachte: bei den Strings z\u00e4hlt nicht, wie weit die Buchstaben auseinander liegen"},{"location":"5_3_Uebertragungssicherheit/#anwendung-des-hamming-abstand-zur-fehlererkennung","text":"Ein Code besteht aus folgenden drei W\u00f6rtern: aus , ein , sie Der kleinste der drei Abst\u00e4nde ist 2, also ist der Hamming-Abstand des Codes ebenfalls gleich \\(h=2\\) ( ein , sie ). Bei Codes mit Hamming-Abstand h=2 k\u00f6nnen alle 1 -Bit-Fehler erkannt werden. D.h. der ver\u00e4nderte Code kann mit keinem anderen Wort verwechselt werden ( _ie , s_e , si_ ) Ein 2 -Bit-Fehler kann nicht immer erkannt werden ( ein , _i_ , sie )","title":"\ud83e\udde0 Anwendung des Hamming-Abstand zur Fehlererkennung"},{"location":"5_3_Uebertragungssicherheit/#anwendungsbeispiel","text":"Drehschalter vier Einstellm\u00f6glichkeiten werden als bin\u00e4re Zahl (Codewort) an einen Empf\u00e4nger \u00fcbermittelt: 00 , 01 , 10 , 11 Empf\u00e4nger erh\u00e4lt das Codewort, hat sonst keine M\u00f6glichkeit, die Schalterstellung zu \u00fcberpr\u00fcfen","title":"\ud83e\udde0 Anwendungsbeispiel"},{"location":"5_3_Uebertragungssicherheit/#httpsatrs-onlinecomwebpnockenschalter2212822","text":"","title":"https://at.rs-online.com/web/p/nockenschalter/2212822"},{"location":"5_3_Uebertragungssicherheit/#anwendungsbeispiel-und-aufgabe","text":"00 , 01 , 10 , 11 Hamming-Abstand zwischen den vier Worten ist jeweils 1, d. h. falls durch einen Fehler nur ein Bit umgekehrt wird, erh\u00e4lt der Empf\u00e4nger zwar ein anderes, aber ebenso g\u00fcltiges Codewort \u270d\ufe0f Aufgabe Angenommen es treten nur Einfachfehler auf (es wird also maximal ein Bit geflippt) Kann man einen bin\u00e4ren Code entwickeln, der es nicht nur erm\u00f6glicht Fehler zu erkennen, sondern diese auch zu beheben?","title":"\ud83e\udde0 Anwendungsbeispiel und Aufgabe"},{"location":"5_3_Uebertragungssicherheit/#losung","text":"Um Einfachfehler zu korrigieren ben\u00f6tigt man einen Code, der einen Hamming-Abstand \u2265 3 hat: z. B. 11000000 , 00110000 , 00001100 , 00000011 . Einfachfehler k\u00f6nnen nur erkannt und behoben werden: 10000000 --> 11000000 11100000 --> 11000000 10110000 --> 00110000","title":"\ud83e\udde0 L\u00f6sung"},{"location":"5_3_Uebertragungssicherheit/#hamming-distanz-bei-bus-systemen","text":"\\(h\\) Ma\u00df f\u00fcr die St\u00f6rfestigkeit eines Codes Bei Feldbus-Systemen ist \\(h = 4\\) \u00fcblich, f\u00fcr sehr hohe Sicherheitsbed\u00fcrfnisse \\(h = 6\\) . Damit nimmt die jedoch Telegramm\u00fcbertragungseffizienz ab. Es m\u00fcssen die eigentlich Informationen (z.b. 4 Werte eines Schalters) durch l\u00e4ngere Bitfolgen codiert werden.","title":"Hamming-Distanz bei Bus-Systemen"},{"location":"5_3_Uebertragungssicherheit/#paritatsbit-zur-fehlererkennung","text":"Wir senden eine Zahl mit 4 Bit, z. B. 0010 ( \\(2_{10}\\) ) Zahl der positiven Bits im Bin\u00e4rcode ist ungerade Parit\u00e4tsbit E=1 (even = True) wird hinzugef\u00fcgt (Parit\u00e4ts-/ Evenbit ist 1, wenn einegerade Zahl von Bit \u00fcbertagen werden) und mit \u00fcbertragen Alle ungeraden Anzahlen an Fehlern werden erkannt: Original: 0010 - E=1 - erwartet E=1 1 Fehler: 0011 - E=1 - erwartet E=0 1 Fehler: 0010 - E=0 - erwartet E=1 1 Fehler: 0110 - E=1 - erwartet E=1","title":"\ud83e\udde0 Parit\u00e4tsbit zur Fehlererkennung"},{"location":"5_3_Uebertragungssicherheit/#blocksicherung","text":"Anstelle nur nach allen X-Bits eine Parit\u00e4tsbit einzuf\u00fcgen wird auch ein spaltenweises Parit\u00e4tsbit eingef\u00fcgt Vorsicht: Hier wird \\(P\\) selbst nicht mitgez\u00e4hlt","title":"\ud83e\udde0 Blocksicherung"},{"location":"5_3_Uebertragungssicherheit/#gerhard-schnell-bernhard-wiedemann","text":"","title":"Gerhard Schnell &amp; Bernhard Wiedemann"},{"location":"5_3_Uebertragungssicherheit/#lernfortschritt","text":"Nach dieser Einheit sind Sie in der Lage dazu * verschiedene Fehlertypen bei der Daten\u00fcbertragung unterscheiden * Ma\u00dfnahmen zur Erkennung und Behebung von \u00dcbertragungsfehlern beschreiben * die Hammingdistanz verschiedener Codes ermitteln","title":"\ud83c\udfaf Lernfortschritt"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/","text":"1 Digital Addressable Lighting Interface (DALI) Lernziele \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu - Komponenten zum Aufbau eines DALI-Systems ausw\u00e4hlen - die Grundlagen von Szenen und Gruppensteuerung beschreiben - geeigneten Leitungsdurchmesser/L\u00e4nge einer DALI-Installation bestimmen DALI Grund-Komponenten Stromversorgung (DALI PS1) - Alternativ \u00fcber Klemme oder Netzteil Steuerkontroller (links): Sind mit Tastern oder anderen Schnittstellen verbunden LED oder Leuchten-Treiber (rechts): Versorgen Leuchtmittel mit Energie und setzen Steuerbefehle um DALI-USB: Schnittstelle zur Programmierung https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf DALI Protokoll f\u00fcr lichttechnischer Betriebsger\u00e4te kein gesamtheitliches Bussystem f\u00fcr Geb\u00e4udesystemtechnik dezentrales Lichtmanagement f\u00fcr max. 64 Teilnehmer (Betriebsger\u00e4te) mit frei definierbaren 16 Gruppen und 16 Szenen \u00fcber Gateways auch in die Geb\u00e4udesystemtechnik (KNX, BACnet, etc,) integrierbar Gruppen Mehrere Leuchtmittel werden zusammengefasst und k\u00f6nnen \u00fcber eine gemeinsame Gruppen-Adresse angesprochen https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf Szenen Vordefinierte Einstellungen f\u00fcr verschiedene Gruppen und Leuchtmittel f\u00fcr bestimmte Situationen https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf Technische Grundlagen Separates Kabel mit zwei Signaleitern Spannung der Busleitung 9,5V \u2013 22,4V Systemstrom max. 250mA (zur Versorgung keiner Betriebsger\u00e4te z.B. Steuerger\u00e4te f\u00fcr Schalter) Daten\u00fcbertragungsgeschwindigkeit 1.200 Baud Maximale einfache Leitungsl\u00e4nge 300m (bei 1,5mm\u00b2) Aufbau https://www.ledclusive.de/blog/anleitung-zur-dali-installation-im-privathaus-fuer-jedermann/ Merkmale von DALI Installation: Versorgungs- und Steueradern k\u00f6nnen zusammen im selben Kabel verlegt werden. Die Verdrahtung kann in Reihe, sternf\u00f6rmig oder in einer gemischten Form erfolgen. Keine Polarit\u00e4t: Die Polarit\u00e4t (DA+/DA-) der DALI-Steuerleitung muss nicht beachtet werden Verteilte Intelligenz : Jeder Controller arbeitet als \"Master\" und kontrolliert dabei die Kommunikation auf ( Multi-Master ) der Steuerleitung. Gewisse Parameter sind dabei direkt im DALI-Betriebsger\u00e4t abgelegt (z.B. Szenenwerte, Gruppenadresse). https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf Technische Hintergr\u00fcnde Kodierung: Manchester-Codierung High Pegel (idle): \\(9.5 \\text{ bis } 22.5 V\\) Low Pegel: \\(-6.5 \\text{ bis } 6.5 V\\) Buszugriff: Multi-Master CS/MA - CA Echtzeitf\u00e4hig? nein https://infosys.beckhoff.com/index.php?content=../content/1031/tcplclib_tc3_dali/12346807435.html&id=5821349906969406832 Telegramme https://infosys.beckhoff.com/index.php?content=../content/1031/tcplclib_tc3_dali/12346807435.html&id=5821349906969406832 FF: Forward Frame eines Masters BF: Backward Frame Antwort eines Slaves 16-und-24-Bit-Telegramme: Ger\u00e4te zu konfigurieren, Parameter abzufragen oder Steuerbefehle oder Ereignisse Telegramme https://www.picotech.com/library/oscilloscopes/dali-serial-protocol-decoding 1-1-01110... https://www.picotech.com/library/oscilloscopes/dali-serial-protocol-decoding Stromversorgung Versorgt den gesamten DALI-DALI-Kreis mit 24 V Gleichstrom z.B. Leuchtmittel >5 W, Steuercontroller Steuermodule Bieten Eing\u00e4nge f\u00fcr Taster (Lichtschalter) K\u00f6nnen Logik f\u00fcr die Steuerung basierend auf den Eingaben ausf\u00fchren Steuermodule Betriebsarten Betriebsart Beschreibung MC Einfachtaster und/oder Doppeltaster und/oder Schalter SC-A Einfachtaster f\u00fcr Szenenaufruf GC-A Einfachtaster und/oder Doppeltaster f\u00fcr Leuchtengruppen ein/aus/gedimmt TuWh Doppeltaster f\u00fcr Intensit\u00e4t und Farbtemperatur von \"Tunable White\" Handbuch Tochpanele Erm\u00f6glichen komplexere Eingaben als einfache Taster Ausgaben m\u00f6glich: z.B. aktuelle Szene mit mit Licht hinterlegen Sensoren Erfassen Umweltparameter, wie Helligkeit und Bewegungen Betriebsger\u00e4te Steuerung und/oder Stromversorgung von Leuchtmitteln (z.B. LEDs) Teilweise Transformatoren und Gleichrichter f\u00fcr \\(230V / AC\\) Mehrere Betriebsger\u00e4te k\u00f6nnen zu einer Gruppe zusammengefasst werden Technischer Rahmen einer Installation Max. 64 DALI-Betriebsger\u00e4te ( \\(2^6\\) Adressen) Max. 16 DALI-Gruppen ( \\(2^4\\) Adressen) Max. 16 DALI-Szenen ( \\(2^4\\) Adressen) Maximaler Strom der Stromversorgung (DALI PS1: \\(200 mA\\) bzw. DALI PS2 \\(240 mA\\) ). Max. Leitungsl\u00e4nge aus Spannungsabfall (2 V d.h. 300 m bei 1,5 mm\u00b2) Stromaufnahme berechnen Ist die Stromversorgung stark genug f\u00fcr alle Betriebsmittel? Hierbei sind nur die Controller gemeint, die durch die DALI-Leitung versorgt werden https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf 1. Stromaufnahme absch\u00e4tzen Jedes Ger\u00e4t im DALI-Kreis nimmt \u00fcber den DALI-Kreis Strom auf (parallel) Die Stromaufnahme der Steuer- und Betriebsger\u00e4te aus Datenblatt (ca. 2mA). maximalen Strom der Stromversorgung z.B. DALI PS1 (200 mA) Beispiel: DALI-Kreis mit 24 dimmbaren LED Treibern (LCA), 6 DALI XC Gesamtstrom = Summe Stromaufnahme DALI Betriebsger\u00e4te + Summe Stromaufnahme DALI Steuerger\u00e4te Gesamtstrom = 24 x Vorschaltger\u00e4te + 6 x DALI XC Gesamtstrom = 24 x 2 mA + 6 x 6 mA = 84 mA 2. Maximale Kabell\u00e4nge berechnen Spannungsabfall durch Kabel darf \\(2 V\\) nicht \u00fcberschreiten Berechnung des Spannungsabfalls: \\(U_v = R I = \\frac{2 \\cdot l }{\\gamma \\cdot S}\\cdot I\\) \\(U_v\\) Spannungsabfall in V \\(I\\) Strom in A \\(S\\) Querschnitt in \\(mm^2\\) \\(l\\) Leitungsl\u00e4nge in m \\(\\gamma\\) Elektrische Leitf\u00e4higkeit in \\(\\frac{m}{\\Omega \\cdot mm }\\) , bei Kupferleitungen: \\(56\\frac{m}{\\Omega \\cdot mm }\\) Maximale Kabell\u00e4nge berechnen Beispiel: DALI-Kreis mit einer Leitungsl\u00e4nge von \\(300 m\\) und einem Drahtquerschnitt von \\(1.5 mm^2\\) und maximalem Strom von 250 mA \\(U_v = \\frac{2 \\cdot l \\cdot I}{\\gamma \\cdot S} = \\frac{2 \\cdot 300 m \\cdot 0.25 A}{56 \\frac{m}{\\Omega mm^2} \\cdot 1.5 mm^2} = 1.786 V\\) Spannungsabfall \u00fcber Kabel ist kleiner als \\(2V\\) Verdrahtung handels\u00fcbliches Installationsmaterial 2 Adern f\u00fcr DALI-Steuerkreis https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf Anschluss auf Polarit\u00e4t der DALI-Leitung muss nicht beachtet werden DALI-Signal ist nicht SELV . Es gelten die Installationsvorschriften f\u00fcr Niederspannung. https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf Safety Extra Low Voltage = Sicherheitskleinspannung) bezeichnet Spannungen, die aufgrund ihrer geringen Spannungsh\u00f6he und Isolierung besonderen Schutz gegen elektrischen Schlag bieten Konfiguration Bussysteme werden in der Regel nicht programmiert, sondern anhand von bestehenden Bausteinen und Software konfiguriert Jedem Ger\u00e4t werden bestimmte Eigenschaftswerte zugewiesen Steuer-Kontroller: F\u00fcr welche Funktion ist der Schalter zust\u00e4ndig (Szenen, Gruppen, Dimmen) F\u00fcr welche Leuchtmittel und Gruppen ist der Schalter genau zust\u00e4ndig LED-Kontroller: Zuordnung zu Szenen und Gruppen Zuordnung von Leuchtwerten Software-seitige Konfiguration Je nach Bussystem stellen verschiedene Anbieter, verschiedene Softwarel\u00f6sungen bereit. Individualadressen und Gruppen jeder DALI Teilnehmer hat eine (von 64) Individualadressen Mit der Individualadresse kann jedes einzelne Betriebsger\u00e4t identifiziert und angesteuert werden. Mehrkanaligen Betriebsger\u00e4ten sind ggf. mehrere Adressen zuzuordnen (z.B. Dimmen + Farbe oder Warm- + Kaltwei\u00df ) Zus\u00e4tzlich zu den Individualadressen bis zu 16 Gruppenadressen Szenen bis zu 16 Lichtszenen (Einstellung verschiedener Beleuchtungssituationen) jedem Vorschaltger\u00e4t kann ein individueller Lichtwert je Szene hinterlegt werden Lichtszenen unabh\u00e4ngig von der Gruppenzuordnung https://www.light11.de/lightmag/lichtsteuerung/ Farbsteuerung M\u00f6gliche Farbkan\u00e4le RGB: Drei Kan\u00e4le f\u00fcr rote, gr\u00fcne und blaue LEDs RGBW: RGB + wei\u00dfen Lichtquelle (4) RGBWW: Wei\u00df-Wei\u00df (tunable white) f\u00fcr die W\u00e4rme-Steuerung des wei\u00dfen Lichts (2) Ansteuerung: DT6: Jeder Farbkanal hat eine eigene DALI-Adresse . Statt 64 k\u00f6nnen bei RGBW nur nuch 16 Leuchtmittel gesteuert werden DT8: Nur eine Adresse pro Ger\u00e4t Anwendungsbeispiel Besprechungszimmer Besprechungszimmer f\u00fcr ca. 10 Personen 6 LED Langfeldleuchten und 2 LED Downlights . je eine Gruppe f\u00fcr Langfeldleuchten und Downlights Bedienung an T\u00fcr: DALI XC (SC Modus) mit den Szenen \u201e Beleuchtung ein \" und \u201e Beleuchtung aus \" an Fensterfront 2 DALI XC (SC und GC): Aufrufen von vier Szenen und das individuelle Dimmen der beiden Leuchtengruppen . https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf St\u00fcckliste Pos. St\u00fcck Artikelbezeichnung 1 1 DALI Stromversorgung DALI PS1 / DALI PS2 2 2 DALI XC in SC Modus (Szenenkontroller) DALI XC 3 1 DALI XC in GC Modus (Gruppenkontroller) DALI XC 4 6 DALI LED Betriegsger\u00e4t f\u00fcr Langfeldleuchte LCAI one4all 5 2 DALI LED Betriebsger\u00e4t f\u00fcr LED Downlights LCAI one4all https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf Checkliste DALI Bedingung Im Objekt geplant / vorhanden OK? Max. 64 DALI Betriebsger\u00e4te 8 DALI Betriebsger\u00e4te Max. 16 Gruppen 2 Gruppen Max. 16 Szenen 4 Szenen Strom DALI-Kreis < Nennstrom Power Supply 34 mA Leitungsl\u00e4nge < 300 m (bei 1,5mm\u00b2) ca. 20m 5 Adern zu jeder Leuchte 5 x 1,5mm\u00b2 DALI LED Betriebsger\u00e4t in Leuchte Tridonic LCAI one4all https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf Gruppierung Komponente Zuordnung Downlights Gruppe 1 Langfeldleuchten Gruppe 2 an Fensterfront DALI XC (GC): individuelle Dimmen der beiden Leuchtengruppen . 4 Taster, je zwei f\u00fcr jede Gruppe https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf Szenenzuordnung an T\u00fcr: DALI XC (SC Modus) mit den Szenen \u201e Beleuchtung ein \" und \u201e Beleuchtung aus \" an Fensterfront 1 DALI XC (SC): Aufrufen von vier Szenen individuelle Dimmen der beiden Leuchtengruppen . Bedienstelle T\u00fcr Bedienstelle Leinwand G1 G2 Szene 1 Licht aus Licht aus 0 % 0% Szene 2 Licht 100 % Licht 100 % 100% 100% Szene 3 nicht verdrahtet Pr\u00e4sentation 50% 20 % Szene 4 nicht verdrahtet Besprechung 0% 100% https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf Inbetriebnahme Die Programmierung kann auf zwei Arten erfolgen Schalter im Programmiermodus PC-Anbindung mit Software https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf Ergebnis https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf DALI 2 abw\u00e4rtskompatibel Input Devices (Sensoren) kommunizieren nicht mehr direkt mit DALI-Treibern an Leuchtmitteln Application controller verarbeiten zuerst (Multimaster Prinzip) Kollisions-Erkennung 2 Ausfallsicherheit da Bussysteme aus mehreren Komponenten bestehen, wird das Fehlermanagement komplexer Single-Point-of-Failure: Ein Teil des Systems, dessen Ausfall zum Totalversagen f\u00fchren kann Neben redundanter Auslegung kann eine Fehler-Analyse helfen resilientere Systeme zu entwerfen Einfluss-Analyse was w\u00e4re wenn ? F\u00fcr jede Komponente wird untersucht: was passiert, wenn diese Komponente ausf\u00e4llt Was w\u00e4re der gew\u00fcnschte Zustand des Systems? (i.d.R. festgelegt durch die Aktoren) Beispiel: Beleuchtung in Treppenh\u00e4usern Licht sollte nicht ohne Bedarf brennen Licht kann \u00fcber Taster, Bewegungsmelder oder GLT aktiviert werden im Falle eines Notfalls muss das Licht brennen Buskomponenten Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? LED AN Defekte Lampe wird angezeigt Vorschaltger\u00e4t AN Defektes Vorschaltger\u00e4t wird angezeigt Stromversorgung AN Ausfall wird angezeigt Busleitung AN St\u00f6rung wird angezeigt Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Steuercontroller AN Defekter Steuercontroller wird angezeigt Taster AN Defekter Taster wird angezeigt Bewegungsmelder AN Defekter Taster wird angezeigt Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? LED AN Defekte Lampe wird angezeigt 1: Nur durch Redundanz m\u00f6glich 2: Das Vorschaltger\u00e4t muss in der Lage sein den Ausfall der LED zu erkennen und an die GLT \u00fcbermitteln Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Vorschaltger\u00e4t AN Defektes Vorschaltger\u00e4t wird angezeigt 1: i.d.R. Nicht m\u00f6glich 2: Regelm\u00e4\u00dfiges ansprechen des Vorschaltger\u00e4t durch GLT. Meldung bei nicht erreichen Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Stromversorgung AN Ausfall wird angezeigt * 1: i.d.R. Nicht m\u00f6glich * 2: Regelm\u00e4\u00dfiges Ansprechen des Vorschaltger\u00e4t durch GLT. Meldung bei nicht erreichen Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Busleitung AN St\u00f6rung wird angezeigt 1: Bei Fehlersignal auf Busleitung schaltet das Vorschaltger\u00e4t an 2: Regelm\u00e4\u00dfiges Ansprechen des Gateways durch GLT. Meldung bei Problemen Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Steuercontroller AN Defekter Steuercontroller wird angezeigt 1: Bei Ausbleiben eines Steuerbefehls an Vorschaltger\u00e4t f\u00fcr l\u00e4nger als konfigurierte Zeit wird dies als Befehl zum Anschalten interpretiert 2: Regelm\u00e4\u00dfiges Ansprechen des Steuercontrollers durch GLT. Meldung bei nicht erreichen Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Bewegungsmelder / Taster AN Vermuteter Defekt wird angezeigt 1: Bei Ausbleiben eines Steuerbefehls an Vorschaltger\u00e4t f\u00fcr l\u00e4nger als konfigurierte Zeit wird dies als Befehl zum Anschalten interpretiert 2: Bei l\u00e4ngerem Ausbleiben eines Steuerbefehls der Steuercontroller wird eine Warnung angezeigt \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu - Komponenten zum Aufbau eines DALI-Systems ausw\u00e4hlen - die Grundlagen von Szenen und Gruppensteuerung beschreiben - geeigneten Leitungsdurchmesser/L\u00e4nge einer DALI-Installation bestimmen 3 KNX Lernziele Studierende k\u00f6nnen das Einsatzgebiet eines KNX-Systems beschreiben Studierenden k\u00f6nnen typische Aktoren und Sensoren eines KNX-Systems benennen \ud83e\udde0 KNX Eigenschaften ein Feldbus zur Geb\u00e4udeautomation Fokus zun\u00e4chst auf Raumautomation Nachfolger des Europ\u00e4ischen Installationsbus (EIB) Einf\u00fchrende Erkl\u00e4rung https://www.knx.org/wAssets/docs/downloads/Marketing/Flyers/KNX-Basics/KNX-Basics_de.pdf \ud83e\udde0 Feldbus-Systeme zur Geb\u00e4udeautomation KNX trennt die Ger\u00e4testeuerung und Stromversorgung Stromversorgung mit Wechselspannung (rot) Steuerungsnetz (=EIB/KNX-Bus - gr\u00fcn) mit 30 V DC https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/EIB_Verkabelung-1.png/1920px-EIB_Verkabelung-1.png \ud83e\udde0 Sensor-Aktor-Prinzip https://www.knx.org/wAssets/docs/downloads/Marketing/Flyers/KNX-Basics/KNX-Basics_de.pdf Sensoren erkennen Ereignisse im Geb\u00e4ude (Tastenbet\u00e4tigung, Bewegung, \u00dcber-/Unterschreitung eines Temperaturwerts etc.) und wandeln diese in Telegramme (Datenpakete) um Aktoren empfangen Telegramme und wandeln diese in Aktionen um Multi-Master-System: Alle Sensoren sind Master \ud83e\udde0 KNX Ablauf findet ein Ereignis statt, sendet der Sensor die Nutzinformation (z.B. Schalter wurde geschaltet oder Windgeschwindigkeit betr\u00e4gt 8km/h) alle Aktoren h\u00f6ren die Busleitung ab und regieren, wenn Sie angesprochen wurden mit der vorprogrammierten Handlung Vorteil: Dezentralit\u00e4t - keinen Totalausfall Nachteil: gesteigerte Programmieraufwand. Jeder Teilnehmer muss mit einem Programmierger\u00e4t adressiert sowie mit der Applikation, den Parametern und Gruppenadressen programmiert werden. Sensoren und Aktoren https://www.knx.org/wAssets/docs/downloads/Marketing/Flyers/KNX-Basics/KNX-Basics_de.pdf \ud83e\udde0 Dezentralit\u00e4t bei KNX ist kein zentrales Steuerger\u00e4t notwendig Intelligenz \u00fcber alle Teilnehmer verteilt (jedes Ger\u00e4t hat mindestens einen Microprozessor) Ausfallsicherheit Zentrale Ger\u00e4te m\u00f6glich Maximalgr\u00f6\u00dfe Mindestens ein Sensor und Aktor theoretisch mehr als 50.000 Teilnehmer m\u00f6glich Erweiterung einer Anlage muss einer vorgeschriebenen Topologie folgen \u00dcbertragungsmedien KNX Twisted Pair (KNX TP): verdrillte Zweidrahtdatenleitung (Busleitung) KNX Powerline (KNX PL, \"D-Lan\"): \u00dcbertragung \u00fcber das vorhandene 230 V-Netz KNX Radio Frequency (KNX RF): \u00dcbertragung \u00fcber Funk KNX IP: \u00dcbertragung \u00fcber Ethernet KNX Zweidraht (TP) Busleitung versorgt alle Busteilnehmer mit Daten und Betriebsspannung (24 V DC). Die Spannungsversorgungen speisen 30 V in das System ein. Busteilnehmer arbeiten bei Spannungen zwischen 21 und 30 V fehlerfrei. Telegrammaufbau - KNX-TP Kontrollfeld die Priorit\u00e4t , ob ein Telegramm wiederholt wurde Adressfeld physikalische Adresse des Senders und Empf\u00e4ngers (Physikalische Adresse oder Gruppenadresse ) Datenfeld bis 16 Byte Nutzdaten Sicherungsfeld f\u00fcr Parit\u00e4tspr\u00fcfungen zuf\u00e4lliger Buszugriff: CSMA/CA-Verfahren (Carrier Sense Multiple Access / Collision Avoidance ) Kopplung h\u00e4ufig hierarchische Topologien Ethernet als leistungsf\u00e4higer Backbone und f\u00fcr komplexe (KNX IP) Ger\u00e4te KNX TP, KNX PL und KNX RF f\u00fcr Anbindung verteilter Sensoren und Aktoren \ud83e\udd13 Hierarchie Linie: kleinste Installationseinheit bei KNX TP mit Spannungsversorgung und 64 Busteilnehmer Linien sind durch Drosseln voneinader getrennt bis 15 Bereiche k\u00f6nnen \u00fcber Bereichskoppler an einer Bereichslinie zu einem Gesamtsystem erweitert werden \ud83e\udd13 Physikalische Adressen jedes Ger\u00e4t hat eine Nummer Bereich.Linie.Ger\u00e4t Beispiele: 1.5.0: Systemkoppler, der die f\u00fcnfte PL-Linie mit der TP-Hauptlinie im ersten Bereich koppelt. 2.3.20: Busteilnehmer mit der laufenden Nummer 20 in der dritten Linie des zweiten Bereichs https://kompendium.infotip.de/knx-installationsbus.html \ud83e\udd13 Gruppenadressen Aktoren und Sensoren k\u00f6nnen Gruppen zugeordnet werden Hierbei gibt es drei Ebenen also z. B.: [Keller \u2013 Abstellraum \u2013 Rauchwarnmelder \u2013 Testalarm] [EG \u2013 K\u00fcche \u2013 Rollladen \u2013 Auf/Ab] [Garage \u2013 Werkbank \u2013 Wandlicht \u2013 Status] https://kompendium.infotip.de/knx-installationsbus.html Einbau KNX Schaltschrank https://kompendium.infotip.de/knx-installationsbus.html Einbau Sensoren und mechanische Aktoren mechanische Aktoren und Sensoren werden im Feld verbaut https://kompendium.infotip.de/knx-installationsbus.html \ud83e\udde0 Konfiguration KNX kommerzielle, herstellerunabh\u00e4ngige Engineering Tool Software ETS\u00ae erlaubt die Planung, Projektierung und Inbetriebnahme https://www.knx.org/knx-de/fuer-fachleute/software/software-vergleichen/ \ud83e\udd13 Produkte importieren damit angeschlossene Produkte bekannt sind Katalog im knxprod-Format wird importiert knxprod-Dateien i.d.R. auf Herstellerwebsite https://www.meintechblog.de/2015/04/knx-aktor-in-10-schritten-mit-ets5-programmieren/ Gruppeadresse zuweisen https://www.meintechblog.de/2015/04/knx-aktor-in-10-schritten-mit-ets5-programmieren/ Werte und Funktionen zuweisen https://www.meintechblog.de/2015/04/knx-aktor-in-10-schritten-mit-ets5-programmieren/ Zukunft von KNX Trend zu Vernetzung auf IP-Ebene Datenraten nicht f\u00fcr Multimedia geeignet Gewachsenes \u00d6kosystem mit vielen Anbietern (Netzwerkeffekte) Lebensdauer von Geb\u00e4udeautomatsierung eher lang 4 Building Automation and Control networks (BACnet) Lernziele Studierende kennen die Einsatzgebiete von BACnet \ud83e\udde0 BACnet entwickelt durch American Society of Heating, Refrigeration, and Air Conditioning Engineers Inc Fokus zun\u00e4chst auf Heizungs-, L\u00fcftungs- und Klimatechnik Verbindung von Feldebene - F\u00fchler und Antriebe Automations - (DDC-Ger\u00e4te, Controller) Managementebene (Geb\u00e4udeleittechnik) https://www.intesis.com/de/produkte/protocol-translator/bacnet-gateways/router-f%C3%BCr-bacnet-ms-tp-auf-bacnet-ip?ordercode=INBACRTR0320000 https://www.wago.com/at/bacnet#:~:text=BACnet%C2%AE%20%E2%80%9EBuilding%20Automation%20and,unterschiedlicher%20Hersteller%20in%20der%20Geb%C3%A4udeautomation. https://www.ta.hu-berlin.de/res/co.php?id=14081 \ud83e\udde0 Anwendungsgebiet BACnet Protokoll kann auf beliebigen Betriebssystemen und Hardware-Plattformen implementiert werden standardisiert auch komplexe Transaktionen (z.B. Alarm-Routing, Historisierung, \u00dcberwachung des Ger\u00e4testatus, Zeit- und Kalenderfunktionen, Datensicherung etc. kein Plug-And-Play System keine fertigen Objekte mit standardisierter Funktion https://www.intesis.com/de/produkte/protocol-translator/knx-gateways/knx-tp-gateway-f%C3%BCr-bacnet-ip-ms-tp-client?ordercode=INKNXBAC1000000 \ud83e\udde0 Objektorientierung Reale Ger\u00e4te und konzeptuelle Objekte k\u00f6nnen mittels Objekten abgebildet werden Output-Objekttypen: physikalische Ausg\u00e4nge wie einen 0-10V-Ausgang oder einen Prozentsatz eines Ventilaktors. Input-Objekttypen: physischen Hardware-Eingang, der mit dem Ger\u00e4t verbunden ist, z. B. ein Temperatur- oder Helligkeitssensor Value-Objekttypen: virtuelle Informationen wie einen Sollwert oder einen Regelparameter darzustellen. \ud83e\udde0 Objektorientierung am Beispiel bin\u00e4rer Eingang Bisher: Ein Eingang - eine Variable/Wert: bInAnwesenheitErkannt : BOOL ; bInAnwesenheitErkannt := True ; Mit BACnet werden Objekte detaillierter beschrieben: bInAnwesenheitErkannt = { \"Object_Identifier\" : 0 , \"Object_Name\" : \"Anwesenheitssensor\" , \"Present_Value\" : True , \"Out_of_Service \" : False } Objektypen Konformit\u00e4tsklassen m\u00fcssen gewisse Objekte bereitstellen https://www.ta.hu-berlin.de/res/co.php?id=14081 Darstellung eines BACnet-Objects (Analog Value) in Twincat https://download.beckhoff.com/download/document/automation/twincat3/TF8020_TC3_BACnet_DE.pdf Darstellung eines BACnet-Objects (Analog Value) als Funktionsbaustein https://infosys.beckhoff.com/index.php?content=../content/1031/tcbacnet/12748477963.html&id= Weitere Objektypen aus ISO-Norm 16484-5 Access Credential, Access Door, Access Point, Access Rights Access User, Access Zone, Accumulator, Alert Enrollment Analog Input, Analog Output, Analog Value, Averaging Binary Input, Binary Lighting Output, Binary Output, Binary Value BitString Value, Calendar, Channel, CharacterString Value Command, Credential Data Input, Date Pattern Value Date Value, DateTime Pattern Value, DateTime Value Device, Elevator Group, Escalator, Event Enrollment Event Log, File, Global Group, Group, Integer Value, Large Analog Value Life Safety Point, Life Safety Zone, Lift, Lighting Output Load Control, Loop, Multi-state Input, Multi-state Output Multi-state Value, Network Port, Network Security, Notification Class Notification Forwarder, Octetstring Value, Positive Integer Value, Program Pulse Converter, Schedule, Structured View, Time Pattern Value Time Value, Timer, Trend Log, Trend Log Multiple BACnet Dienste (Services) ca. 40 Services beschreiben, wie Ger\u00e4te Informationen austauschen f\u00fcnf Bereiche Objektzugriff Filetransfer Alarm- und Event-Funktionen Remote Device Management Virtual Terminal Je nach Ger\u00e4teprofil sind gewisse Dienste vorgeschrieben Ein Sensor (Ger\u00e4teprofil) sollte einen Alarm (Dienst) ausl\u00f6sen k\u00f6nnen Der Alarm k\u00f6nnte auf einen Analogwert oder dem Mittwert eines Analogwertes basieren saia-burgess Controls 2011 - BACnet Workshop Bus-Eigenschaften 22 Bit f\u00fcr Adressierung (ca. 4 Mio Adressen ) Twisted Pair (max 1200m) oder Ethernet m\u00f6glich Master/Slave mit Token Passing Server-Client Prinzip jeder Teilnehmer kann Services der anderen als Client aufrufen \ud83e\udd13 5 Weitere Bussysteme im der Geb\u00e4udeautomatisierung Lernziele Studierende k\u00f6nnen den Einsatzzweck verschiedener Bus-Systeme, wie Modbus, SMI, DMX einsch\u00e4tzen und beschreiben Modbus De-facto-Standard f\u00fcr SPS in der Automatisierung Master / Salve Architektur Teilweise auch in Geb\u00e4udeautomatisierung eingesetzt https://vutlan.com/blog/post/modbus-tcpip-modbus-rtu-readwrite-support.html Local Operating Network (LON) neutralen Informationsaustausch zwischen Anlagen und Ger\u00e4ten von verschiedensten Herstellern Logikknoten (Nodes) in Sensoren, Aktoren und Controller Dezentales Multi-Master System basierend auf den Aktionen der Nodes Programmierung \u00fcber LonTool https://download.beckhoff.com/download/document/Application_Notes/DK9221-0111-0038.pdf Local Control Network (LCN) propriet\u00e4res Geb\u00e4udeautomationssystem f\u00fcr Wohn- und Zweckbauten (Issendorff KG) dezentral \u00fcber identische LCN-Module eine LCN-Programmiersoftware LCN-PRO https://www.lcn.eu/lcn-bus/installation/ Standard Motor Interface (SMI) kein volles Geb\u00e4udebussystem Erg\u00e4nzung als Schnittstelle zu Rollladen- und Sonnenschutzantriebe Fensterantriebe Software SMI-easyMonitor https://standard-motor-interface.com/ Funktionsweise von Innen- und Au\u00dfenbeschattung Lamellen-Nachf\u00fchrung (Blendschutz und Energieoptimierung) Verschattungs-Korrektur (Energieoptimierung) Witterungsautomatik (Produktschutz) Thermoautomatik (Energieoptimierung) Zeitprogramme (Automatisierung von repetitiven Aufgaben) Schockautomatik (Einbruchschutz) https://standard-motor-interface.com/wp-content/uploads/2020/10/160224_SMI_Planungshandbuch_DE.pdf DMX (Lichttechnik) B\u00fchnenbeleuchtung auch in der Architekturbeleuchtung verdrillten, geschirmten, zweiadrigen Steuerleitung als Strang Teilnehmer und Adressierung viele Teilnehmer ggf. unter Verwendung von mehreren Repeatern Adressierung erfolgt am Betriebsger\u00e4t (Dip-Schalter oder Software) https://www.reichelt.de/it/de/dip-schalter-liegend-10-polig-nt-10-p13535.html Appendix Auswahl funkbasierter Feldbussysteme h\u00e4ufig genutzte Frequenzb\u00e4nder liegen bei 433 MHz (Babyphone, Rauchmelder), 868 MHz (Alarmanlagen) und 2,4 GHz (WLan). Frequenz korreliert positiv mit \u00dcbertragungsrate und negativ mit Reichweite https://trendblog.euronics.de/smart-home/funkstandards-im-smart-home-teil-1-woran-wlan-und-bluetooth-kranken-50589/ ZigBee (Connectivity Standards Alliance) f\u00fcr geringe Datenmengen geringer Energieverbrauch Anwendungen in Wohn- und Nichtwohngeb\u00e4uden Sensorabst\u00e4nde bis 100 m Ad-hoc-Netzwerk \u00fcber ZigBee-Router Steuerung von Audio-Video-Technik, Waschmaschinen, Kaffeeautomaten Bluetooth (Low Energy) Industriestandard f\u00fcr kurze Funkdistanz (WPAN) Smartphone-Steuerung, Audiotechnik Ad-hoc-Netzwerk \u00fcber Bluetooth Mesh Verschiedene Auspr\u00e4gungen (Reichweite, Energieverbrauch, etc.) https://www.all-electronics.de/elektronik-entwicklung/bluetooth-mesh-lichtsteuerung-kontrolliert-smart-building-system.html Enocean hersteller\u00fcbergreifenden Standard mit batterieloser bidirektionaler Funktechnik kosten- und zeitsparende Installation Sensoren und Schalter (Piezoelektrizit\u00e4t) beziehen Energie aus Umgebung Sensoren f\u00fcr Temperatur, Helligkeit, Bewegung Aktoren als Schalter, Relais, Dimmer https://de.wikipedia.org/wiki/Enocean Weitere Z-Wave funkbasierter Standard f\u00fcr Wohngeb\u00e4ude Steuerung von Heizung, L\u00fcftung, Klimaanlagen, Beleuchtung, Sicherheitstechnik WirelessHART Kommunikation f\u00fcr industrielle Feldger\u00e4te, Anwendung f\u00fcr gro\u00dfe Distanzen WirelessKNX einfache Nachr\u00fcstung von KNX-Komponenten \u00fcber Funk-Buskoppler Wireless M-Bus europ\u00e4ischer Standard f\u00fcr drahtlose Kommunikation zwischen Z\u00e4hlern f\u00fcr Strom, Gas, W\u00e4rme, Wasser WLAN einbindung einzelner Produkte. Hoher Energieverbrauch. Long Range Wide Area Network (LoRaWAN) energieffizientes Senden kleiner Datenmengen \u00fcber gro\u00dfe Strecken","title":"Bussysteme in der Geb\u00e4udeautomation"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#1-digital-addressable-lighting-interface-dali","text":"","title":"1 Digital Addressable Lighting Interface (DALI)"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#lernziele","text":"","title":"Lernziele"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#lernziele_1","text":"Nach dieser Einheit sind Sie in der Lage dazu - Komponenten zum Aufbau eines DALI-Systems ausw\u00e4hlen - die Grundlagen von Szenen und Gruppensteuerung beschreiben - geeigneten Leitungsdurchmesser/L\u00e4nge einer DALI-Installation bestimmen","title":"\ud83c\udfaf Lernziele"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#dali-grund-komponenten","text":"Stromversorgung (DALI PS1) - Alternativ \u00fcber Klemme oder Netzteil Steuerkontroller (links): Sind mit Tastern oder anderen Schnittstellen verbunden LED oder Leuchten-Treiber (rechts): Versorgen Leuchtmittel mit Energie und setzen Steuerbefehle um DALI-USB: Schnittstelle zur Programmierung","title":"DALI Grund-Komponenten"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#dali","text":"Protokoll f\u00fcr lichttechnischer Betriebsger\u00e4te kein gesamtheitliches Bussystem f\u00fcr Geb\u00e4udesystemtechnik dezentrales Lichtmanagement f\u00fcr max. 64 Teilnehmer (Betriebsger\u00e4te) mit frei definierbaren 16 Gruppen und 16 Szenen \u00fcber Gateways auch in die Geb\u00e4udesystemtechnik (KNX, BACnet, etc,) integrierbar","title":"DALI"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#gruppen","text":"Mehrere Leuchtmittel werden zusammengefasst und k\u00f6nnen \u00fcber eine gemeinsame Gruppen-Adresse angesprochen","title":"Gruppen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_1","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#szenen","text":"Vordefinierte Einstellungen f\u00fcr verschiedene Gruppen und Leuchtmittel f\u00fcr bestimmte Situationen","title":"Szenen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_2","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#technische-grundlagen","text":"Separates Kabel mit zwei Signaleitern Spannung der Busleitung 9,5V \u2013 22,4V Systemstrom max. 250mA (zur Versorgung keiner Betriebsger\u00e4te z.B. Steuerger\u00e4te f\u00fcr Schalter) Daten\u00fcbertragungsgeschwindigkeit 1.200 Baud Maximale einfache Leitungsl\u00e4nge 300m (bei 1,5mm\u00b2)","title":"Technische Grundlagen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#aufbau","text":"","title":"Aufbau"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwledclusivedebloganleitung-zur-dali-installation-im-privathaus-fuer-jedermann","text":"","title":"https://www.ledclusive.de/blog/anleitung-zur-dali-installation-im-privathaus-fuer-jedermann/"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#merkmale-von-dali","text":"Installation: Versorgungs- und Steueradern k\u00f6nnen zusammen im selben Kabel verlegt werden. Die Verdrahtung kann in Reihe, sternf\u00f6rmig oder in einer gemischten Form erfolgen. Keine Polarit\u00e4t: Die Polarit\u00e4t (DA+/DA-) der DALI-Steuerleitung muss nicht beachtet werden Verteilte Intelligenz : Jeder Controller arbeitet als \"Master\" und kontrolliert dabei die Kommunikation auf ( Multi-Master ) der Steuerleitung. Gewisse Parameter sind dabei direkt im DALI-Betriebsger\u00e4t abgelegt (z.B. Szenenwerte, Gruppenadresse).","title":"Merkmale von DALI"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_3","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#technische-hintergrunde","text":"Kodierung: Manchester-Codierung High Pegel (idle): \\(9.5 \\text{ bis } 22.5 V\\) Low Pegel: \\(-6.5 \\text{ bis } 6.5 V\\) Buszugriff: Multi-Master CS/MA - CA Echtzeitf\u00e4hig? nein","title":"Technische Hintergr\u00fcnde"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpsinfosysbeckhoffcomindexphpcontentcontent1031tcplclib_tc3_dali12346807435htmlid5821349906969406832","text":"","title":"https://infosys.beckhoff.com/index.php?content=../content/1031/tcplclib_tc3_dali/12346807435.html&amp;id=5821349906969406832"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#telegramme","text":"","title":"Telegramme"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpsinfosysbeckhoffcomindexphpcontentcontent1031tcplclib_tc3_dali12346807435htmlid5821349906969406832_1","text":"FF: Forward Frame eines Masters BF: Backward Frame Antwort eines Slaves 16-und-24-Bit-Telegramme: Ger\u00e4te zu konfigurieren, Parameter abzufragen oder Steuerbefehle oder Ereignisse","title":"https://infosys.beckhoff.com/index.php?content=../content/1031/tcplclib_tc3_dali/12346807435.html&amp;id=5821349906969406832"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#telegramme_1","text":"","title":"Telegramme"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwpicotechcomlibraryoscilloscopesdali-serial-protocol-decoding","text":"1-1-01110...","title":"https://www.picotech.com/library/oscilloscopes/dali-serial-protocol-decoding"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwpicotechcomlibraryoscilloscopesdali-serial-protocol-decoding_1","text":"","title":"https://www.picotech.com/library/oscilloscopes/dali-serial-protocol-decoding"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#stromversorgung","text":"Versorgt den gesamten DALI-DALI-Kreis mit 24 V Gleichstrom z.B. Leuchtmittel >5 W, Steuercontroller","title":"Stromversorgung"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#steuermodule","text":"Bieten Eing\u00e4nge f\u00fcr Taster (Lichtschalter) K\u00f6nnen Logik f\u00fcr die Steuerung basierend auf den Eingaben ausf\u00fchren","title":"Steuermodule"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#steuermodule-betriebsarten","text":"Betriebsart Beschreibung MC Einfachtaster und/oder Doppeltaster und/oder Schalter SC-A Einfachtaster f\u00fcr Szenenaufruf GC-A Einfachtaster und/oder Doppeltaster f\u00fcr Leuchtengruppen ein/aus/gedimmt TuWh Doppeltaster f\u00fcr Intensit\u00e4t und Farbtemperatur von \"Tunable White\"","title":"Steuermodule Betriebsarten"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#handbuch","text":"","title":"Handbuch"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#tochpanele","text":"Erm\u00f6glichen komplexere Eingaben als einfache Taster Ausgaben m\u00f6glich: z.B. aktuelle Szene mit mit Licht hinterlegen","title":"Tochpanele"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#sensoren","text":"Erfassen Umweltparameter, wie Helligkeit und Bewegungen","title":"Sensoren"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#betriebsgerate","text":"Steuerung und/oder Stromversorgung von Leuchtmitteln (z.B. LEDs) Teilweise Transformatoren und Gleichrichter f\u00fcr \\(230V / AC\\) Mehrere Betriebsger\u00e4te k\u00f6nnen zu einer Gruppe zusammengefasst werden","title":"Betriebsger\u00e4te"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#technischer-rahmen-einer-installation","text":"Max. 64 DALI-Betriebsger\u00e4te ( \\(2^6\\) Adressen) Max. 16 DALI-Gruppen ( \\(2^4\\) Adressen) Max. 16 DALI-Szenen ( \\(2^4\\) Adressen) Maximaler Strom der Stromversorgung (DALI PS1: \\(200 mA\\) bzw. DALI PS2 \\(240 mA\\) ). Max. Leitungsl\u00e4nge aus Spannungsabfall (2 V d.h. 300 m bei 1,5 mm\u00b2)","title":"Technischer Rahmen einer Installation"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#stromaufnahme-berechnen","text":"Ist die Stromversorgung stark genug f\u00fcr alle Betriebsmittel? Hierbei sind nur die Controller gemeint, die durch die DALI-Leitung versorgt werden","title":"Stromaufnahme berechnen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_4","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#1-stromaufnahme-abschatzen","text":"Jedes Ger\u00e4t im DALI-Kreis nimmt \u00fcber den DALI-Kreis Strom auf (parallel) Die Stromaufnahme der Steuer- und Betriebsger\u00e4te aus Datenblatt (ca. 2mA). maximalen Strom der Stromversorgung z.B. DALI PS1 (200 mA) Beispiel: DALI-Kreis mit 24 dimmbaren LED Treibern (LCA), 6 DALI XC Gesamtstrom = Summe Stromaufnahme DALI Betriebsger\u00e4te + Summe Stromaufnahme DALI Steuerger\u00e4te Gesamtstrom = 24 x Vorschaltger\u00e4te + 6 x DALI XC Gesamtstrom = 24 x 2 mA + 6 x 6 mA = 84 mA","title":"1. Stromaufnahme absch\u00e4tzen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#2-maximale-kabellange-berechnen","text":"Spannungsabfall durch Kabel darf \\(2 V\\) nicht \u00fcberschreiten Berechnung des Spannungsabfalls: \\(U_v = R I = \\frac{2 \\cdot l }{\\gamma \\cdot S}\\cdot I\\) \\(U_v\\) Spannungsabfall in V \\(I\\) Strom in A \\(S\\) Querschnitt in \\(mm^2\\) \\(l\\) Leitungsl\u00e4nge in m \\(\\gamma\\) Elektrische Leitf\u00e4higkeit in \\(\\frac{m}{\\Omega \\cdot mm }\\) , bei Kupferleitungen: \\(56\\frac{m}{\\Omega \\cdot mm }\\)","title":"2. Maximale Kabell\u00e4nge berechnen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#maximale-kabellange-berechnen","text":"Beispiel: DALI-Kreis mit einer Leitungsl\u00e4nge von \\(300 m\\) und einem Drahtquerschnitt von \\(1.5 mm^2\\) und maximalem Strom von 250 mA \\(U_v = \\frac{2 \\cdot l \\cdot I}{\\gamma \\cdot S} = \\frac{2 \\cdot 300 m \\cdot 0.25 A}{56 \\frac{m}{\\Omega mm^2} \\cdot 1.5 mm^2} = 1.786 V\\) Spannungsabfall \u00fcber Kabel ist kleiner als \\(2V\\)","title":"Maximale Kabell\u00e4nge berechnen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#verdrahtung","text":"handels\u00fcbliches Installationsmaterial 2 Adern f\u00fcr DALI-Steuerkreis","title":"Verdrahtung"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_5","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#anschluss","text":"auf Polarit\u00e4t der DALI-Leitung muss nicht beachtet werden DALI-Signal ist nicht SELV . Es gelten die Installationsvorschriften f\u00fcr Niederspannung.","title":"Anschluss"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_6","text":"Safety Extra Low Voltage = Sicherheitskleinspannung) bezeichnet Spannungen, die aufgrund ihrer geringen Spannungsh\u00f6he und Isolierung besonderen Schutz gegen elektrischen Schlag bieten","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#konfiguration","text":"Bussysteme werden in der Regel nicht programmiert, sondern anhand von bestehenden Bausteinen und Software konfiguriert Jedem Ger\u00e4t werden bestimmte Eigenschaftswerte zugewiesen Steuer-Kontroller: F\u00fcr welche Funktion ist der Schalter zust\u00e4ndig (Szenen, Gruppen, Dimmen) F\u00fcr welche Leuchtmittel und Gruppen ist der Schalter genau zust\u00e4ndig LED-Kontroller: Zuordnung zu Szenen und Gruppen Zuordnung von Leuchtwerten","title":"Konfiguration"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#software-seitige-konfiguration","text":"Je nach Bussystem stellen verschiedene Anbieter, verschiedene Softwarel\u00f6sungen bereit.","title":"Software-seitige Konfiguration"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#individualadressen-und-gruppen","text":"jeder DALI Teilnehmer hat eine (von 64) Individualadressen Mit der Individualadresse kann jedes einzelne Betriebsger\u00e4t identifiziert und angesteuert werden. Mehrkanaligen Betriebsger\u00e4ten sind ggf. mehrere Adressen zuzuordnen (z.B. Dimmen + Farbe oder Warm- + Kaltwei\u00df ) Zus\u00e4tzlich zu den Individualadressen bis zu 16 Gruppenadressen","title":"Individualadressen und Gruppen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#szenen_1","text":"bis zu 16 Lichtszenen (Einstellung verschiedener Beleuchtungssituationen) jedem Vorschaltger\u00e4t kann ein individueller Lichtwert je Szene hinterlegt werden Lichtszenen unabh\u00e4ngig von der Gruppenzuordnung","title":"Szenen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwlight11delightmaglichtsteuerung","text":"","title":"https://www.light11.de/lightmag/lichtsteuerung/"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#farbsteuerung","text":"M\u00f6gliche Farbkan\u00e4le RGB: Drei Kan\u00e4le f\u00fcr rote, gr\u00fcne und blaue LEDs RGBW: RGB + wei\u00dfen Lichtquelle (4) RGBWW: Wei\u00df-Wei\u00df (tunable white) f\u00fcr die W\u00e4rme-Steuerung des wei\u00dfen Lichts (2) Ansteuerung: DT6: Jeder Farbkanal hat eine eigene DALI-Adresse . Statt 64 k\u00f6nnen bei RGBW nur nuch 16 Leuchtmittel gesteuert werden DT8: Nur eine Adresse pro Ger\u00e4t","title":"Farbsteuerung"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#anwendungsbeispiel-besprechungszimmer","text":"Besprechungszimmer f\u00fcr ca. 10 Personen 6 LED Langfeldleuchten und 2 LED Downlights . je eine Gruppe f\u00fcr Langfeldleuchten und Downlights Bedienung an T\u00fcr: DALI XC (SC Modus) mit den Szenen \u201e Beleuchtung ein \" und \u201e Beleuchtung aus \" an Fensterfront 2 DALI XC (SC und GC): Aufrufen von vier Szenen und das individuelle Dimmen der beiden Leuchtengruppen .","title":"Anwendungsbeispiel Besprechungszimmer"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_7","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#stuckliste","text":"Pos. St\u00fcck Artikelbezeichnung 1 1 DALI Stromversorgung DALI PS1 / DALI PS2 2 2 DALI XC in SC Modus (Szenenkontroller) DALI XC 3 1 DALI XC in GC Modus (Gruppenkontroller) DALI XC 4 6 DALI LED Betriegsger\u00e4t f\u00fcr Langfeldleuchte LCAI one4all 5 2 DALI LED Betriebsger\u00e4t f\u00fcr LED Downlights LCAI one4all","title":"St\u00fcckliste"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_8","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#checkliste","text":"DALI Bedingung Im Objekt geplant / vorhanden OK? Max. 64 DALI Betriebsger\u00e4te 8 DALI Betriebsger\u00e4te Max. 16 Gruppen 2 Gruppen Max. 16 Szenen 4 Szenen Strom DALI-Kreis < Nennstrom Power Supply 34 mA Leitungsl\u00e4nge < 300 m (bei 1,5mm\u00b2) ca. 20m 5 Adern zu jeder Leuchte 5 x 1,5mm\u00b2 DALI LED Betriebsger\u00e4t in Leuchte Tridonic LCAI one4all","title":"Checkliste"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_9","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#gruppierung","text":"Komponente Zuordnung Downlights Gruppe 1 Langfeldleuchten Gruppe 2 an Fensterfront DALI XC (GC): individuelle Dimmen der beiden Leuchtengruppen . 4 Taster, je zwei f\u00fcr jede Gruppe","title":"Gruppierung"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_10","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#szenenzuordnung","text":"an T\u00fcr: DALI XC (SC Modus) mit den Szenen \u201e Beleuchtung ein \" und \u201e Beleuchtung aus \" an Fensterfront 1 DALI XC (SC): Aufrufen von vier Szenen individuelle Dimmen der beiden Leuchtengruppen . Bedienstelle T\u00fcr Bedienstelle Leinwand G1 G2 Szene 1 Licht aus Licht aus 0 % 0% Szene 2 Licht 100 % Licht 100 % 100% 100% Szene 3 nicht verdrahtet Pr\u00e4sentation 50% 20 % Szene 4 nicht verdrahtet Besprechung 0% 100%","title":"Szenenzuordnung"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_11","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#inbetriebnahme","text":"Die Programmierung kann auf zwei Arten erfolgen Schalter im Programmiermodus PC-Anbindung mit Software","title":"Inbetriebnahme"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_12","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#ergebnis","text":"","title":"Ergebnis"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtridoniccomcomdedownloadtechnicaldali-handbuch_depdf_13","text":"","title":"https://www.tridonic.com/com/de/download/technical/DALI-Handbuch_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#dali-2","text":"abw\u00e4rtskompatibel Input Devices (Sensoren) kommunizieren nicht mehr direkt mit DALI-Treibern an Leuchtmitteln Application controller verarbeiten zuerst (Multimaster Prinzip) Kollisions-Erkennung","title":"DALI 2"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#2-ausfallsicherheit","text":"da Bussysteme aus mehreren Komponenten bestehen, wird das Fehlermanagement komplexer Single-Point-of-Failure: Ein Teil des Systems, dessen Ausfall zum Totalversagen f\u00fchren kann Neben redundanter Auslegung kann eine Fehler-Analyse helfen resilientere Systeme zu entwerfen","title":"2 Ausfallsicherheit"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#einfluss-analyse","text":"was w\u00e4re wenn ? F\u00fcr jede Komponente wird untersucht: was passiert, wenn diese Komponente ausf\u00e4llt Was w\u00e4re der gew\u00fcnschte Zustand des Systems? (i.d.R. festgelegt durch die Aktoren)","title":"Einfluss-Analyse"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#beispiel-beleuchtung-in-treppenhausern","text":"Licht sollte nicht ohne Bedarf brennen Licht kann \u00fcber Taster, Bewegungsmelder oder GLT aktiviert werden im Falle eines Notfalls muss das Licht brennen","title":"Beispiel: Beleuchtung in Treppenh\u00e4usern"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#buskomponenten","text":"Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? LED AN Defekte Lampe wird angezeigt Vorschaltger\u00e4t AN Defektes Vorschaltger\u00e4t wird angezeigt Stromversorgung AN Ausfall wird angezeigt Busleitung AN St\u00f6rung wird angezeigt Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Steuercontroller AN Defekter Steuercontroller wird angezeigt Taster AN Defekter Taster wird angezeigt Bewegungsmelder AN Defekter Taster wird angezeigt Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? LED AN Defekte Lampe wird angezeigt 1: Nur durch Redundanz m\u00f6glich 2: Das Vorschaltger\u00e4t muss in der Lage sein den Ausfall der LED zu erkennen und an die GLT \u00fcbermitteln Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Vorschaltger\u00e4t AN Defektes Vorschaltger\u00e4t wird angezeigt 1: i.d.R. Nicht m\u00f6glich 2: Regelm\u00e4\u00dfiges ansprechen des Vorschaltger\u00e4t durch GLT. Meldung bei nicht erreichen Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Stromversorgung AN Ausfall wird angezeigt * 1: i.d.R. Nicht m\u00f6glich * 2: Regelm\u00e4\u00dfiges Ansprechen des Vorschaltger\u00e4t durch GLT. Meldung bei nicht erreichen Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Busleitung AN St\u00f6rung wird angezeigt 1: Bei Fehlersignal auf Busleitung schaltet das Vorschaltger\u00e4t an 2: Regelm\u00e4\u00dfiges Ansprechen des Gateways durch GLT. Meldung bei Problemen Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Steuercontroller AN Defekter Steuercontroller wird angezeigt 1: Bei Ausbleiben eines Steuerbefehls an Vorschaltger\u00e4t f\u00fcr l\u00e4nger als konfigurierte Zeit wird dies als Befehl zum Anschalten interpretiert 2: Regelm\u00e4\u00dfiges Ansprechen des Steuercontrollers durch GLT. Meldung bei nicht erreichen Komponente \\ Aktoren 1 Beleuchtung Notausgang 2 Anzeige Geb\u00e4udeleittechnik Wie wird 1 erreicht? Wie wird 2 erreicht? Bewegungsmelder / Taster AN Vermuteter Defekt wird angezeigt 1: Bei Ausbleiben eines Steuerbefehls an Vorschaltger\u00e4t f\u00fcr l\u00e4nger als konfigurierte Zeit wird dies als Befehl zum Anschalten interpretiert 2: Bei l\u00e4ngerem Ausbleiben eines Steuerbefehls der Steuercontroller wird eine Warnung angezeigt","title":"Buskomponenten"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#lernziele_2","text":"Nach dieser Einheit sind Sie in der Lage dazu - Komponenten zum Aufbau eines DALI-Systems ausw\u00e4hlen - die Grundlagen von Szenen und Gruppensteuerung beschreiben - geeigneten Leitungsdurchmesser/L\u00e4nge einer DALI-Installation bestimmen","title":"\ud83c\udfaf Lernziele"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#3-knx","text":"","title":"3 KNX"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#lernziele_3","text":"Studierende k\u00f6nnen das Einsatzgebiet eines KNX-Systems beschreiben Studierenden k\u00f6nnen typische Aktoren und Sensoren eines KNX-Systems benennen","title":"Lernziele"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#knx-eigenschaften","text":"ein Feldbus zur Geb\u00e4udeautomation Fokus zun\u00e4chst auf Raumautomation Nachfolger des Europ\u00e4ischen Installationsbus (EIB) Einf\u00fchrende Erkl\u00e4rung","title":"\ud83e\udde0 KNX Eigenschaften"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwknxorgwassetsdocsdownloadsmarketingflyersknx-basicsknx-basics_depdf","text":"","title":"https://www.knx.org/wAssets/docs/downloads/Marketing/Flyers/KNX-Basics/KNX-Basics_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#feldbus-systeme-zur-gebaudeautomation","text":"KNX trennt die Ger\u00e4testeuerung und Stromversorgung Stromversorgung mit Wechselspannung (rot) Steuerungsnetz (=EIB/KNX-Bus - gr\u00fcn) mit 30 V DC","title":"\ud83e\udde0 Feldbus-Systeme zur Geb\u00e4udeautomation"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpsuploadwikimediaorgwikipediacommonsthumb339eib_verkabelung-1png1920px-eib_verkabelung-1png","text":"","title":"https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/EIB_Verkabelung-1.png/1920px-EIB_Verkabelung-1.png"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#sensor-aktor-prinzip","text":"","title":"\ud83e\udde0 Sensor-Aktor-Prinzip"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwknxorgwassetsdocsdownloadsmarketingflyersknx-basicsknx-basics_depdf_1","text":"Sensoren erkennen Ereignisse im Geb\u00e4ude (Tastenbet\u00e4tigung, Bewegung, \u00dcber-/Unterschreitung eines Temperaturwerts etc.) und wandeln diese in Telegramme (Datenpakete) um Aktoren empfangen Telegramme und wandeln diese in Aktionen um Multi-Master-System: Alle Sensoren sind Master","title":"https://www.knx.org/wAssets/docs/downloads/Marketing/Flyers/KNX-Basics/KNX-Basics_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#knx-ablauf","text":"findet ein Ereignis statt, sendet der Sensor die Nutzinformation (z.B. Schalter wurde geschaltet oder Windgeschwindigkeit betr\u00e4gt 8km/h) alle Aktoren h\u00f6ren die Busleitung ab und regieren, wenn Sie angesprochen wurden mit der vorprogrammierten Handlung Vorteil: Dezentralit\u00e4t - keinen Totalausfall Nachteil: gesteigerte Programmieraufwand. Jeder Teilnehmer muss mit einem Programmierger\u00e4t adressiert sowie mit der Applikation, den Parametern und Gruppenadressen programmiert werden.","title":"\ud83e\udde0 KNX Ablauf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#sensoren-und-aktoren","text":"","title":"Sensoren und Aktoren"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwknxorgwassetsdocsdownloadsmarketingflyersknx-basicsknx-basics_depdf_2","text":"","title":"https://www.knx.org/wAssets/docs/downloads/Marketing/Flyers/KNX-Basics/KNX-Basics_de.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#dezentralitat","text":"bei KNX ist kein zentrales Steuerger\u00e4t notwendig Intelligenz \u00fcber alle Teilnehmer verteilt (jedes Ger\u00e4t hat mindestens einen Microprozessor) Ausfallsicherheit Zentrale Ger\u00e4te m\u00f6glich","title":"\ud83e\udde0 Dezentralit\u00e4t"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#maximalgroe","text":"Mindestens ein Sensor und Aktor theoretisch mehr als 50.000 Teilnehmer m\u00f6glich Erweiterung einer Anlage muss einer vorgeschriebenen Topologie folgen","title":"Maximalgr\u00f6\u00dfe"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#ubertragungsmedien","text":"KNX Twisted Pair (KNX TP): verdrillte Zweidrahtdatenleitung (Busleitung) KNX Powerline (KNX PL, \"D-Lan\"): \u00dcbertragung \u00fcber das vorhandene 230 V-Netz KNX Radio Frequency (KNX RF): \u00dcbertragung \u00fcber Funk KNX IP: \u00dcbertragung \u00fcber Ethernet","title":"\u00dcbertragungsmedien"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#knx-zweidraht-tp","text":"Busleitung versorgt alle Busteilnehmer mit Daten und Betriebsspannung (24 V DC). Die Spannungsversorgungen speisen 30 V in das System ein. Busteilnehmer arbeiten bei Spannungen zwischen 21 und 30 V fehlerfrei.","title":"KNX Zweidraht (TP)"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#telegrammaufbau-knx-tp","text":"Kontrollfeld die Priorit\u00e4t , ob ein Telegramm wiederholt wurde Adressfeld physikalische Adresse des Senders und Empf\u00e4ngers (Physikalische Adresse oder Gruppenadresse ) Datenfeld bis 16 Byte Nutzdaten Sicherungsfeld f\u00fcr Parit\u00e4tspr\u00fcfungen zuf\u00e4lliger Buszugriff: CSMA/CA-Verfahren (Carrier Sense Multiple Access / Collision Avoidance )","title":"Telegrammaufbau - KNX-TP"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#kopplung","text":"h\u00e4ufig hierarchische Topologien Ethernet als leistungsf\u00e4higer Backbone und f\u00fcr komplexe (KNX IP) Ger\u00e4te KNX TP, KNX PL und KNX RF f\u00fcr Anbindung verteilter Sensoren und Aktoren","title":"Kopplung"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#hierarchie","text":"Linie: kleinste Installationseinheit bei KNX TP mit Spannungsversorgung und 64 Busteilnehmer Linien sind durch Drosseln voneinader getrennt bis 15 Bereiche k\u00f6nnen \u00fcber Bereichskoppler an einer Bereichslinie zu einem Gesamtsystem erweitert werden","title":"\ud83e\udd13 Hierarchie"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#physikalische-adressen","text":"jedes Ger\u00e4t hat eine Nummer Bereich.Linie.Ger\u00e4t Beispiele: 1.5.0: Systemkoppler, der die f\u00fcnfte PL-Linie mit der TP-Hauptlinie im ersten Bereich koppelt. 2.3.20: Busteilnehmer mit der laufenden Nummer 20 in der dritten Linie des zweiten Bereichs","title":"\ud83e\udd13 Physikalische Adressen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpskompendiuminfotipdeknx-installationsbushtml","text":"","title":"https://kompendium.infotip.de/knx-installationsbus.html"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#gruppenadressen","text":"Aktoren und Sensoren k\u00f6nnen Gruppen zugeordnet werden Hierbei gibt es drei Ebenen also z. B.: [Keller \u2013 Abstellraum \u2013 Rauchwarnmelder \u2013 Testalarm] [EG \u2013 K\u00fcche \u2013 Rollladen \u2013 Auf/Ab] [Garage \u2013 Werkbank \u2013 Wandlicht \u2013 Status]","title":"\ud83e\udd13 Gruppenadressen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpskompendiuminfotipdeknx-installationsbushtml_1","text":"","title":"https://kompendium.infotip.de/knx-installationsbus.html"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#einbau-knx-schaltschrank","text":"","title":"Einbau KNX Schaltschrank"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpskompendiuminfotipdeknx-installationsbushtml_2","text":"","title":"https://kompendium.infotip.de/knx-installationsbus.html"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#einbau-sensoren-und-mechanische-aktoren","text":"mechanische Aktoren und Sensoren werden im Feld verbaut","title":"Einbau Sensoren und mechanische Aktoren"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpskompendiuminfotipdeknx-installationsbushtml_3","text":"","title":"https://kompendium.infotip.de/knx-installationsbus.html"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#konfiguration-knx","text":"kommerzielle, herstellerunabh\u00e4ngige Engineering Tool Software ETS\u00ae erlaubt die Planung, Projektierung und Inbetriebnahme","title":"\ud83e\udde0 Konfiguration KNX"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwknxorgknx-defuer-fachleutesoftwaresoftware-vergleichen","text":"","title":"https://www.knx.org/knx-de/fuer-fachleute/software/software-vergleichen/"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#produkte-importieren","text":"damit angeschlossene Produkte bekannt sind Katalog im knxprod-Format wird importiert knxprod-Dateien i.d.R. auf Herstellerwebsite","title":"\ud83e\udd13 Produkte importieren"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwmeintechblogde201504knx-aktor-in-10-schritten-mit-ets5-programmieren","text":"","title":"https://www.meintechblog.de/2015/04/knx-aktor-in-10-schritten-mit-ets5-programmieren/"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#gruppeadresse-zuweisen","text":"","title":"Gruppeadresse zuweisen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwmeintechblogde201504knx-aktor-in-10-schritten-mit-ets5-programmieren_1","text":"","title":"https://www.meintechblog.de/2015/04/knx-aktor-in-10-schritten-mit-ets5-programmieren/"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#werte-und-funktionen-zuweisen","text":"","title":"Werte und Funktionen zuweisen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwmeintechblogde201504knx-aktor-in-10-schritten-mit-ets5-programmieren_2","text":"","title":"https://www.meintechblog.de/2015/04/knx-aktor-in-10-schritten-mit-ets5-programmieren/"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#zukunft-von-knx","text":"Trend zu Vernetzung auf IP-Ebene Datenraten nicht f\u00fcr Multimedia geeignet Gewachsenes \u00d6kosystem mit vielen Anbietern (Netzwerkeffekte) Lebensdauer von Geb\u00e4udeautomatsierung eher lang","title":"Zukunft von KNX"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#4-building-automation-and-control-networks-bacnet","text":"","title":"4 Building Automation and Control networks (BACnet)"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#lernziele_4","text":"Studierende kennen die Einsatzgebiete von BACnet","title":"Lernziele"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#bacnet","text":"entwickelt durch American Society of Heating, Refrigeration, and Air Conditioning Engineers Inc Fokus zun\u00e4chst auf Heizungs-, L\u00fcftungs- und Klimatechnik Verbindung von Feldebene - F\u00fchler und Antriebe Automations - (DDC-Ger\u00e4te, Controller) Managementebene (Geb\u00e4udeleittechnik)","title":"\ud83e\udde0 BACnet"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwintesiscomdeprodukteprotocol-translatorbacnet-gatewaysrouter-fc3bcr-bacnet-ms-tp-auf-bacnet-ipordercodeinbacrtr0320000","text":"","title":"https://www.intesis.com/de/produkte/protocol-translator/bacnet-gateways/router-f%C3%BCr-bacnet-ms-tp-auf-bacnet-ip?ordercode=INBACRTR0320000"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwwagocomatbacnettextbacnetc2ae20e2809ebuilding20automation20andunterschiedlicher20hersteller20in20der20gebc3a4udeautomation","text":"","title":"https://www.wago.com/at/bacnet#:~:text=BACnet%C2%AE%20%E2%80%9EBuilding%20Automation%20and,unterschiedlicher%20Hersteller%20in%20der%20Geb%C3%A4udeautomation."},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtahu-berlinderescophpid14081","text":"","title":"https://www.ta.hu-berlin.de/res/co.php?id=14081"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#anwendungsgebiet-bacnet","text":"Protokoll kann auf beliebigen Betriebssystemen und Hardware-Plattformen implementiert werden standardisiert auch komplexe Transaktionen (z.B. Alarm-Routing, Historisierung, \u00dcberwachung des Ger\u00e4testatus, Zeit- und Kalenderfunktionen, Datensicherung etc. kein Plug-And-Play System keine fertigen Objekte mit standardisierter Funktion","title":"\ud83e\udde0 Anwendungsgebiet BACnet"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwintesiscomdeprodukteprotocol-translatorknx-gatewaysknx-tp-gateway-fc3bcr-bacnet-ip-ms-tp-clientordercodeinknxbac1000000","text":"","title":"https://www.intesis.com/de/produkte/protocol-translator/knx-gateways/knx-tp-gateway-f%C3%BCr-bacnet-ip-ms-tp-client?ordercode=INKNXBAC1000000"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#objektorientierung","text":"Reale Ger\u00e4te und konzeptuelle Objekte k\u00f6nnen mittels Objekten abgebildet werden Output-Objekttypen: physikalische Ausg\u00e4nge wie einen 0-10V-Ausgang oder einen Prozentsatz eines Ventilaktors. Input-Objekttypen: physischen Hardware-Eingang, der mit dem Ger\u00e4t verbunden ist, z. B. ein Temperatur- oder Helligkeitssensor Value-Objekttypen: virtuelle Informationen wie einen Sollwert oder einen Regelparameter darzustellen.","title":"\ud83e\udde0 Objektorientierung"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#objektorientierung-am-beispiel-binarer-eingang","text":"Bisher: Ein Eingang - eine Variable/Wert: bInAnwesenheitErkannt : BOOL ; bInAnwesenheitErkannt := True ; Mit BACnet werden Objekte detaillierter beschrieben: bInAnwesenheitErkannt = { \"Object_Identifier\" : 0 , \"Object_Name\" : \"Anwesenheitssensor\" , \"Present_Value\" : True , \"Out_of_Service \" : False }","title":"\ud83e\udde0 Objektorientierung am Beispiel bin\u00e4rer Eingang"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#objektypen","text":"Konformit\u00e4tsklassen m\u00fcssen gewisse Objekte bereitstellen","title":"Objektypen"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwtahu-berlinderescophpid14081_1","text":"","title":"https://www.ta.hu-berlin.de/res/co.php?id=14081"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#darstellung-eines-bacnet-objects-analog-value-in-twincat","text":"","title":"Darstellung eines BACnet-Objects (Analog Value) in Twincat"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpsdownloadbeckhoffcomdownloaddocumentautomationtwincat3tf8020_tc3_bacnet_depdf","text":"","title":"https://download.beckhoff.com/download/document/automation/twincat3/TF8020_TC3_BACnet_DE.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#darstellung-eines-bacnet-objects-analog-value-als-funktionsbaustein","text":"","title":"Darstellung eines BACnet-Objects (Analog Value) als Funktionsbaustein"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpsinfosysbeckhoffcomindexphpcontentcontent1031tcbacnet12748477963htmlid","text":"","title":"https://infosys.beckhoff.com/index.php?content=../content/1031/tcbacnet/12748477963.html&amp;id="},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#weitere-objektypen-aus-iso-norm-16484-5","text":"Access Credential, Access Door, Access Point, Access Rights Access User, Access Zone, Accumulator, Alert Enrollment Analog Input, Analog Output, Analog Value, Averaging Binary Input, Binary Lighting Output, Binary Output, Binary Value BitString Value, Calendar, Channel, CharacterString Value Command, Credential Data Input, Date Pattern Value Date Value, DateTime Pattern Value, DateTime Value Device, Elevator Group, Escalator, Event Enrollment Event Log, File, Global Group, Group, Integer Value, Large Analog Value Life Safety Point, Life Safety Zone, Lift, Lighting Output Load Control, Loop, Multi-state Input, Multi-state Output Multi-state Value, Network Port, Network Security, Notification Class Notification Forwarder, Octetstring Value, Positive Integer Value, Program Pulse Converter, Schedule, Structured View, Time Pattern Value Time Value, Timer, Trend Log, Trend Log Multiple","title":"Weitere Objektypen aus ISO-Norm 16484-5"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#bacnet-dienste-services","text":"ca. 40 Services beschreiben, wie Ger\u00e4te Informationen austauschen f\u00fcnf Bereiche Objektzugriff Filetransfer Alarm- und Event-Funktionen Remote Device Management Virtual Terminal Je nach Ger\u00e4teprofil sind gewisse Dienste vorgeschrieben Ein Sensor (Ger\u00e4teprofil) sollte einen Alarm (Dienst) ausl\u00f6sen k\u00f6nnen Der Alarm k\u00f6nnte auf einen Analogwert oder dem Mittwert eines Analogwertes basieren","title":"BACnet Dienste (Services)"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#saia-burgess-controls-2011-bacnet-workshop","text":"","title":"saia-burgess Controls 2011 - BACnet Workshop"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#bus-eigenschaften","text":"22 Bit f\u00fcr Adressierung (ca. 4 Mio Adressen ) Twisted Pair (max 1200m) oder Ethernet m\u00f6glich Master/Slave mit Token Passing Server-Client Prinzip jeder Teilnehmer kann Services der anderen als Client aufrufen","title":"Bus-Eigenschaften"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#5-weitere-bussysteme-im-der-gebaudeautomatisierung","text":"","title":"\ud83e\udd13 5 Weitere Bussysteme im der Geb\u00e4udeautomatisierung"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#lernziele_5","text":"Studierende k\u00f6nnen den Einsatzzweck verschiedener Bus-Systeme, wie Modbus, SMI, DMX einsch\u00e4tzen und beschreiben","title":"Lernziele"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#modbus","text":"De-facto-Standard f\u00fcr SPS in der Automatisierung Master / Salve Architektur Teilweise auch in Geb\u00e4udeautomatisierung eingesetzt","title":"Modbus"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpsvutlancomblogpostmodbus-tcpip-modbus-rtu-readwrite-supporthtml","text":"","title":"https://vutlan.com/blog/post/modbus-tcpip-modbus-rtu-readwrite-support.html"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#local-operating-network-lon","text":"neutralen Informationsaustausch zwischen Anlagen und Ger\u00e4ten von verschiedensten Herstellern Logikknoten (Nodes) in Sensoren, Aktoren und Controller Dezentales Multi-Master System basierend auf den Aktionen der Nodes Programmierung \u00fcber LonTool","title":"Local Operating Network (LON)"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpsdownloadbeckhoffcomdownloaddocumentapplication_notesdk9221-0111-0038pdf","text":"","title":"https://download.beckhoff.com/download/document/Application_Notes/DK9221-0111-0038.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#local-control-network-lcn","text":"propriet\u00e4res Geb\u00e4udeautomationssystem f\u00fcr Wohn- und Zweckbauten (Issendorff KG) dezentral \u00fcber identische LCN-Module eine LCN-Programmiersoftware LCN-PRO","title":"Local Control Network (LCN)"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwlcneulcn-businstallation","text":"","title":"https://www.lcn.eu/lcn-bus/installation/"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#standard-motor-interface-smi","text":"kein volles Geb\u00e4udebussystem Erg\u00e4nzung als Schnittstelle zu Rollladen- und Sonnenschutzantriebe Fensterantriebe Software SMI-easyMonitor","title":"Standard Motor Interface (SMI)"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpsstandard-motor-interfacecom","text":"","title":"https://standard-motor-interface.com/"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#funktionsweise-von-innen-und-auenbeschattung","text":"Lamellen-Nachf\u00fchrung (Blendschutz und Energieoptimierung) Verschattungs-Korrektur (Energieoptimierung) Witterungsautomatik (Produktschutz) Thermoautomatik (Energieoptimierung) Zeitprogramme (Automatisierung von repetitiven Aufgaben) Schockautomatik (Einbruchschutz)","title":"Funktionsweise von Innen- und Au\u00dfenbeschattung"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpsstandard-motor-interfacecomwp-contentuploads202010160224_smi_planungshandbuch_depdf","text":"","title":"https://standard-motor-interface.com/wp-content/uploads/2020/10/160224_SMI_Planungshandbuch_DE.pdf"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#dmx-lichttechnik","text":"B\u00fchnenbeleuchtung auch in der Architekturbeleuchtung verdrillten, geschirmten, zweiadrigen Steuerleitung als Strang","title":"DMX (Lichttechnik)"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#teilnehmer-und-adressierung","text":"viele Teilnehmer ggf. unter Verwendung von mehreren Repeatern Adressierung erfolgt am Betriebsger\u00e4t (Dip-Schalter oder Software)","title":"Teilnehmer und Adressierung"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwreicheltdeitdedip-schalter-liegend-10-polig-nt-10-p13535html","text":"","title":"https://www.reichelt.de/it/de/dip-schalter-liegend-10-polig-nt-10-p13535.html"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#appendix","text":"","title":"Appendix"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#auswahl-funkbasierter-feldbussysteme","text":"h\u00e4ufig genutzte Frequenzb\u00e4nder liegen bei 433 MHz (Babyphone, Rauchmelder), 868 MHz (Alarmanlagen) und 2,4 GHz (WLan). Frequenz korreliert positiv mit \u00dcbertragungsrate und negativ mit Reichweite","title":"Auswahl funkbasierter Feldbussysteme"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpstrendblogeuronicsdesmart-homefunkstandards-im-smart-home-teil-1-woran-wlan-und-bluetooth-kranken-50589","text":"","title":"https://trendblog.euronics.de/smart-home/funkstandards-im-smart-home-teil-1-woran-wlan-und-bluetooth-kranken-50589/"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#zigbee-connectivity-standards-alliance","text":"f\u00fcr geringe Datenmengen geringer Energieverbrauch Anwendungen in Wohn- und Nichtwohngeb\u00e4uden Sensorabst\u00e4nde bis 100 m Ad-hoc-Netzwerk \u00fcber ZigBee-Router Steuerung von Audio-Video-Technik, Waschmaschinen, Kaffeeautomaten","title":"ZigBee (Connectivity Standards Alliance)"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#bluetooth-low-energy","text":"Industriestandard f\u00fcr kurze Funkdistanz (WPAN) Smartphone-Steuerung, Audiotechnik Ad-hoc-Netzwerk \u00fcber Bluetooth Mesh Verschiedene Auspr\u00e4gungen (Reichweite, Energieverbrauch, etc.)","title":"Bluetooth (Low Energy)"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpswwwall-electronicsdeelektronik-entwicklungbluetooth-mesh-lichtsteuerung-kontrolliert-smart-building-systemhtml","text":"","title":"https://www.all-electronics.de/elektronik-entwicklung/bluetooth-mesh-lichtsteuerung-kontrolliert-smart-building-system.html"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#enocean","text":"hersteller\u00fcbergreifenden Standard mit batterieloser bidirektionaler Funktechnik kosten- und zeitsparende Installation Sensoren und Schalter (Piezoelektrizit\u00e4t) beziehen Energie aus Umgebung Sensoren f\u00fcr Temperatur, Helligkeit, Bewegung Aktoren als Schalter, Relais, Dimmer","title":"Enocean"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#httpsdewikipediaorgwikienocean","text":"","title":"https://de.wikipedia.org/wiki/Enocean"},{"location":"5_4_Bussysteme_in_der_Geb%C3%A4udeautomation/#weitere","text":"Z-Wave funkbasierter Standard f\u00fcr Wohngeb\u00e4ude Steuerung von Heizung, L\u00fcftung, Klimaanlagen, Beleuchtung, Sicherheitstechnik WirelessHART Kommunikation f\u00fcr industrielle Feldger\u00e4te, Anwendung f\u00fcr gro\u00dfe Distanzen WirelessKNX einfache Nachr\u00fcstung von KNX-Komponenten \u00fcber Funk-Buskoppler Wireless M-Bus europ\u00e4ischer Standard f\u00fcr drahtlose Kommunikation zwischen Z\u00e4hlern f\u00fcr Strom, Gas, W\u00e4rme, Wasser WLAN einbindung einzelner Produkte. Hoher Energieverbrauch. Long Range Wide Area Network (LoRaWAN) energieffizientes Senden kleiner Datenmengen \u00fcber gro\u00dfe Strecken","title":"Weitere"},{"location":"5_5_Bussysteme_in_der_MSR-Technik/","text":"Bussysteme SoSe 2023 Dr. Julian Huber Regelverhalten Motivation Funktion hat nur Input und Output aber keinen Speicher / Zustand z.B. wenn wir bei einer Messfunktionen das Signal gl\u00e4tten wollen, m\u00fcssen wir den Zustand speichern Objektorientierung Attribute Methoden Python Aufgabe: Implementierung eines Aggregators zum Gl\u00e4tten von Messwerten JSON-Darstellung eines Objekts","title":"5 5 Bussysteme in der MSR Technik"},{"location":"5_5_Bussysteme_in_der_MSR-Technik/#bussysteme","text":"SoSe 2023 Dr. Julian Huber","title":"Bussysteme"},{"location":"5_5_Bussysteme_in_der_MSR-Technik/#regelverhalten","text":"","title":"Regelverhalten"},{"location":"5_5_Bussysteme_in_der_MSR-Technik/#motivation","text":"Funktion hat nur Input und Output aber keinen Speicher / Zustand z.B. wenn wir bei einer Messfunktionen das Signal gl\u00e4tten wollen, m\u00fcssen wir den Zustand speichern","title":"Motivation"},{"location":"5_5_Bussysteme_in_der_MSR-Technik/#objektorientierung","text":"","title":"Objektorientierung"},{"location":"5_5_Bussysteme_in_der_MSR-Technik/#attribute","text":"","title":"Attribute"},{"location":"5_5_Bussysteme_in_der_MSR-Technik/#methoden","text":"","title":"Methoden"},{"location":"5_5_Bussysteme_in_der_MSR-Technik/#python","text":"","title":"Python"},{"location":"5_5_Bussysteme_in_der_MSR-Technik/#aufgabe-implementierung-eines-aggregators-zum-glatten-von-messwerten","text":"","title":"Aufgabe: Implementierung eines Aggregators zum Gl\u00e4tten von Messwerten"},{"location":"5_5_Bussysteme_in_der_MSR-Technik/#json-darstellung-eines-objekts","text":"","title":"JSON-Darstellung eines Objekts"},{"location":"6_1_Smart_Metering/","text":"Bussysteme SoSe 2023 Dr. Julian Huber I Smart Metering 1 Globale Aspekte der Energieversorgung \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu * Prim\u00e4r- und Endenergiebedarf zu unterscheiden * eine Einsch\u00e4tzung \u00fcber den Energiebedarf verschiedener Sektoren zu geben * Das Energiepolitische Zieldreieck zu beschreiben Wie viele \"Energie-Sklaven\" ben\u00f6tigen wir? the energy slave is a unit of measurement that allows us to better understand and evaluate the consequences of our life choices. An energy slave works to produce energy 24 hours a day. He produces an average power output of 100 W (875 kWh/year) Tourane Corbi\u00e8re-Nicollier & Olivier Jolliet 2001 https://www.bpb.de/kurz-knapp/zahlen-und-fakten/globalisierung/52758/verbrauch-von-primaerenergie-pro-kopf/ \ud83e\udde0 Prim\u00e4renergie? misst den gesamten Energiebedarf (eines Landes). Er umfasst den Verbrauch des Energiesektors selbst, Verluste bei der Umwandlung (z.B. von \u00d6l oder Gas in Elektrizit\u00e4t) und Verteilung von Energie sowie den Endverbrauch durch die Endverbraucher. Ausgeschlossen sind Energietr\u00e4ger, die f\u00fcr nichtenergetische Zwecke verwendet werden (z.B. Erd\u00f6l, das nicht zur Verbrennung, sondern zur Herstellung von Kunststoffen verwendet wird). https://ec.europa.eu/eurostat/statistics-explained/index.php?title=Glossary:Primary_energy_consumption#:~:text=Primary%20energy%20consumption%20measures%20the,final%20consumption%20by%20end%20users. \ud83e\udde0 Primary and final energy consumption https://energyeducation.ca/encyclopedia/Total_final_consumption https://upload.wikimedia.org/wikipedia/commons/b/b4/Energiegruppen_Bilanzbereich_AGEB.png \ud83e\udd13 Tonne of oil equivalent? (toe) ist eine Energieeinheit, die als die Energiemenge definiert ist, die bei der Verbrennung einer Tonne Roh\u00f6l freigesetzt wird. Sie betr\u00e4gt etwa 42 Gigajoule oder 11,630 MWh https://en.wikipedia.org/wiki/Tonne_of_oil_equivalent, http://www.huashuochem.com/wap_product_detail_en/id/29.html Wie viele \"Energie-Sklaven\" ben\u00f6tigen wir? \\(\\text{No. of Energy Slaves}\\) \\(= 3.7 \\frac{toe}{a} \\cdot 11.630 \\frac{MWh}{toe} \\cdot 1000\\frac{kWh}{MWh} \\frac{1}{875}\\frac{a}{kWh} = 49.2\\) Jeder Europ\u00e4er ben\u00f6tigt mehr als 50 virtuelle Energiesklaven, die Tag und Nacht arbeiten! Wasserkocher \\(P = 3.7 \\cdot \\frac{11,630}{8760}\\frac{kWh}{h}=4.9kW\\) als w\u00fcrden mehrere Wasserkocher kontinuierlich durchlaufen James Hoffmann Is it bad to have too many energy slaves / kettles? \u00d6konomie Kosten: Energieerzeugung ist teuer This forecast was from before Russias attack on Ukraine https://www.bloomberg.com/news/articles/2022-03-16/energy-costs-set-to-reach-record-13-of-global-gdp-this-year Endenergieverbrauch nach Sektoren https://www.iea.org/reports/key-world-energy-statistics-2020/final-consumption Nachfrageseite: Endverbrauch nach Sektoren Privathaushalte : Heizen, Kochen, K\u00fchlen, usw. Verkehr : Transport von Personen und G\u00fctern Gewerblich : Verkauf von Waren und Dienstleistungen Industrie : Herstellung von Waren, in der Regel aus Rohstoffen. Landwirtschaft : Energieverbrauch: D\u00fcngemittel, Licht, W\u00e4rme, Maschinen Gesamtprim\u00e4renergieversorgung der Welt nach Quellen https://www.iea.org/reports/key-world-energy-statistics-2020 \ud83e\udd13 Gesamtprim\u00e4renergieversorgung im Jahr ? Malanima (2013) \ud83e\udd13 Gesamtprim\u00e4renergieversorgung im Jahr ? Sch\u00e4tzungen der Waldrodung in Mitteleuropa (Deutschland, Nordostfrankreich) anhand arch\u00e4ologischer Holzreste 200 v. Chr. bis 400 v. Chr. (dekadische Daten; jeder Punkt des Diagramms steht f\u00fcr die Intensit\u00e4t des Holzeinschlags). ###### Malanima, P. (2013). Energy consumption in the Roman world. In The Ancient Mediterranean Environment between Science and History (pp. 13-36). Brill Energiepolitisches Zieldreieck Energiebilanzen von Industriel\u00e4ndern https://energyeducation.ca/encyclopedia/Total_final_consumption Landesweite Energiebilanzen International Energy Agency Zusammenfassung Der gr\u00f6\u00dfte Teil der Prim\u00e4renergie weltweit stammt immer noch aus nicht erneuerbaren Energiequellen Sichere, erschwingliche Energie ist eine der wichtigsten Triebfedern der menschlichen Entwicklung Energie wird in allen Sektoren ben\u00f6tigt (Haushalt, Transport, Produktion) Nur ein kleiner Teil der Energie wird in elektrische umgewandelt \ud83c\udfaf Lernfortschritt Nach dieser Einheit sind Sie in der Lage dazu * Prim\u00e4r- und Endenergiebedarf zu unterscheiden * eine Einsch\u00e4tzung \u00fcber den Energiebedarf verschiedener Sektoren zu geben * Das Energiepolitische Zieldreieck zu beschreiben 2 Eine kurze Einf\u00fchrung in die Energiewirtschaft \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu - die Marktrollen im Energiemarkt und deren Interessen zu beschreiben - die Struktur des Stromnetzes zu beschreiben - Preisbildung auf dem Spot-Markt zu beschreiben Energiekosten und Erl\u00f6se https://kurier.at/wirtschaft/energiekosten-insgesamt-um-24-milliarden-euro-gestiegen/402181017 Stadtwerke-Welt (mit Beginn der Elektrifizierung 19 Jhd.) Ein Stadtwerk betreibt Netz und Stromerzeugung in seinem Netzgebiet Monopolstellung der Stadtwerke Europ\u00e4ische Energiemarktintegration Entwicklung eines gemeinsamen Europ\u00e4ischen Stromnetzes (Ausfallsicherheit) und Binnenmarktes Aus integrierten Stadtwerken (und Energiekonzernen) werden getrennte Netzbetreiber und Energieversorgungs-unternehmen (EVU) Europ\u00e4ische Energiemarktintegration Alle Marktteilnehmer handeln Energiemengen frei miteinander Netz wird von neutralen Netzbetreibern verantwortet Handel von Strom kann bilateral oder auf der Europ\u00e4ischen Stromb\u00f6rse (EEX) stattfinden Netzrestriktionen werden innerhalb einzelner L\u00e4nder vom Markt ignoriert Solange keine Netzrestriktionen an den Grenzkuppelstellen bestehen haben L\u00e4nder den gleichen Strompreis Eine \u00e4hnliche Logik gilt f\u00fcr den Gas-Markt Trennung von Nat\u00fcrlichem Monopol (Netz) und Markt (Energie) Beim Stromnetz handelt es sich um ein nat\u00fcrliches Monopol (ebenso Gas und Eisenbahn) Kein Mitbewerber kann ein Parallelnetz aufbauen, und dieses g\u00fcnstiger anbieten Idee: Netz und Energie werden getrennt behandelt Dies soll den Europ\u00e4ischen Austausch f\u00f6rdern und Kosten senken https://www.europarl.europa.eu/factsheets/de/sheet/45/energiebinnenmarkt Elektrische Energie aus Strom ist ein Homogenes Gut Eine kWh Strom kann \u00fcberall im Europ\u00e4ischen Stromnetz eingespeist werden Eingespeiste und entnommene Energie k\u00f6nnen nicht nachverfolgt werden Das Netz wird nicht beachtet (Kupferplatte, Zonales Preissystem) https://traumshop.net/shop/highlights/atomstromfilter/ \u00d6kostrom EVU, dies \u00d6kostrom anbieten haben folgende M\u00f6glichkeiten \u00d6kostrom selbst produzieren per Liefervertrag einkaufen handelbare Erzeugungszertifikate erwerben Mengengleiche \u00d6kostromversorgung: Ausgleich \u00fcbers Jahr Zeitgleiche \u00d6kostromversorgung: Ausgleich in jeder Viertelstunde Rollen auf dem Energiemarkt (vereinfacht) Rollen auf dem Energiemarkt (vereinfacht) Ein Unternehmen kann gleichzeitig unterschiedliche Rollen einnehmen Stromanbieter: Gro\u00dfe Erzeuger vom elektrischem Strom (Kraftwerksparks) verkaufen Energiemengen Stromnachfrager: Energieversorgungsunternehmen (EVU) kaufen Energiemengen Endverbraucher: Haushalte und Gewerbe, beziehen Strom von den Energieversorgungsunternehmen und rechen \u00fcber Tarife ab (nur sehr gro\u00dfe Firmen handeln selbst auf der Stromb\u00f6rse) Netzbetreiber: Greifen nicht in den Handel mit Strom ein Angebot und Nachfrage Stromanbieter bieten zu marginalen Kosten an: Was immer es kostet eine MWh elektrischen Strom zu produzieren Erneuerbare Erzeuger haben marginale Kosten von 0 \u20ac/MWh Gaskraftwerke sind teuer Kapitalkosten werden nicht eingepreist (sunk costs) Stromnachfrager sind unelastisch: EVU m\u00fcssen beschaffen, was Haushalte und Gewerbe beziehen marginale Kosten/Grenzkosten: Kosten die anfallen, um eine zus\u00e4tzliche Einheit zu produzieren Merit Order Modell \u00d6koinstitut Freiburg Merit Order Modell Die Aufreihung des Angebots wird als Merit Order bezeichnet In jeder Viertelstunde wird die der Einsatz der Erzeuger nach der Merit Order festgelegt Es muss immer genau so viel Strom abgenommen, wie eingespeist werden Die Nachfrage kann kurzfristig als nicht-elastisch (preis-unabh\u00e4ngig) angenommen werden Der Schnittpunkt zwischen Angebot und nachfrage bestimmt den Preis All abgerufenen Kraftwerke erhalten den Preis, den das letzte Kraftwerk erzielt Ohne diese Regel (Pay-as-Bid) g\u00e4be es ein Anreiz f\u00fcr strategisches Verhalten der Bieter Preis-Schwankung Intraday https://energy-charts.info/charts/price_spot_market/chart.htm?l=de&c=DE&week=44&legendItems=011010000010 Preis-Schwankung Intraday Je nach Last und Erzeugungssituation stellen sich unterschiedliche Preise ein EVU haben ein Interesse den Verbrauch ihrer Kund:innen in Richtung der g\u00fcnstigen Stunden zu verschieben Zeit-dynamische Tarife Unterbrechbare Lasten Das w\u00fcrde die Elastizit\u00e4t/Flexibilit\u00e4t der Nachfrage erh\u00f6hen EVUs m\u00fcssen in teuren Stunden weniger Strom beziehen Geschieht dies nicht im ausreichenden Ma\u00dfe Strompreis steigt Mehr Emissionen Lastabschaltungen Struktur des Stromnetz https://upload.wikimedia.org/wikipedia/commons/b/b0/Stromversorgung.svg https://www.hochspannungsblog.at/Wissenswertes/Netzbetreiber/Uebertragungsnetz \u00dcbertragungsnetz Maschen-Topologie Engp\u00e4sse bei starken lokalen Ungleichgewichten Marktergebnis kann nicht umgesetzt werden: Redispatch Weitere Aufgaben der \u00dcbertragungsnetzbetreiber Frequenzhaltung Systemreserve Verteilnetz Ring- oder Strang-Topologie Engp\u00e4sse bei hohen Gleichzeitigkeiten W\u00e4rmepumpen \"Zahnarzt-Allee\" \ud83d\udd25_\ud83d\ude97\ud83d\ude97\ud83d\ude97\ud83d\ude97\ud83d\ude97 PV-R\u00fcckspeisung \ud83d\udd25_\u26a1\u26a1\u26a1\u26a1\u26a1 Nachfrage: Relevanz der elektrischen Energieversorgung https://www.presseportal.de/pm/43338/1208607 Nachfrage: Zunehmende Elektrifizierung https://www.heizspiegel.de/heizkosten-pruefen/heizkosten-pro-m2-vergleich/ Nachfrage: Emissionsvermeidung durch Elektrifizierung https://de.wikipedia.org/wiki/Sektorenkopplung#/media/Datei:Prim%C3%A4renergievergleich_fossile_Energie_und_erneuerbare_Energien.png Angebot: Anstieg volatiler Erneuerbarer Energien https://www.oekosystem-erde.de/html/energiezukunft-03.html \ud83e\udde0 Fazit Strom als \"wertvollster\" Energietr\u00e4ger, da geringe Umwandlungsverluste zunehmend h\u00f6herer Teil an Energiedienstleistungen wird aus Strom gedeckt Stromangebot wird zeitlich flexibel (Photovoltaik und Wind nicht immer verf\u00fcgbar - Dunkelflaute) Nicht nur Menge des Strombezugs, sondern auch dessen Zeitpunkt ist entscheidend EVU und Netzbetreiber ben\u00f6tigen Daten \u00fcber Erzeugung und Verbrauch zu Planung und Optimierung EVU und Netzbetreiber haben Anreize den Verbrauch der Endverbraucher steuernd zu beeinflussen \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu - die Marktrollen im Energiemarkt und deren Interessen zu beschreiben - die Struktur des Stromnetzes zu beschreiben - Preisbildung auf dem Spot-Markt zu beschreiben 3 Energiebedarf von Geb\u00e4uden \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu * Energieverbraucher im Haushalt nach Energiemengen zu ordnen * M\u00f6gliche Energietr\u00e4ger eines Geb\u00e4udes zu beschreiben * Den Prim\u00e4renergiebedarf eines Geb\u00e4udes aus dem gemessen Endenergiebedarf abzusch\u00e4tzen \ud83e\udde0 Relevanz des Geb\u00e4udeenergieverbrauch etwa 1/3 des globalen Energiebedarfs Ein gro\u00dfer Hebel f\u00fcr Wirtschaftlichkeit und Energieeffizienz Gro\u00dfer Anteil indirekter Emissionen (z.B. Strom der nicht vor Ort produziert wird) https://www.ipcc.ch/site/assets/uploads/2018/02/ipcc_wg3_ar5_chapter9.pdf https://www.effizienzhaus-online.de/energieverbrauch-haus/ https://www.passivhaus.de/passivhaus/ \ud83e\udde0 Energie-Definitionen Nutzenergie ( \\(Q^N\\) ) : Tats\u00e4chlich im Geb\u00e4ude zweckdienlich genutzte Energie Endenergie ( \\(Q^E\\) ) : Im Geb\u00e4ude verbrauchte (und meist gemessene) Energie Prim\u00e4renergiebedarf ( \\(Q^P\\) ) bezieht die gesamte Wertsch\u00f6pfungskette bis zum Geb\u00e4ude mit ein (incl. indirekte Emissionen) Endenergietr\u00e4ger in Geb\u00e4uden Elektrische Energie Netzbezug Lokale Erzeugung Gas Leitungsgebunden \u00d6l Speicher Biomasse Speicher \ud83e\udd13 Nichterneuerbarer Prim\u00e4renergiebedarf \\(Q^{P,ne}\\) ergibt sich f\u00fcr alle zur Versorgung des Geb\u00e4udes erforderlichen Endenergietr\u00e4ger \\(i\\) : \\[Q^{P,ne} = \\sum_i{Q^E_{i} f^{P,ne}_i}\\] \\(Q^E_{i}\\) ... Endenergietr\u00e4ger i (z.B. Gas, Strom) \\(f^{P,ne}_i\\) ... Prim\u00e4renergiefaktor des nicht- erneuerbaren Anteils des Endenergietr\u00e4gers \\(i\\) https://www.ingenieure.immo/wiki/bauphysik/nutz-end-und-prim%C3%A4renergie/ \ud83e\udd13 Prim\u00e4renergiefaktoren h\u00e4ngen von der Vorkette ab schwer zu berechnen EN 15316 Heizungsanlagen in Geb\u00e4uden \u2013 Verfahren zur Berechnung der Energieanforderungen und Nutzungsgrade der Anlagen Deutschland Energieeinsparverordnung von 2007 und DIN V 18599-1 und DIN 4701-10/A1 \u00d6sterreich \u00d6NORM EN 15316-4-5 (bisher nur in der Beurteilung von Fernheizsystemen) https://www.geo.de/natur/nachhaltigkeit/19619-rtkl-stromerzeugung-was-ist-eigentlich-so-klimaschaedlich-braunkohle \ud83e\udd13 Prim\u00e4renergiefaktoren nach OIB Prim\u00e4renergiebedarf (PEB) ( \\(f^{P}\\) bzw. \\(f_{PE}\\) ) nichterneuerbaren Anteils des PEB ( \\(f^{P,ne}\\) bzw. \\(f_{PE, n.ern.}\\) ) erneuerbaren Anteils ( \\(f^{P,e}\\) bzw. \\(f_{PE, ern.}\\) ) sowie des \\(CO_2\\) -Emissionsfaktors ( \\(f_{CO2}\\) ) \u00d6sterreichisches Institut f\u00fcr Bautechnik (OIB): OIB-Richtlinie 6 \u2013 Energieeinsparung und W\u00e4rmeschutz, M\u00e4rz 2015 \ud83e\udd13 Prim\u00e4renergiefaktoren nach OIB Interpretation : Das Verbrennen von \\(1 kWh\\) Heiz\u00f6l als Endenergie f\u00fchrt zur einem nichterneuerbaren Prim\u00e4renergiebedarf von \\(1.23~kWh\\) Heiz\u00f6l und einem erneuerbaren Prim\u00e4renergiebedarf von \\(0.0123~kWh\\) . Dabei werden \\(CO_2\\) Emissionen von \\(311~g/kWh\\) verursacht. Die Nutzenergie ist dabei kleiner als \\(1~kWh\\) . \u00d6sterreichisches Institut f\u00fcr Bautechnik (OIB): OIB-Richtlinie 6 \u2013 Energieeinsparung und W\u00e4rmeschutz, M\u00e4rz 2015 \ud83e\udd13 Fl\u00e4chenbezug In der Regel wird der so bestimmte nichterneuerbare Prim\u00e4renergiebedarf auf eine definierte Fl\u00e4che bezogen: * bei Wohngeb\u00e4uden auf die Wohnfl\u00e4che (Bestimmung nach z.B. EnEV), * bei Nichtwohngeb\u00e4uden auf die Nettoraumfl\u00e4che (siehe DIN 277-1) \\[ q^{P,ne} = \\frac{Q^{P,ne}}{A^{bez}} \\] \\(A^{bez}\\) ... Energiebezugsfl\u00e4che \ud83e\udd13 Jahresbezug https://www.verbraucherzentrale.de/wissen/energie/energetische-sanierung/so-kommen-sie-an-einen-energieausweis-fuer-ihre-immobilie-24058 \ud83e\udd13 Aufgabe Berechnen Sie f\u00fcr f\u00fcr das Geb\u00e4ude die j\u00e4hrlichen Heizkosten, \\(CO_2\\) -Emissionen ( \\(f_{CO2}\\) ) fl\u00e4chen-bezogenen nichterneuerbaren Prim\u00e4renergiebedarf ( \\(q^{P,ne}\\) ) f\u00fcr eine Biomasse- und eine Erdgasheizung. Wohnfl\u00e4che: \\(800 m^2\\) Endenergiebedarf: \\(153 \\frac{kWh}{m^2 a}\\) Gaspreis: \\(0.06 \\frac{\u20ac}{kWh}\\) Pelletpreis: \\(0.05 \\frac{\u20ac}{kWh}\\) https://docs.google.com/spreadsheets/d/11W776uMNFQVS4KG3XLIl2LF8DalNMbRFS1L_l3F_f7A/edit?usp=sharing \ud83e\udd13 L\u00f6sung Gas: \\(Q^{P,ne}_{gas}=153 \\frac{kWh}{m^2 a} \\cdot 800 m^2 \\cdot 1.16 = 141{,}984 \\frac{kWh}{a}\\) \\(C_{gas}=153 \\frac{kWh}{m^2 a} \\cdot 800 m^2 \\cdot 0.06 \u20ac = 7{,}344 \\frac{\u20ac}{a}\\) \\(m^{CO_2}_{gas} =Q^{P}_{gas} f_{CO_2} =153 \\frac{kWh}{m^2 a} \\cdot 800 m^2\\cdot 236 \\frac{g}{kWh} = 28{,}9 \\frac{t}{a}\\) \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu * Energieverbraucher im Haushalt nach Energiemengen zu ordnen * M\u00f6gliche Energietr\u00e4ger eines Geb\u00e4udes zu beschreiben 4 Einfluss der Geb\u00e4udeautomatisierung auf die Energetische Bewertung \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu - die vier Energieeffizienzklassen nach EN 15232 zu unterscheiden - ein Absch\u00e4tzung der Effizienzsteigerung nach EN 15232 vorzunehmen \ud83e\udde0 Einfluss der Geb\u00e4udeautomatisierung auf die Energetische Bewertung Gr\u00f6\u00dfter Hebel ist die Technologieauswahl und effiziente Auslegung w\u00e4hrend der Planung Energiesparen bedeutet aus Sicht der Raumautomation vor allem Verschwendung zu vermeiden z.B.: K\u00fchlen oder Heizen bei offenem Fenster, eingeschaltete Beleuchtung bei ausreichendem Tageslicht, beheizte ungenutzte R\u00e4ume Energierelevante Geb\u00e4udetechnik Sensorik Intelligente Z\u00e4hler (Smart Meter) Anwesenheitserkennung Fensterkontakt Aktorik Heizung L\u00fcftung K\u00fchlung etc. Verschattung Absch\u00e4tzung der Effizienzsteigerung mit EN 15232 ca. 40 weitere Normen betreffen die effiziente Planung von Geb\u00e4uden die EN15232 berechnet speziell den Einfluss der Geb\u00e4udeautomation und des Geb\u00e4ude\u00admanagements f\u00fcr thermische und elektrische Installationen https://www.baulinks.de/webplugin/2012/2142.php4 Absch\u00e4tzung der Effizienzsteigerung nach EN 15232 Einfach gesagt: Die Norm gibt an, was an Geb\u00e4udeautomatisierung sinnvoll und notwendig ist, um bestimmte Effizienzklassen zu erreichen Anders als beim Prim\u00e4renergiefaktor geht es hier nicht um die Berechnung konkreter Werte Effizienzklassen https://www.co2online.de/energie-sparen/strom-sparen/strom-sparen-stromspartipps/eu-energielabel-ab-2021/ Effizienzklasse A Die Norm gibt vier Effizienzklassen f\u00fcr Geb\u00e4ude und Wohnh\u00e4user an (Klasse C ist die Referenzklasse; Auszug aus Tabelle 2 der EN15232): Heizen/ K\u00fchlen Air conditioning Beleuchtung Sonnenschutz A z.B. Einzelraumre\u00adgelung mit Kom\u00admunikation und Bedarfsanforde\u00adrung z.B. Zuluftregelung mit lastabh\u00e4ngigem Sollwert autom. Beleuchtung z.B. mit automati\u00adscher Anwesenheits\u00aderfassung kombinierte Steuerung von Jalousien und Temperatur\u00ad Effizienzklassen B und C Heizen/ K\u00fchlen Air conditioning Beleuchtung Sonnenschutz B z.B. Einzelraumre\u00adgelung mit Kom\u00admu\u00adnikation z.B. stufig gere\u00adgel\u00adte Pumpen z.B. mehrstufige Ventilatorsteuerung autom. Beleuchtung z.B. mit automati\u00adscher Anwesenheits\u00aderfassung automatische Steuerung der Jalousien C z.B. Einzelraumre\u00adgelung mit Ther\u00admos\u00adtatventil z.B. Ventilator mit Ein/Aus-Steuerung manuelle Lichtsteue\u00adrung manuelle Bedienung der motorisierten Jalousien Effizienzklasse D Heizen/ K\u00fchlen Air conditioning Beleuchtung Sonnenschutz D z.B. keine Einzel\u00adraum\u00adregelung z.B Pumpen nicht geregelt z.B. keine Luftmen\u00adgenregelung z.B. keine Zuluftre\u00adgelung manuelle Lichtsteue\u00adrung manuelle Bedienung der Jalousien \ud83e\udde0 Die Idee dahinter Bei der Anwendung der EN 15232 auf Sanierungsprojekte mit bekanntem Energie\u00adverbrauch k\u00f6nnen dadurch die Einsparungen bei geplanten Investitionen in die Geb\u00e4udeautomation mittels eines Rechenfaktors ( \\(f^{BSCS}\\) ) leicht \u00fcber\u00adschlagen werden: \\(f^{BSCS,th}\\) ... f\u00fcr die thermischen Verbraucher \\(f^{BSCS,el}\\) ... f\u00fcr die elektrischen Verbraucher \\(Q^{E, vor}\\) ... Endenergiebedarf vor Renovierung \\(Q^{E, nach}\\) ... Endenergiebedarf nach Renovierung mit Geb\u00e4udeautomatisierung \\[Q^{E, nach} = \\frac{f^{BSCS,nach}}{f^{BSCS,vor}} Q^{E, vor}\\] Tabelle: Thermische Effizienzfaktoren \\(f^{BSCS,th}\\) D (Nicht energieeffizient) C (Standard / Referenz) B (Erweitert) A (Hohe Energieeffizienz) B\u00fcros 1,51 1 0,80 0,70 H\u00f6rsaal 1,24 1 0,75 0,50 Schulgeb\u00e4ude 1,20 1 0,88 0,80 Tabelle: Elektrische Effizienzfaktoren \\(f^{BSCS,el}\\) D (Nicht energieeffizient) C (Standard / Referenz) B (Erweitert) A (Hohe Energieeffizienz) B\u00fcros 1,10 1 0,93 0,87 H\u00f6rsaal 1,06 1 0,94 0,89 Schulgeb\u00e4ude 1,07 1 0,93 0,86 Krankenh\u00e4user 1,05 1 0,98 0,96 \u270d\ufe0f Aufgabe Im ersten Planungsstand wird der neue Audimax (als eigenes Geb\u00e4ude) mit einer Geb\u00e4udeautomatisierung geplant, die elektrisch Effizienzklasse C und thermisch Klasse D entspricht. Geben Sie eine erste Einsch\u00e4tzung, wie viel elektrische und thermische Energie eingespart werden kann, wenn der H\u00f6rsaal stattdessen jeweils mit Effizienzklasse B geplant wird. L\u00f6sung \\(Q^{E, nach} = \\frac{f^{BSCS,nach}}{f^{BSCS,vor}} Q^{E, vor}\\) \\(\\frac{Q^{E, nach, el}}{Q^{E, vor,el}} = \\frac{f^{BSCS,nach,el}}{f^{BSCS,vor,el}} = \\frac{0,94}{1} =94\\%\\) \\(\\frac{Q^{E, nach, th}}{Q^{E, vor, th}} = \\frac{f^{BSCS,nach,th}}{f^{BSCS,vor,th}} = \\frac{0,75}{ 1,24} =60\\%\\) \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu - die vier Energieeffizienzklassen nach EN 15232 zu unterscheiden - ein Absch\u00e4tzung der Effizienzsteigerung nach EN 15232 vorzunehmen 5 Smart Metering \ud83c\udfaf Lernziele Nach dieser Einheit sind Sie in der Lage dazu * Schnittstellen eines Smart Meters zu benennen * Funktionen intelligenter Messsysteme beschreiben * Vorteile und Anwendungsf\u00e4lle einer Echtzeitmessung erl\u00e4utern \ud83e\udde0 Herk\u00f6mmliche Z\u00e4hler integrierende Messung keine Messzeitreihe Visuelles Ablesen eines Momentanwerts Standardlastprofile auf historischen Daten basierende Annahmen \u00fcber typische Verbrauchsmuster gemittelt (enthalten keine Lastspitzen) dienen der Planung (z.B. Auslegung des Netzes, Beschaffung von Strom an der Stromb\u00f6rse) zunehmend unpr\u00e4zise https://blog.naturstrom.de/intern/standardlastprofil/ \ud83e\udde0 Intelligente Z\u00e4hler (Smart Meter) sind Gas-, Wasser- oder Stromz\u00e4hler , die digital Daten auszeichnen, senden und ggf. auch empfangen (Busteilnehmer) Basisfunktionen: Messung Datenspeicherung Kommunikation Komponenten eines Smart Meters (AT) Smart-Meter-Kurzanleitung Kommunikation zwischen verschiedenen Rollen Komponenten eines Intelligentes Messsystems (D) Strikte Trennung in zwei kompatible Komponenten: Modernen Messeinrichtung erfasst Energiefluss digital Smart Meter Gateway Kommunikations-Schnittstelle , welche die Z\u00e4hlerwerte speichern, Daten verarbeiten und mit einem Netzwerk kommuniziert (Kommunikationsmodul) https://www.verbraucherzentrale.de/wissen/energie/preise-tarife-anbieterwechsel/smart-meter-die-neuen-stromzaehler-kommen-13275, Stand: 5. Februar 2021 Kommunikationsmodul Anbindung \u00fcber diverse Bus-Systeme (Power-Line-Communication, Mobilfunk, M-Bus, TCP/IP, ...) erm\u00f6glicht Fernauslesung : Energieversorgungsunternehmen kann Stromverbrauch aus der Ferne ablesen Privatsph\u00e4re : Bedenken, dass auf Verhalten und Anwesenheit geschlossen werden kann Kommunikationsmodul: Einf\u00fchrung neuer Stromtarife Zeitvariable Tarife : Strom kostet mehr zu Hochlastzeiten (abends, W\u00e4rmepumpen) Last-variable Tarife : Strom kostet in Abh\u00e4ngigkeit der bezogenen Leistung Zeit-dynamische Tarife : Strompreise k\u00f6nnen sich flexibel ver\u00e4ndern (z.B. alle 15 Minuten) https://www.awattar.at/ \ud83e\udde0 Gesetzliches EU Richtlinie 2006 : allen Mitgliedstaaten, soweit technisch machbar, finanziell vertretbar und im Vergleich zu den potentiellen Energieeinsparungen angemessen, alle Endkunden in den Bereichen Strom, Erdgas, Fernheizung und/oder -k\u00fchlung und Warmbrauchwasser individuelle Z\u00e4hler tats\u00e4chlichen Energieverbrauch des Endkunden und die tats\u00e4chliche Nutzungszeit anzeigt m\u00f6gliche L\u00f6sung: M-Bus Sensor + Display Kundenschnittstelle (Home Area Network) in \u00d6sterreich nicht fix definiert Spannung, Wirkleistung, Blindleistung aller Phasen h\u00e4ufig MBUS, aber auch andere Bussysteme teilweise verschl\u00fcsselt Konzept f\u00fcr einen \u201eSmart-Meter Kundenschnittstellen Adapter\u201c zur Standardisierung der Datenbereitstellung in der Kundenanlage Stand Smart Meter Rollout Europa 2020 Land Durchdringung in % Bemerkung Spanien 100 Irland 100 D\u00e4nemark 100 Finnland 100 Malta 100 Italien 99 Treiber Stromklau? Luxemburg 95 \u00d6sterreich 95 Prakmatisch Frankreich 95 Land Durchdringung in % Bemerkung Griechenland 80 Polen 80 Rum\u00e4nien 80 Deutschland 23 Overengineering Lettland 23 https://de.statista.com/statistik/daten/studie/387142/umfrage/marktdurchdringung-von-smart-metern-in-europa-nach-laendern/ \ud83e\udde0 Eichrecht abrechnungs-relevante Z\u00e4hler m\u00fcssen eich-rechtlich zugelassen sein Ma\u00df- und Eichgesetz (MEG) Mengenmessger\u00e4te f\u00fcr Gas, Mengenmessger\u00e4te f\u00fcr sauberes Wasser aus Versorgungsleitungen, Mengenmessger\u00e4te f\u00fcr thermische Energie (W\u00e4rmez\u00e4hler, K\u00e4ltez\u00e4hler), Elektrizit\u00e4tsz\u00e4hler Z\u00e4hler muss bei in Verkehr bringen der Europ\u00e4ischen Messger\u00e4te-Richtlinie MID entsprechen Regelm\u00e4\u00dfig \u00fcberpr\u00fcft (geeicht) werden https://static.fernauslese.de/uploads/Fernauslese.de-Merkblatt-Eichrecht-in-Oesterreich.pdf \ud83e\udd13 Smart Meter \u00d6sterreich https://www.arbeiterkammer.at/beratung/konsument/Datenschutz/FAQs_zum_Smart_Meter.html#lg=1&slide=0 \ud83e\udd13 Besonderheit Deutschland Technische Richtlinie 03109-1 Anforderungen an die Interoperabilit\u00e4t der Kommunikationseinheit eines intelligenten Messsystems Bundesamt f\u00fcr Sicherheit in der Informationstechni k \u2013 BSI definierte umfassende Anforderungen, welche von der Herstellern umgesetzt werden mussten z.B. \u00dcbertragung \u00fcber asymmetrische Verschl\u00fcsselung und Zertifizierung Standardisierte Basisfunktionen (Tarifanwendungsf\u00e4lle) \ud83e\udd13 Smart Meter Deutschland soll \u00d6kosystem zum Vernetzung verschiedenster Akteure spielen Zus\u00e4tzlich zur Kommunikationsmodul (WAN) und Kundenschnittstellen (HAN) k\u00f6nnen noch weitere Z\u00e4hler integriert werden (LMN) https://www.dke.de/de/arbeitsfelder/energy/smart-meter-energiemanagement-digitalisierung-energiewende \ud83e\udd13 Tarifanwendungsf\u00e4lle https://www.ffe.de/attachments/article/851/FE_13549_Bericht_final_online.pdf \ud83e\udd13 Kritik an Deutschem System Sp\u00e4te Markteinf\u00fchrung hohe Kosten (>100 \u20ac/a) \u00dcberreglementierung Kein Freitraum f\u00fcr Tarifentwicklung Anforderungen EVU \u00fcber WAN-Schnittstelle: Abrechnung auf 15 Minuten-Basis ausreichend Liegenschaftsbetreiber \u00fcber HAN-Schnittstelle: Mess- und Regelung in Geb\u00e4udeleittechnik erfordert h\u00f6here Aufl\u00f6sung ( Parallelstruktur ) \ud83e\udd13 Einbauempfehlung Deutschland Zentralverband der Deutschen Elektro- und Informationstechnischen Handwerke","title":"Smart Metering"},{"location":"6_1_Smart_Metering/#bussysteme","text":"SoSe 2023 Dr. Julian Huber","title":"Bussysteme"},{"location":"6_1_Smart_Metering/#i-smart-metering","text":"","title":"I Smart Metering"},{"location":"6_1_Smart_Metering/#1-globale-aspekte-der-energieversorgung","text":"","title":"1 Globale Aspekte der Energieversorgung"},{"location":"6_1_Smart_Metering/#lernziele","text":"Nach dieser Einheit sind Sie in der Lage dazu * Prim\u00e4r- und Endenergiebedarf zu unterscheiden * eine Einsch\u00e4tzung \u00fcber den Energiebedarf verschiedener Sektoren zu geben * Das Energiepolitische Zieldreieck zu beschreiben","title":"\ud83c\udfaf Lernziele"},{"location":"6_1_Smart_Metering/#wie-viele-energie-sklaven-benotigen-wir","text":"the energy slave is a unit of measurement that allows us to better understand and evaluate the consequences of our life choices. An energy slave works to produce energy 24 hours a day. He produces an average power output of 100 W (875 kWh/year)","title":"Wie viele \"Energie-Sklaven\" ben\u00f6tigen wir?"},{"location":"6_1_Smart_Metering/#tourane-corbiere-nicollier-olivier-jolliet-2001","text":"","title":"Tourane Corbi\u00e8re-Nicollier &amp; Olivier Jolliet 2001"},{"location":"6_1_Smart_Metering/#httpswwwbpbdekurz-knappzahlen-und-faktenglobalisierung52758verbrauch-von-primaerenergie-pro-kopf","text":"","title":"https://www.bpb.de/kurz-knapp/zahlen-und-fakten/globalisierung/52758/verbrauch-von-primaerenergie-pro-kopf/"},{"location":"6_1_Smart_Metering/#primarenergie","text":"misst den gesamten Energiebedarf (eines Landes). Er umfasst den Verbrauch des Energiesektors selbst, Verluste bei der Umwandlung (z.B. von \u00d6l oder Gas in Elektrizit\u00e4t) und Verteilung von Energie sowie den Endverbrauch durch die Endverbraucher. Ausgeschlossen sind Energietr\u00e4ger, die f\u00fcr nichtenergetische Zwecke verwendet werden (z.B. Erd\u00f6l, das nicht zur Verbrennung, sondern zur Herstellung von Kunststoffen verwendet wird).","title":"\ud83e\udde0 Prim\u00e4renergie?"},{"location":"6_1_Smart_Metering/#httpseceuropaeueurostatstatistics-explainedindexphptitleglossaryprimary_energy_consumptiontextprimary20energy20consumption20measures20thefinal20consumption20by20end20users","text":"","title":"https://ec.europa.eu/eurostat/statistics-explained/index.php?title=Glossary:Primary_energy_consumption#:~:text=Primary%20energy%20consumption%20measures%20the,final%20consumption%20by%20end%20users."},{"location":"6_1_Smart_Metering/#primary-and-final-energy-consumption","text":"","title":"\ud83e\udde0 Primary and final energy consumption"},{"location":"6_1_Smart_Metering/#httpsenergyeducationcaencyclopediatotal_final_consumption","text":"","title":"https://energyeducation.ca/encyclopedia/Total_final_consumption"},{"location":"6_1_Smart_Metering/#httpsuploadwikimediaorgwikipediacommonsbb4energiegruppen_bilanzbereich_agebpng","text":"","title":"https://upload.wikimedia.org/wikipedia/commons/b/b4/Energiegruppen_Bilanzbereich_AGEB.png"},{"location":"6_1_Smart_Metering/#tonne-of-oil-equivalent","text":"(toe) ist eine Energieeinheit, die als die Energiemenge definiert ist, die bei der Verbrennung einer Tonne Roh\u00f6l freigesetzt wird. Sie betr\u00e4gt etwa 42 Gigajoule oder 11,630 MWh","title":"\ud83e\udd13 Tonne of oil equivalent?"},{"location":"6_1_Smart_Metering/#httpsenwikipediaorgwikitonne_of_oil_equivalent-httpwwwhuashuochemcomwap_product_detail_enid29html","text":"","title":"https://en.wikipedia.org/wiki/Tonne_of_oil_equivalent, http://www.huashuochem.com/wap_product_detail_en/id/29.html"},{"location":"6_1_Smart_Metering/#wie-viele-energie-sklaven-benotigen-wir_1","text":"\\(\\text{No. of Energy Slaves}\\) \\(= 3.7 \\frac{toe}{a} \\cdot 11.630 \\frac{MWh}{toe} \\cdot 1000\\frac{kWh}{MWh} \\frac{1}{875}\\frac{a}{kWh} = 49.2\\) Jeder Europ\u00e4er ben\u00f6tigt mehr als 50 virtuelle Energiesklaven, die Tag und Nacht arbeiten!","title":"Wie viele \"Energie-Sklaven\" ben\u00f6tigen wir?"},{"location":"6_1_Smart_Metering/#wasserkocher","text":"\\(P = 3.7 \\cdot \\frac{11,630}{8760}\\frac{kWh}{h}=4.9kW\\) als w\u00fcrden mehrere Wasserkocher kontinuierlich durchlaufen","title":"Wasserkocher"},{"location":"6_1_Smart_Metering/#james-hoffmann","text":"","title":"James Hoffmann"},{"location":"6_1_Smart_Metering/#is-it-bad-to-have-too-many-energy-slaves-kettles","text":"","title":"Is it bad to have too many energy slaves / kettles?"},{"location":"6_1_Smart_Metering/#okonomie","text":"Kosten: Energieerzeugung ist teuer This forecast was from before Russias attack on Ukraine","title":"\u00d6konomie"},{"location":"6_1_Smart_Metering/#httpswwwbloombergcomnewsarticles2022-03-16energy-costs-set-to-reach-record-13-of-global-gdp-this-year","text":"","title":"https://www.bloomberg.com/news/articles/2022-03-16/energy-costs-set-to-reach-record-13-of-global-gdp-this-year"},{"location":"6_1_Smart_Metering/#endenergieverbrauch-nach-sektoren","text":"","title":"Endenergieverbrauch nach Sektoren"},{"location":"6_1_Smart_Metering/#httpswwwieaorgreportskey-world-energy-statistics-2020final-consumption","text":"","title":"https://www.iea.org/reports/key-world-energy-statistics-2020/final-consumption"},{"location":"6_1_Smart_Metering/#nachfrageseite-endverbrauch-nach-sektoren","text":"Privathaushalte : Heizen, Kochen, K\u00fchlen, usw. Verkehr : Transport von Personen und G\u00fctern Gewerblich : Verkauf von Waren und Dienstleistungen Industrie : Herstellung von Waren, in der Regel aus Rohstoffen. Landwirtschaft : Energieverbrauch: D\u00fcngemittel, Licht, W\u00e4rme, Maschinen","title":"Nachfrageseite: Endverbrauch nach Sektoren"},{"location":"6_1_Smart_Metering/#gesamtprimarenergieversorgung-der-welt-nach-quellen","text":"","title":"Gesamtprim\u00e4renergieversorgung der Welt nach Quellen"},{"location":"6_1_Smart_Metering/#httpswwwieaorgreportskey-world-energy-statistics-2020","text":"","title":"https://www.iea.org/reports/key-world-energy-statistics-2020"},{"location":"6_1_Smart_Metering/#gesamtprimarenergieversorgung-im-jahr","text":"","title":"\ud83e\udd13 Gesamtprim\u00e4renergieversorgung im Jahr ?"},{"location":"6_1_Smart_Metering/#malanima-2013","text":"","title":"Malanima (2013)"},{"location":"6_1_Smart_Metering/#gesamtprimarenergieversorgung-im-jahr_1","text":"Sch\u00e4tzungen der Waldrodung in Mitteleuropa (Deutschland, Nordostfrankreich) anhand arch\u00e4ologischer Holzreste 200 v. Chr. bis 400 v. Chr. (dekadische Daten; jeder Punkt des Diagramms steht f\u00fcr die Intensit\u00e4t des Holzeinschlags).","title":"\ud83e\udd13 Gesamtprim\u00e4renergieversorgung im Jahr ?"},{"location":"6_1_Smart_Metering/#malanima-p-2013-energy-consumption-in-the-roman-world-in-the-ancient-mediterranean-environment-between-science-and-history-pp-13-36-brill","text":"","title":"###### Malanima, P. (2013). Energy consumption in the Roman world. In The Ancient Mediterranean Environment between Science and History (pp. 13-36). Brill"},{"location":"6_1_Smart_Metering/#energiepolitisches-zieldreieck","text":"","title":"Energiepolitisches Zieldreieck"},{"location":"6_1_Smart_Metering/#energiebilanzen-von-industrielandern","text":"","title":"Energiebilanzen von Industriel\u00e4ndern"},{"location":"6_1_Smart_Metering/#httpsenergyeducationcaencyclopediatotal_final_consumption_1","text":"","title":"https://energyeducation.ca/encyclopedia/Total_final_consumption"},{"location":"6_1_Smart_Metering/#landesweite-energiebilanzen","text":"","title":"Landesweite Energiebilanzen"},{"location":"6_1_Smart_Metering/#international-energy-agency","text":"","title":"International Energy Agency"},{"location":"6_1_Smart_Metering/#zusammenfassung","text":"Der gr\u00f6\u00dfte Teil der Prim\u00e4renergie weltweit stammt immer noch aus nicht erneuerbaren Energiequellen Sichere, erschwingliche Energie ist eine der wichtigsten Triebfedern der menschlichen Entwicklung Energie wird in allen Sektoren ben\u00f6tigt (Haushalt, Transport, Produktion) Nur ein kleiner Teil der Energie wird in elektrische umgewandelt","title":"Zusammenfassung"},{"location":"6_1_Smart_Metering/#lernfortschritt","text":"Nach dieser Einheit sind Sie in der Lage dazu * Prim\u00e4r- und Endenergiebedarf zu unterscheiden * eine Einsch\u00e4tzung \u00fcber den Energiebedarf verschiedener Sektoren zu geben * Das Energiepolitische Zieldreieck zu beschreiben","title":"\ud83c\udfaf Lernfortschritt"},{"location":"6_1_Smart_Metering/#2-eine-kurze-einfuhrung-in-die-energiewirtschaft","text":"","title":"2 Eine kurze Einf\u00fchrung in die Energiewirtschaft"},{"location":"6_1_Smart_Metering/#lernziele_1","text":"Nach dieser Einheit sind Sie in der Lage dazu - die Marktrollen im Energiemarkt und deren Interessen zu beschreiben - die Struktur des Stromnetzes zu beschreiben - Preisbildung auf dem Spot-Markt zu beschreiben","title":"\ud83c\udfaf Lernziele"},{"location":"6_1_Smart_Metering/#energiekosten-und-erlose","text":"","title":"Energiekosten und Erl\u00f6se"},{"location":"6_1_Smart_Metering/#httpskurieratwirtschaftenergiekosten-insgesamt-um-24-milliarden-euro-gestiegen402181017","text":"","title":"https://kurier.at/wirtschaft/energiekosten-insgesamt-um-24-milliarden-euro-gestiegen/402181017"},{"location":"6_1_Smart_Metering/#stadtwerke-welt-mit-beginn-der-elektrifizierung-19-jhd","text":"Ein Stadtwerk betreibt Netz und Stromerzeugung in seinem Netzgebiet Monopolstellung der Stadtwerke","title":"Stadtwerke-Welt (mit Beginn der Elektrifizierung 19 Jhd.)"},{"location":"6_1_Smart_Metering/#europaische-energiemarktintegration","text":"Entwicklung eines gemeinsamen Europ\u00e4ischen Stromnetzes (Ausfallsicherheit) und Binnenmarktes Aus integrierten Stadtwerken (und Energiekonzernen) werden getrennte Netzbetreiber und Energieversorgungs-unternehmen (EVU)","title":"Europ\u00e4ische Energiemarktintegration"},{"location":"6_1_Smart_Metering/#europaische-energiemarktintegration_1","text":"Alle Marktteilnehmer handeln Energiemengen frei miteinander Netz wird von neutralen Netzbetreibern verantwortet Handel von Strom kann bilateral oder auf der Europ\u00e4ischen Stromb\u00f6rse (EEX) stattfinden Netzrestriktionen werden innerhalb einzelner L\u00e4nder vom Markt ignoriert Solange keine Netzrestriktionen an den Grenzkuppelstellen bestehen haben L\u00e4nder den gleichen Strompreis Eine \u00e4hnliche Logik gilt f\u00fcr den Gas-Markt","title":"Europ\u00e4ische Energiemarktintegration"},{"location":"6_1_Smart_Metering/#trennung-von-naturlichem-monopol-netz-und-markt-energie","text":"Beim Stromnetz handelt es sich um ein nat\u00fcrliches Monopol (ebenso Gas und Eisenbahn) Kein Mitbewerber kann ein Parallelnetz aufbauen, und dieses g\u00fcnstiger anbieten Idee: Netz und Energie werden getrennt behandelt Dies soll den Europ\u00e4ischen Austausch f\u00f6rdern und Kosten senken","title":"Trennung von Nat\u00fcrlichem Monopol (Netz) und Markt (Energie)"},{"location":"6_1_Smart_Metering/#httpswwweuroparleuropaeufactsheetsdesheet45energiebinnenmarkt","text":"","title":"https://www.europarl.europa.eu/factsheets/de/sheet/45/energiebinnenmarkt"},{"location":"6_1_Smart_Metering/#elektrische-energie-aus-strom-ist-ein-homogenes-gut","text":"Eine kWh Strom kann \u00fcberall im Europ\u00e4ischen Stromnetz eingespeist werden Eingespeiste und entnommene Energie k\u00f6nnen nicht nachverfolgt werden Das Netz wird nicht beachtet (Kupferplatte, Zonales Preissystem)","title":"Elektrische Energie aus Strom ist ein Homogenes Gut"},{"location":"6_1_Smart_Metering/#httpstraumshopnetshophighlightsatomstromfilter","text":"","title":"https://traumshop.net/shop/highlights/atomstromfilter/"},{"location":"6_1_Smart_Metering/#okostrom","text":"EVU, dies \u00d6kostrom anbieten haben folgende M\u00f6glichkeiten \u00d6kostrom selbst produzieren per Liefervertrag einkaufen handelbare Erzeugungszertifikate erwerben Mengengleiche \u00d6kostromversorgung: Ausgleich \u00fcbers Jahr Zeitgleiche \u00d6kostromversorgung: Ausgleich in jeder Viertelstunde","title":"\u00d6kostrom"},{"location":"6_1_Smart_Metering/#rollen-auf-dem-energiemarkt-vereinfacht","text":"","title":"Rollen auf dem Energiemarkt (vereinfacht)"},{"location":"6_1_Smart_Metering/#rollen-auf-dem-energiemarkt-vereinfacht_1","text":"Ein Unternehmen kann gleichzeitig unterschiedliche Rollen einnehmen Stromanbieter: Gro\u00dfe Erzeuger vom elektrischem Strom (Kraftwerksparks) verkaufen Energiemengen Stromnachfrager: Energieversorgungsunternehmen (EVU) kaufen Energiemengen Endverbraucher: Haushalte und Gewerbe, beziehen Strom von den Energieversorgungsunternehmen und rechen \u00fcber Tarife ab (nur sehr gro\u00dfe Firmen handeln selbst auf der Stromb\u00f6rse) Netzbetreiber: Greifen nicht in den Handel mit Strom ein","title":"Rollen auf dem Energiemarkt (vereinfacht)"},{"location":"6_1_Smart_Metering/#angebot-und-nachfrage","text":"Stromanbieter bieten zu marginalen Kosten an: Was immer es kostet eine MWh elektrischen Strom zu produzieren Erneuerbare Erzeuger haben marginale Kosten von 0 \u20ac/MWh Gaskraftwerke sind teuer Kapitalkosten werden nicht eingepreist (sunk costs) Stromnachfrager sind unelastisch: EVU m\u00fcssen beschaffen, was Haushalte und Gewerbe beziehen","title":"Angebot und Nachfrage"},{"location":"6_1_Smart_Metering/#marginale-kostengrenzkosten-kosten-die-anfallen-um-eine-zusatzliche-einheit-zu-produzieren","text":"","title":"marginale Kosten/Grenzkosten: Kosten die anfallen, um eine zus\u00e4tzliche Einheit zu produzieren"},{"location":"6_1_Smart_Metering/#merit-order-modell","text":"","title":"Merit Order Modell"},{"location":"6_1_Smart_Metering/#okoinstitut-freiburg","text":"","title":"\u00d6koinstitut Freiburg"},{"location":"6_1_Smart_Metering/#merit-order-modell_1","text":"Die Aufreihung des Angebots wird als Merit Order bezeichnet In jeder Viertelstunde wird die der Einsatz der Erzeuger nach der Merit Order festgelegt Es muss immer genau so viel Strom abgenommen, wie eingespeist werden Die Nachfrage kann kurzfristig als nicht-elastisch (preis-unabh\u00e4ngig) angenommen werden Der Schnittpunkt zwischen Angebot und nachfrage bestimmt den Preis All abgerufenen Kraftwerke erhalten den Preis, den das letzte Kraftwerk erzielt","title":"Merit Order Modell"},{"location":"6_1_Smart_Metering/#ohne-diese-regel-pay-as-bid-gabe-es-ein-anreiz-fur-strategisches-verhalten-der-bieter","text":"","title":"Ohne diese Regel (Pay-as-Bid) g\u00e4be es ein Anreiz f\u00fcr strategisches Verhalten der Bieter"},{"location":"6_1_Smart_Metering/#preis-schwankung-intraday","text":"","title":"Preis-Schwankung Intraday"},{"location":"6_1_Smart_Metering/#httpsenergy-chartsinfochartsprice_spot_marketcharthtmldecdeweek44legenditems011010000010","text":"","title":"https://energy-charts.info/charts/price_spot_market/chart.htm?l=de&amp;c=DE&amp;week=44&amp;legendItems=011010000010"},{"location":"6_1_Smart_Metering/#preis-schwankung-intraday_1","text":"Je nach Last und Erzeugungssituation stellen sich unterschiedliche Preise ein EVU haben ein Interesse den Verbrauch ihrer Kund:innen in Richtung der g\u00fcnstigen Stunden zu verschieben Zeit-dynamische Tarife Unterbrechbare Lasten Das w\u00fcrde die Elastizit\u00e4t/Flexibilit\u00e4t der Nachfrage erh\u00f6hen EVUs m\u00fcssen in teuren Stunden weniger Strom beziehen Geschieht dies nicht im ausreichenden Ma\u00dfe Strompreis steigt Mehr Emissionen Lastabschaltungen","title":"Preis-Schwankung Intraday"},{"location":"6_1_Smart_Metering/#struktur-des-stromnetz","text":"","title":"Struktur des Stromnetz"},{"location":"6_1_Smart_Metering/#httpsuploadwikimediaorgwikipediacommonsbb0stromversorgungsvg","text":"","title":"https://upload.wikimedia.org/wikipedia/commons/b/b0/Stromversorgung.svg"},{"location":"6_1_Smart_Metering/#httpswwwhochspannungsblogatwissenswertesnetzbetreiberuebertragungsnetz","text":"","title":"https://www.hochspannungsblog.at/Wissenswertes/Netzbetreiber/Uebertragungsnetz"},{"location":"6_1_Smart_Metering/#ubertragungsnetz","text":"Maschen-Topologie Engp\u00e4sse bei starken lokalen Ungleichgewichten Marktergebnis kann nicht umgesetzt werden: Redispatch Weitere Aufgaben der \u00dcbertragungsnetzbetreiber Frequenzhaltung Systemreserve","title":"\u00dcbertragungsnetz"},{"location":"6_1_Smart_Metering/#verteilnetz","text":"Ring- oder Strang-Topologie Engp\u00e4sse bei hohen Gleichzeitigkeiten W\u00e4rmepumpen \"Zahnarzt-Allee\" \ud83d\udd25_\ud83d\ude97\ud83d\ude97\ud83d\ude97\ud83d\ude97\ud83d\ude97 PV-R\u00fcckspeisung \ud83d\udd25_\u26a1\u26a1\u26a1\u26a1\u26a1","title":"Verteilnetz"},{"location":"6_1_Smart_Metering/#nachfrage-relevanz-der-elektrischen-energieversorgung","text":"","title":"Nachfrage: Relevanz der elektrischen Energieversorgung"},{"location":"6_1_Smart_Metering/#httpswwwpresseportaldepm433381208607","text":"","title":"https://www.presseportal.de/pm/43338/1208607"},{"location":"6_1_Smart_Metering/#nachfrage-zunehmende-elektrifizierung","text":"","title":"Nachfrage: Zunehmende Elektrifizierung"},{"location":"6_1_Smart_Metering/#httpswwwheizspiegeldeheizkosten-pruefenheizkosten-pro-m2-vergleich","text":"","title":"https://www.heizspiegel.de/heizkosten-pruefen/heizkosten-pro-m2-vergleich/"},{"location":"6_1_Smart_Metering/#nachfrage-emissionsvermeidung-durch-elektrifizierung","text":"","title":"Nachfrage: Emissionsvermeidung durch Elektrifizierung"},{"location":"6_1_Smart_Metering/#httpsdewikipediaorgwikisektorenkopplungmediadateiprimc3a4renergievergleich_fossile_energie_und_erneuerbare_energienpng","text":"","title":"https://de.wikipedia.org/wiki/Sektorenkopplung#/media/Datei:Prim%C3%A4renergievergleich_fossile_Energie_und_erneuerbare_Energien.png"},{"location":"6_1_Smart_Metering/#angebot-anstieg-volatiler-erneuerbarer-energien","text":"","title":"Angebot: Anstieg volatiler Erneuerbarer Energien"},{"location":"6_1_Smart_Metering/#httpswwwoekosystem-erdedehtmlenergiezukunft-03html","text":"","title":"https://www.oekosystem-erde.de/html/energiezukunft-03.html"},{"location":"6_1_Smart_Metering/#fazit","text":"Strom als \"wertvollster\" Energietr\u00e4ger, da geringe Umwandlungsverluste zunehmend h\u00f6herer Teil an Energiedienstleistungen wird aus Strom gedeckt Stromangebot wird zeitlich flexibel (Photovoltaik und Wind nicht immer verf\u00fcgbar - Dunkelflaute) Nicht nur Menge des Strombezugs, sondern auch dessen Zeitpunkt ist entscheidend EVU und Netzbetreiber ben\u00f6tigen Daten \u00fcber Erzeugung und Verbrauch zu Planung und Optimierung EVU und Netzbetreiber haben Anreize den Verbrauch der Endverbraucher steuernd zu beeinflussen","title":"\ud83e\udde0 Fazit"},{"location":"6_1_Smart_Metering/#lernziele_2","text":"Nach dieser Einheit sind Sie in der Lage dazu - die Marktrollen im Energiemarkt und deren Interessen zu beschreiben - die Struktur des Stromnetzes zu beschreiben - Preisbildung auf dem Spot-Markt zu beschreiben","title":"\ud83c\udfaf Lernziele"},{"location":"6_1_Smart_Metering/#3-energiebedarf-von-gebauden","text":"","title":"3 Energiebedarf von Geb\u00e4uden"},{"location":"6_1_Smart_Metering/#lernziele_3","text":"Nach dieser Einheit sind Sie in der Lage dazu * Energieverbraucher im Haushalt nach Energiemengen zu ordnen * M\u00f6gliche Energietr\u00e4ger eines Geb\u00e4udes zu beschreiben * Den Prim\u00e4renergiebedarf eines Geb\u00e4udes aus dem gemessen Endenergiebedarf abzusch\u00e4tzen","title":"\ud83c\udfaf Lernziele"},{"location":"6_1_Smart_Metering/#relevanz-des-gebaudeenergieverbrauch","text":"etwa 1/3 des globalen Energiebedarfs Ein gro\u00dfer Hebel f\u00fcr Wirtschaftlichkeit und Energieeffizienz Gro\u00dfer Anteil indirekter Emissionen (z.B. Strom der nicht vor Ort produziert wird)","title":"\ud83e\udde0 Relevanz des Geb\u00e4udeenergieverbrauch"},{"location":"6_1_Smart_Metering/#httpswwwipccchsiteassetsuploads201802ipcc_wg3_ar5_chapter9pdf","text":"","title":"https://www.ipcc.ch/site/assets/uploads/2018/02/ipcc_wg3_ar5_chapter9.pdf"},{"location":"6_1_Smart_Metering/#httpswwweffizienzhaus-onlinedeenergieverbrauch-haus","text":"","title":"https://www.effizienzhaus-online.de/energieverbrauch-haus/"},{"location":"6_1_Smart_Metering/#httpswwwpassivhausdepassivhaus","text":"","title":"https://www.passivhaus.de/passivhaus/"},{"location":"6_1_Smart_Metering/#energie-definitionen","text":"Nutzenergie ( \\(Q^N\\) ) : Tats\u00e4chlich im Geb\u00e4ude zweckdienlich genutzte Energie Endenergie ( \\(Q^E\\) ) : Im Geb\u00e4ude verbrauchte (und meist gemessene) Energie Prim\u00e4renergiebedarf ( \\(Q^P\\) ) bezieht die gesamte Wertsch\u00f6pfungskette bis zum Geb\u00e4ude mit ein (incl. indirekte Emissionen)","title":"\ud83e\udde0 Energie-Definitionen"},{"location":"6_1_Smart_Metering/#endenergietrager-in-gebauden","text":"Elektrische Energie Netzbezug Lokale Erzeugung Gas Leitungsgebunden \u00d6l Speicher Biomasse Speicher","title":"Endenergietr\u00e4ger in Geb\u00e4uden"},{"location":"6_1_Smart_Metering/#nichterneuerbarer-primarenergiebedarf","text":"\\(Q^{P,ne}\\) ergibt sich f\u00fcr alle zur Versorgung des Geb\u00e4udes erforderlichen Endenergietr\u00e4ger \\(i\\) : \\[Q^{P,ne} = \\sum_i{Q^E_{i} f^{P,ne}_i}\\] \\(Q^E_{i}\\) ... Endenergietr\u00e4ger i (z.B. Gas, Strom) \\(f^{P,ne}_i\\) ... Prim\u00e4renergiefaktor des nicht- erneuerbaren Anteils des Endenergietr\u00e4gers \\(i\\)","title":"\ud83e\udd13 Nichterneuerbarer Prim\u00e4renergiebedarf"},{"location":"6_1_Smart_Metering/#httpswwwingenieureimmowikibauphysiknutz-end-und-primc3a4renergie","text":"","title":"https://www.ingenieure.immo/wiki/bauphysik/nutz-end-und-prim%C3%A4renergie/"},{"location":"6_1_Smart_Metering/#primarenergiefaktoren","text":"h\u00e4ngen von der Vorkette ab schwer zu berechnen EN 15316 Heizungsanlagen in Geb\u00e4uden \u2013 Verfahren zur Berechnung der Energieanforderungen und Nutzungsgrade der Anlagen Deutschland Energieeinsparverordnung von 2007 und DIN V 18599-1 und DIN 4701-10/A1 \u00d6sterreich \u00d6NORM EN 15316-4-5 (bisher nur in der Beurteilung von Fernheizsystemen)","title":"\ud83e\udd13 Prim\u00e4renergiefaktoren"},{"location":"6_1_Smart_Metering/#httpswwwgeodenaturnachhaltigkeit19619-rtkl-stromerzeugung-was-ist-eigentlich-so-klimaschaedlich-braunkohle","text":"","title":"https://www.geo.de/natur/nachhaltigkeit/19619-rtkl-stromerzeugung-was-ist-eigentlich-so-klimaschaedlich-braunkohle"},{"location":"6_1_Smart_Metering/#primarenergiefaktoren-nach-oib","text":"Prim\u00e4renergiebedarf (PEB) ( \\(f^{P}\\) bzw. \\(f_{PE}\\) ) nichterneuerbaren Anteils des PEB ( \\(f^{P,ne}\\) bzw. \\(f_{PE, n.ern.}\\) ) erneuerbaren Anteils ( \\(f^{P,e}\\) bzw. \\(f_{PE, ern.}\\) ) sowie des \\(CO_2\\) -Emissionsfaktors ( \\(f_{CO2}\\) )","title":"\ud83e\udd13 Prim\u00e4renergiefaktoren nach OIB"},{"location":"6_1_Smart_Metering/#osterreichisches-institut-fur-bautechnik-oib-oib-richtlinie-6-energieeinsparung-und-warmeschutz-marz-2015","text":"","title":"\u00d6sterreichisches Institut f\u00fcr Bautechnik (OIB): OIB-Richtlinie 6 \u2013 Energieeinsparung und W\u00e4rmeschutz, M\u00e4rz 2015"},{"location":"6_1_Smart_Metering/#primarenergiefaktoren-nach-oib_1","text":"Interpretation : Das Verbrennen von \\(1 kWh\\) Heiz\u00f6l als Endenergie f\u00fchrt zur einem nichterneuerbaren Prim\u00e4renergiebedarf von \\(1.23~kWh\\) Heiz\u00f6l und einem erneuerbaren Prim\u00e4renergiebedarf von \\(0.0123~kWh\\) . Dabei werden \\(CO_2\\) Emissionen von \\(311~g/kWh\\) verursacht. Die Nutzenergie ist dabei kleiner als \\(1~kWh\\) .","title":"\ud83e\udd13 Prim\u00e4renergiefaktoren nach OIB"},{"location":"6_1_Smart_Metering/#osterreichisches-institut-fur-bautechnik-oib-oib-richtlinie-6-energieeinsparung-und-warmeschutz-marz-2015_1","text":"","title":"\u00d6sterreichisches Institut f\u00fcr Bautechnik (OIB): OIB-Richtlinie 6 \u2013 Energieeinsparung und W\u00e4rmeschutz, M\u00e4rz 2015"},{"location":"6_1_Smart_Metering/#flachenbezug","text":"In der Regel wird der so bestimmte nichterneuerbare Prim\u00e4renergiebedarf auf eine definierte Fl\u00e4che bezogen: * bei Wohngeb\u00e4uden auf die Wohnfl\u00e4che (Bestimmung nach z.B. EnEV), * bei Nichtwohngeb\u00e4uden auf die Nettoraumfl\u00e4che (siehe DIN 277-1) \\[ q^{P,ne} = \\frac{Q^{P,ne}}{A^{bez}} \\] \\(A^{bez}\\) ... Energiebezugsfl\u00e4che","title":"\ud83e\udd13 Fl\u00e4chenbezug"},{"location":"6_1_Smart_Metering/#jahresbezug","text":"","title":"\ud83e\udd13 Jahresbezug"},{"location":"6_1_Smart_Metering/#httpswwwverbraucherzentraledewissenenergieenergetische-sanierungso-kommen-sie-an-einen-energieausweis-fuer-ihre-immobilie-24058","text":"","title":"https://www.verbraucherzentrale.de/wissen/energie/energetische-sanierung/so-kommen-sie-an-einen-energieausweis-fuer-ihre-immobilie-24058"},{"location":"6_1_Smart_Metering/#aufgabe","text":"Berechnen Sie f\u00fcr f\u00fcr das Geb\u00e4ude die j\u00e4hrlichen Heizkosten, \\(CO_2\\) -Emissionen ( \\(f_{CO2}\\) ) fl\u00e4chen-bezogenen nichterneuerbaren Prim\u00e4renergiebedarf ( \\(q^{P,ne}\\) ) f\u00fcr eine Biomasse- und eine Erdgasheizung. Wohnfl\u00e4che: \\(800 m^2\\) Endenergiebedarf: \\(153 \\frac{kWh}{m^2 a}\\) Gaspreis: \\(0.06 \\frac{\u20ac}{kWh}\\) Pelletpreis: \\(0.05 \\frac{\u20ac}{kWh}\\)","title":"\ud83e\udd13 Aufgabe"},{"location":"6_1_Smart_Metering/#httpsdocsgooglecomspreadsheetsd11w776umnfqvs4kg3xlil2lf8dalnmbrfs1l_l3f_f7aedituspsharing","text":"","title":"https://docs.google.com/spreadsheets/d/11W776uMNFQVS4KG3XLIl2LF8DalNMbRFS1L_l3F_f7A/edit?usp=sharing"},{"location":"6_1_Smart_Metering/#losung","text":"Gas: \\(Q^{P,ne}_{gas}=153 \\frac{kWh}{m^2 a} \\cdot 800 m^2 \\cdot 1.16 = 141{,}984 \\frac{kWh}{a}\\) \\(C_{gas}=153 \\frac{kWh}{m^2 a} \\cdot 800 m^2 \\cdot 0.06 \u20ac = 7{,}344 \\frac{\u20ac}{a}\\) \\(m^{CO_2}_{gas} =Q^{P}_{gas} f_{CO_2} =153 \\frac{kWh}{m^2 a} \\cdot 800 m^2\\cdot 236 \\frac{g}{kWh} = 28{,}9 \\frac{t}{a}\\)","title":"\ud83e\udd13 L\u00f6sung"},{"location":"6_1_Smart_Metering/#lernziele_4","text":"Nach dieser Einheit sind Sie in der Lage dazu * Energieverbraucher im Haushalt nach Energiemengen zu ordnen * M\u00f6gliche Energietr\u00e4ger eines Geb\u00e4udes zu beschreiben","title":"\ud83c\udfaf Lernziele"},{"location":"6_1_Smart_Metering/#4-einfluss-der-gebaudeautomatisierung-auf-die-energetische-bewertung","text":"","title":"4 Einfluss der Geb\u00e4udeautomatisierung auf die Energetische Bewertung"},{"location":"6_1_Smart_Metering/#lernziele_5","text":"Nach dieser Einheit sind Sie in der Lage dazu - die vier Energieeffizienzklassen nach EN 15232 zu unterscheiden - ein Absch\u00e4tzung der Effizienzsteigerung nach EN 15232 vorzunehmen","title":"\ud83c\udfaf Lernziele"},{"location":"6_1_Smart_Metering/#einfluss-der-gebaudeautomatisierung-auf-die-energetische-bewertung","text":"Gr\u00f6\u00dfter Hebel ist die Technologieauswahl und effiziente Auslegung w\u00e4hrend der Planung Energiesparen bedeutet aus Sicht der Raumautomation vor allem Verschwendung zu vermeiden z.B.: K\u00fchlen oder Heizen bei offenem Fenster, eingeschaltete Beleuchtung bei ausreichendem Tageslicht, beheizte ungenutzte R\u00e4ume","title":"\ud83e\udde0 Einfluss der Geb\u00e4udeautomatisierung auf die Energetische Bewertung"},{"location":"6_1_Smart_Metering/#energierelevante-gebaudetechnik","text":"Sensorik Intelligente Z\u00e4hler (Smart Meter) Anwesenheitserkennung Fensterkontakt Aktorik Heizung L\u00fcftung K\u00fchlung etc. Verschattung","title":"Energierelevante Geb\u00e4udetechnik"},{"location":"6_1_Smart_Metering/#abschatzung-der-effizienzsteigerung-mit-en-15232","text":"ca. 40 weitere Normen betreffen die effiziente Planung von Geb\u00e4uden die EN15232 berechnet speziell den Einfluss der Geb\u00e4udeautomation und des Geb\u00e4ude\u00admanagements f\u00fcr thermische und elektrische Installationen","title":"Absch\u00e4tzung der Effizienzsteigerung mit EN 15232"},{"location":"6_1_Smart_Metering/#httpswwwbaulinksdewebplugin20122142php4","text":"","title":"https://www.baulinks.de/webplugin/2012/2142.php4"},{"location":"6_1_Smart_Metering/#abschatzung-der-effizienzsteigerung-nach-en-15232","text":"Einfach gesagt: Die Norm gibt an, was an Geb\u00e4udeautomatisierung sinnvoll und notwendig ist, um bestimmte Effizienzklassen zu erreichen Anders als beim Prim\u00e4renergiefaktor geht es hier nicht um die Berechnung konkreter Werte","title":"Absch\u00e4tzung der Effizienzsteigerung nach EN 15232"},{"location":"6_1_Smart_Metering/#effizienzklassen","text":"","title":"Effizienzklassen"},{"location":"6_1_Smart_Metering/#httpswwwco2onlinedeenergie-sparenstrom-sparenstrom-sparen-stromspartippseu-energielabel-ab-2021","text":"","title":"https://www.co2online.de/energie-sparen/strom-sparen/strom-sparen-stromspartipps/eu-energielabel-ab-2021/"},{"location":"6_1_Smart_Metering/#effizienzklasse-a","text":"Die Norm gibt vier Effizienzklassen f\u00fcr Geb\u00e4ude und Wohnh\u00e4user an (Klasse C ist die Referenzklasse; Auszug aus Tabelle 2 der EN15232): Heizen/ K\u00fchlen Air conditioning Beleuchtung Sonnenschutz A z.B. Einzelraumre\u00adgelung mit Kom\u00admunikation und Bedarfsanforde\u00adrung z.B. Zuluftregelung mit lastabh\u00e4ngigem Sollwert autom. Beleuchtung z.B. mit automati\u00adscher Anwesenheits\u00aderfassung kombinierte Steuerung von Jalousien und Temperatur\u00ad","title":"Effizienzklasse A"},{"location":"6_1_Smart_Metering/#effizienzklassen-b-und-c","text":"Heizen/ K\u00fchlen Air conditioning Beleuchtung Sonnenschutz B z.B. Einzelraumre\u00adgelung mit Kom\u00admu\u00adnikation z.B. stufig gere\u00adgel\u00adte Pumpen z.B. mehrstufige Ventilatorsteuerung autom. Beleuchtung z.B. mit automati\u00adscher Anwesenheits\u00aderfassung automatische Steuerung der Jalousien C z.B. Einzelraumre\u00adgelung mit Ther\u00admos\u00adtatventil z.B. Ventilator mit Ein/Aus-Steuerung manuelle Lichtsteue\u00adrung manuelle Bedienung der motorisierten Jalousien","title":"Effizienzklassen B und C"},{"location":"6_1_Smart_Metering/#effizienzklasse-d","text":"Heizen/ K\u00fchlen Air conditioning Beleuchtung Sonnenschutz D z.B. keine Einzel\u00adraum\u00adregelung z.B Pumpen nicht geregelt z.B. keine Luftmen\u00adgenregelung z.B. keine Zuluftre\u00adgelung manuelle Lichtsteue\u00adrung manuelle Bedienung der Jalousien","title":"Effizienzklasse D"},{"location":"6_1_Smart_Metering/#die-idee-dahinter","text":"Bei der Anwendung der EN 15232 auf Sanierungsprojekte mit bekanntem Energie\u00adverbrauch k\u00f6nnen dadurch die Einsparungen bei geplanten Investitionen in die Geb\u00e4udeautomation mittels eines Rechenfaktors ( \\(f^{BSCS}\\) ) leicht \u00fcber\u00adschlagen werden: \\(f^{BSCS,th}\\) ... f\u00fcr die thermischen Verbraucher \\(f^{BSCS,el}\\) ... f\u00fcr die elektrischen Verbraucher \\(Q^{E, vor}\\) ... Endenergiebedarf vor Renovierung \\(Q^{E, nach}\\) ... Endenergiebedarf nach Renovierung mit Geb\u00e4udeautomatisierung \\[Q^{E, nach} = \\frac{f^{BSCS,nach}}{f^{BSCS,vor}} Q^{E, vor}\\]","title":"\ud83e\udde0 Die Idee dahinter"},{"location":"6_1_Smart_Metering/#tabelle-thermische-effizienzfaktoren-fbscsth","text":"D (Nicht energieeffizient) C (Standard / Referenz) B (Erweitert) A (Hohe Energieeffizienz) B\u00fcros 1,51 1 0,80 0,70 H\u00f6rsaal 1,24 1 0,75 0,50 Schulgeb\u00e4ude 1,20 1 0,88 0,80","title":"Tabelle: Thermische Effizienzfaktoren \\(f^{BSCS,th}\\)"},{"location":"6_1_Smart_Metering/#tabelle-elektrische-effizienzfaktoren-fbscsel","text":"D (Nicht energieeffizient) C (Standard / Referenz) B (Erweitert) A (Hohe Energieeffizienz) B\u00fcros 1,10 1 0,93 0,87 H\u00f6rsaal 1,06 1 0,94 0,89 Schulgeb\u00e4ude 1,07 1 0,93 0,86 Krankenh\u00e4user 1,05 1 0,98 0,96","title":"Tabelle: Elektrische Effizienzfaktoren \\(f^{BSCS,el}\\)"},{"location":"6_1_Smart_Metering/#aufgabe_1","text":"Im ersten Planungsstand wird der neue Audimax (als eigenes Geb\u00e4ude) mit einer Geb\u00e4udeautomatisierung geplant, die elektrisch Effizienzklasse C und thermisch Klasse D entspricht. Geben Sie eine erste Einsch\u00e4tzung, wie viel elektrische und thermische Energie eingespart werden kann, wenn der H\u00f6rsaal stattdessen jeweils mit Effizienzklasse B geplant wird.","title":"\u270d\ufe0f Aufgabe"},{"location":"6_1_Smart_Metering/#losung_1","text":"\\(Q^{E, nach} = \\frac{f^{BSCS,nach}}{f^{BSCS,vor}} Q^{E, vor}\\) \\(\\frac{Q^{E, nach, el}}{Q^{E, vor,el}} = \\frac{f^{BSCS,nach,el}}{f^{BSCS,vor,el}} = \\frac{0,94}{1} =94\\%\\) \\(\\frac{Q^{E, nach, th}}{Q^{E, vor, th}} = \\frac{f^{BSCS,nach,th}}{f^{BSCS,vor,th}} = \\frac{0,75}{ 1,24} =60\\%\\)","title":"L\u00f6sung"},{"location":"6_1_Smart_Metering/#lernziele_6","text":"Nach dieser Einheit sind Sie in der Lage dazu - die vier Energieeffizienzklassen nach EN 15232 zu unterscheiden - ein Absch\u00e4tzung der Effizienzsteigerung nach EN 15232 vorzunehmen","title":"\ud83c\udfaf Lernziele"},{"location":"6_1_Smart_Metering/#5-smart-metering","text":"","title":"5 Smart Metering"},{"location":"6_1_Smart_Metering/#lernziele_7","text":"Nach dieser Einheit sind Sie in der Lage dazu * Schnittstellen eines Smart Meters zu benennen * Funktionen intelligenter Messsysteme beschreiben * Vorteile und Anwendungsf\u00e4lle einer Echtzeitmessung erl\u00e4utern","title":"\ud83c\udfaf Lernziele"},{"location":"6_1_Smart_Metering/#herkommliche-zahler","text":"integrierende Messung keine Messzeitreihe Visuelles Ablesen eines Momentanwerts","title":"\ud83e\udde0 Herk\u00f6mmliche Z\u00e4hler"},{"location":"6_1_Smart_Metering/#standardlastprofile","text":"auf historischen Daten basierende Annahmen \u00fcber typische Verbrauchsmuster gemittelt (enthalten keine Lastspitzen) dienen der Planung (z.B. Auslegung des Netzes, Beschaffung von Strom an der Stromb\u00f6rse) zunehmend unpr\u00e4zise","title":"Standardlastprofile"},{"location":"6_1_Smart_Metering/#httpsblognaturstromdeinternstandardlastprofil","text":"","title":"https://blog.naturstrom.de/intern/standardlastprofil/"},{"location":"6_1_Smart_Metering/#intelligente-zahler","text":"(Smart Meter) sind Gas-, Wasser- oder Stromz\u00e4hler , die digital Daten auszeichnen, senden und ggf. auch empfangen (Busteilnehmer) Basisfunktionen: Messung Datenspeicherung Kommunikation","title":"\ud83e\udde0 Intelligente Z\u00e4hler"},{"location":"6_1_Smart_Metering/#komponenten-eines-smart-meters-at","text":"","title":"Komponenten eines Smart Meters (AT)"},{"location":"6_1_Smart_Metering/#smart-meter-kurzanleitung","text":"","title":"Smart-Meter-Kurzanleitung"},{"location":"6_1_Smart_Metering/#kommunikation-zwischen-verschiedenen-rollen","text":"","title":"Kommunikation zwischen verschiedenen Rollen"},{"location":"6_1_Smart_Metering/#komponenten-eines-intelligentes-messsystems-d","text":"Strikte Trennung in zwei kompatible Komponenten: Modernen Messeinrichtung erfasst Energiefluss digital Smart Meter Gateway Kommunikations-Schnittstelle , welche die Z\u00e4hlerwerte speichern, Daten verarbeiten und mit einem Netzwerk kommuniziert (Kommunikationsmodul)","title":"Komponenten eines Intelligentes Messsystems (D)"},{"location":"6_1_Smart_Metering/#httpswwwverbraucherzentraledewissenenergiepreise-tarife-anbieterwechselsmart-meter-die-neuen-stromzaehler-kommen-13275-stand-5-februar-2021","text":"","title":"https://www.verbraucherzentrale.de/wissen/energie/preise-tarife-anbieterwechsel/smart-meter-die-neuen-stromzaehler-kommen-13275, Stand: 5. Februar 2021"},{"location":"6_1_Smart_Metering/#kommunikationsmodul","text":"Anbindung \u00fcber diverse Bus-Systeme (Power-Line-Communication, Mobilfunk, M-Bus, TCP/IP, ...) erm\u00f6glicht Fernauslesung : Energieversorgungsunternehmen kann Stromverbrauch aus der Ferne ablesen Privatsph\u00e4re : Bedenken, dass auf Verhalten und Anwesenheit geschlossen werden kann","title":"Kommunikationsmodul"},{"location":"6_1_Smart_Metering/#kommunikationsmodul-einfuhrung-neuer-stromtarife","text":"Zeitvariable Tarife : Strom kostet mehr zu Hochlastzeiten (abends, W\u00e4rmepumpen) Last-variable Tarife : Strom kostet in Abh\u00e4ngigkeit der bezogenen Leistung Zeit-dynamische Tarife : Strompreise k\u00f6nnen sich flexibel ver\u00e4ndern (z.B. alle 15 Minuten)","title":"Kommunikationsmodul: Einf\u00fchrung neuer Stromtarife"},{"location":"6_1_Smart_Metering/#httpswwwawattarat","text":"","title":"https://www.awattar.at/"},{"location":"6_1_Smart_Metering/#gesetzliches","text":"EU Richtlinie 2006 : allen Mitgliedstaaten, soweit technisch machbar, finanziell vertretbar und im Vergleich zu den potentiellen Energieeinsparungen angemessen, alle Endkunden in den Bereichen Strom, Erdgas, Fernheizung und/oder -k\u00fchlung und Warmbrauchwasser individuelle Z\u00e4hler tats\u00e4chlichen Energieverbrauch des Endkunden und die tats\u00e4chliche Nutzungszeit anzeigt m\u00f6gliche L\u00f6sung: M-Bus Sensor + Display","title":"\ud83e\udde0 Gesetzliches"},{"location":"6_1_Smart_Metering/#kundenschnittstelle-home-area-network","text":"in \u00d6sterreich nicht fix definiert Spannung, Wirkleistung, Blindleistung aller Phasen h\u00e4ufig MBUS, aber auch andere Bussysteme teilweise verschl\u00fcsselt","title":"Kundenschnittstelle (Home Area Network)"},{"location":"6_1_Smart_Metering/#konzept-fur-einen-smart-meter-kundenschnittstellen-adapter-zur-standardisierung-der-datenbereitstellung-in-der-kundenanlage","text":"","title":"Konzept f\u00fcr einen \u201eSmart-Meter Kundenschnittstellen Adapter\u201c zur Standardisierung der Datenbereitstellung in der Kundenanlage"},{"location":"6_1_Smart_Metering/#stand-smart-meter-rollout-europa-2020","text":"Land Durchdringung in % Bemerkung Spanien 100 Irland 100 D\u00e4nemark 100 Finnland 100 Malta 100 Italien 99 Treiber Stromklau? Luxemburg 95 \u00d6sterreich 95 Prakmatisch Frankreich 95 Land Durchdringung in % Bemerkung Griechenland 80 Polen 80 Rum\u00e4nien 80 Deutschland 23 Overengineering Lettland 23","title":"Stand Smart Meter Rollout Europa 2020"},{"location":"6_1_Smart_Metering/#httpsdestatistacomstatistikdatenstudie387142umfragemarktdurchdringung-von-smart-metern-in-europa-nach-laendern","text":"","title":"https://de.statista.com/statistik/daten/studie/387142/umfrage/marktdurchdringung-von-smart-metern-in-europa-nach-laendern/"},{"location":"6_1_Smart_Metering/#eichrecht","text":"abrechnungs-relevante Z\u00e4hler m\u00fcssen eich-rechtlich zugelassen sein Ma\u00df- und Eichgesetz (MEG) Mengenmessger\u00e4te f\u00fcr Gas, Mengenmessger\u00e4te f\u00fcr sauberes Wasser aus Versorgungsleitungen, Mengenmessger\u00e4te f\u00fcr thermische Energie (W\u00e4rmez\u00e4hler, K\u00e4ltez\u00e4hler), Elektrizit\u00e4tsz\u00e4hler Z\u00e4hler muss bei in Verkehr bringen der Europ\u00e4ischen Messger\u00e4te-Richtlinie MID entsprechen Regelm\u00e4\u00dfig \u00fcberpr\u00fcft (geeicht) werden","title":"\ud83e\udde0 Eichrecht"},{"location":"6_1_Smart_Metering/#httpsstaticfernauslesedeuploadsfernauslesede-merkblatt-eichrecht-in-oesterreichpdf","text":"","title":"https://static.fernauslese.de/uploads/Fernauslese.de-Merkblatt-Eichrecht-in-Oesterreich.pdf"},{"location":"6_1_Smart_Metering/#smart-meter-osterreich","text":"","title":"\ud83e\udd13 Smart Meter \u00d6sterreich"},{"location":"6_1_Smart_Metering/#httpswwwarbeiterkammeratberatungkonsumentdatenschutzfaqs_zum_smart_meterhtmllg1slide0","text":"","title":"https://www.arbeiterkammer.at/beratung/konsument/Datenschutz/FAQs_zum_Smart_Meter.html#lg=1&amp;slide=0"},{"location":"6_1_Smart_Metering/#besonderheit-deutschland","text":"Technische Richtlinie 03109-1 Anforderungen an die Interoperabilit\u00e4t der Kommunikationseinheit eines intelligenten Messsystems Bundesamt f\u00fcr Sicherheit in der Informationstechni k \u2013 BSI definierte umfassende Anforderungen, welche von der Herstellern umgesetzt werden mussten z.B. \u00dcbertragung \u00fcber asymmetrische Verschl\u00fcsselung und Zertifizierung Standardisierte Basisfunktionen (Tarifanwendungsf\u00e4lle)","title":"\ud83e\udd13 Besonderheit Deutschland"},{"location":"6_1_Smart_Metering/#smart-meter-deutschland","text":"soll \u00d6kosystem zum Vernetzung verschiedenster Akteure spielen Zus\u00e4tzlich zur Kommunikationsmodul (WAN) und Kundenschnittstellen (HAN) k\u00f6nnen noch weitere Z\u00e4hler integriert werden (LMN)","title":"\ud83e\udd13 Smart Meter Deutschland"},{"location":"6_1_Smart_Metering/#httpswwwdkededearbeitsfelderenergysmart-meter-energiemanagement-digitalisierung-energiewende","text":"","title":"https://www.dke.de/de/arbeitsfelder/energy/smart-meter-energiemanagement-digitalisierung-energiewende"},{"location":"6_1_Smart_Metering/#tarifanwendungsfalle","text":"","title":"\ud83e\udd13 Tarifanwendungsf\u00e4lle"},{"location":"6_1_Smart_Metering/#httpswwwffedeattachmentsarticle851fe_13549_bericht_final_onlinepdf","text":"","title":"https://www.ffe.de/attachments/article/851/FE_13549_Bericht_final_online.pdf"},{"location":"6_1_Smart_Metering/#kritik-an-deutschem-system","text":"Sp\u00e4te Markteinf\u00fchrung hohe Kosten (>100 \u20ac/a) \u00dcberreglementierung Kein Freitraum f\u00fcr Tarifentwicklung Anforderungen EVU \u00fcber WAN-Schnittstelle: Abrechnung auf 15 Minuten-Basis ausreichend Liegenschaftsbetreiber \u00fcber HAN-Schnittstelle: Mess- und Regelung in Geb\u00e4udeleittechnik erfordert h\u00f6here Aufl\u00f6sung ( Parallelstruktur )","title":"\ud83e\udd13 Kritik an Deutschem System"},{"location":"6_1_Smart_Metering/#einbauempfehlung-deutschland","text":"","title":"\ud83e\udd13 Einbauempfehlung Deutschland"},{"location":"6_1_Smart_Metering/#zentralverband-der-deutschen-elektro-und-informationstechnischen-handwerke","text":"","title":"Zentralverband der Deutschen Elektro- und Informationstechnischen Handwerke"},{"location":"topic1-content/","text":"Topic 1 - Content Quicklinks Google Colabs Sakai Aufgaben 0 Organisatorisches","title":"Topic 1 - Content"},{"location":"topic1-content/#topic-1-content","text":"","title":"Topic 1 - Content"},{"location":"topic1-content/#quicklinks","text":"Google Colabs Sakai Aufgaben","title":"Quicklinks"},{"location":"topic1-content/#0-organisatorisches","text":"","title":"0 Organisatorisches"},{"location":"topic1-task/","text":"Topic 1 - Task Quicklinks Google Colabs Sakai Aufgaben Third Level Fourth Level 0 Organisatorisches","title":"Topic 1 - Task"},{"location":"topic1-task/#topic-1-task","text":"","title":"Topic 1 - Task"},{"location":"topic1-task/#quicklinks","text":"Google Colabs Sakai Aufgaben","title":"Quicklinks"},{"location":"topic1-task/#third-level","text":"","title":"Third Level"},{"location":"topic1-task/#fourth-level","text":"","title":"Fourth Level"},{"location":"topic1-task/#0-organisatorisches","text":"","title":"0 Organisatorisches"},{"location":"topic1/","text":"Topic 1 Quicklinks Google Colabs Sakai Aufgaben 0 Organisatorisches","title":"Topic 1"},{"location":"topic1/#topic-1","text":"","title":"Topic 1"},{"location":"topic1/#quicklinks","text":"Google Colabs Sakai Aufgaben","title":"Quicklinks"},{"location":"topic1/#0-organisatorisches","text":"","title":"0 Organisatorisches"}]}
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Julian Huber" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Regelkreis - Bussysteme</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Regelkreis";
        var mkdocs_page_input_path = "3_2_Regelkreis.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Bussysteme
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">√úbersicht</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Geb√§udeautomation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../1_1_Geb%C3%A4udeautomation/">Geb√§udeautomation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../1_2_Planungsabl%C3%A4ufe/">Planungsabl√§ufe</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Computer-Systeme</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../2_1_Messkette/">Messkette</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../2_2_Steuerung/">Steuerung</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../2_3_Funktionen/">Funktionen</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../2_4_Objektorientierung/">Objektorientierung</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Regelungstechnik</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../3_1_Blockschaltbild/">Blockschaltbild </a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Regelkreis</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#beispiel-konstantlicht-regelung">Beispiel Konstantlicht-Regelung</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#konstantlichtregelung">Konstantlichtregelung</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#aufgabe-3_2_1-konstantlicht-regelung">‚úçÔ∏è Aufgabe 3_2_1: Konstantlicht-Regelung</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#losung">‚úîÔ∏è L√∂sung</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#proportional-regler">Proportional-Regler</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#aufgabe-3_2_2-regelung-der-co2-konzentration">‚úçÔ∏è Aufgabe 3_2_2: Regelung der CO2-Konzentration</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#losung_1">‚úîÔ∏è L√∂sung</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#losung_2">‚úîÔ∏è L√∂sung</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#zusammenfassung-p-regler">Zusammenfassung P-Regler</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#aufgabe-3_2_3-wassertank-mit-pid-regler">‚úçÔ∏è Aufgabe 3_2_3: Wassertank mit PID-Regler</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#integral-regler">üß† Integral-Regler</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#proportional-integral-regler">Proportional-Integral-Regler</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#proportional-differenzial-regler">üß† Proportional-Differenzial-Regler</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#aufgabe-3_2_4-reaktion-d-regler">‚úçÔ∏è Aufgabe 3_2_4: Reaktion D-Regler</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../3_3_Regelverhalten/">Regelverhalten</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Speicherprogrammierbare Steuerung</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../4_1_Speicherprogrammierbare_Steuerung/">Speicherprogrammierbare Steuerung</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../4_2_Sprachen_nach_IEC_61131-3/">Sprachen nach IEC 61131-3</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../4_3_Appendix_Twincat/">Twincat</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Bussysteme</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../5_1_Signalisierung/">Signalisierung</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../5_2_Buszugriffsverfahren/">Buszugriffsverfahren</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../5_3_Uebertragungssicherheit/">√úbertragungssicherheit</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../5_4_Bussysteme_in_der_Gebudeautomation/">Bussysteme in der Geb√§udeautomation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Smart Metering</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../6_1_Smart_Metering/">Smart Metering</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Bussysteme</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Regelungstechnik</li>
      <li class="breadcrumb-item active">Regelkreis</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <!-- paginate: true -->

<h1 id="32-regelkreise">3.2 Regelkreise</h1>
<hr />
<h2 id="beispiel-konstantlicht-regelung">Beispiel Konstantlicht-Regelung</h2>
<blockquote>
<p>regelt die Raumbeleuchtung oder Teile davon bei Belegung automatisch so, dass eine eingestellte Mindestbeleuchtungsst√§rke nicht unterschritten wird</p>
</blockquote>
<ul>
<li>Im Gegensatz zur Tageslichtschaltung, soll es aber auch nicht unn√∂tig hell sein, wenn es drau√üen schon hell ist</li>
</ul>
<p><img alt="bg right:35% h:720" src="../images/RA_Konstantlicht.pdf.png" /></p>
<hr />
<h3 id="konstantlichtregelung">Konstantlichtregelung</h3>
<ul>
<li>Lichtst√§rke kann (quasi) stetig gesteuert werden (z.B. √ºber Dimmer oder Pulsweitenmodulation)</li>
</ul>
<p><img alt="" src="../images/Helligkeitsregelung.svg" /></p>
<hr />
<h2 id="aufgabe-3_2_1-konstantlicht-regelung">‚úçÔ∏è Aufgabe 3_2_1: Konstantlicht-Regelung</h2>
<ul>
<li>Laden Sie die Datei <a href="https://github.com/jhumci/scilab_xcos_solutions/blob/main/Bussysteme/3_2_1/Konstantlicht_nur_p.zcos">Konstantlicht_nur_p.zcos</a> und passen Sie den P-Parameter in <code>PID</code>-Baustein an und beobachten Sie die Reaktion des Systems</li>
<li>Welche Komponenten werden durch welche Bausteine dargestellt?</li>
</ul>
<p><img alt="" src="../images/Konstantlichtregelung_nur_p.png" /></p>
<hr />
<h3 id="losung">‚úîÔ∏è L√∂sung</h3>
<p><img alt="" src="../images/Konstantlicht_P.png" /></p>
<ul>
<li>Bleibende Regelabweichung. Die 100 Lux werden nie erreicht</li>
<li>Schwingen des Systems</li>
<li>Sprunghaftes Verhalten (wegen Delay)</li>
</ul>
<hr />
<h2 id="proportional-regler">Proportional-Regler</h2>
<ul>
<li>Reaktion der Stellgr√∂√üe bzw. Steuerungsgr√∂√üe 
<span class="arithmatex">\(u(t)=K_P \cdot e(t)\)</span></li>
<li>multipliziert die Regelabweichung <span class="arithmatex">\(e_t\)</span> mit dem Verst√§rkungsfaktor <span class="arithmatex">\(K_P\)</span> und gibt das Ergebnis aus</li>
<li>je dunkler <span class="arithmatex">\(y_m\)</span> im Verh√§ltnis zur F√ºhrungsgr√∂√üe (<span class="arithmatex">\(w\)</span>), desto heller die Beleuchtung (<span class="arithmatex">\(u\)</span>)</li>
</ul>
<p><img alt="bg right w:600" src="../images/Helligkeitsregelung.svg" /></p>
<hr />
<ul>
<li>Reaktion der Stellgr√∂√üe:</li>
<li><span class="arithmatex">\(u(t)=K_P \cdot e(t)\)</span></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">p</span><span class="o">-</span><span class="n">regler</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">k_p</span><span class="p">):</span>
  <span class="n">ausgang</span> <span class="o">=</span> <span class="n">e</span> <span class="o">*</span> <span class="n">k_p</span>
  <span class="k">return</span> <span class="n">ausgang</span>
</code></pre></div>
<p><img alt="bg right:60% height:600" src="../images/P-Regler-Funktionen.svg" /></p>
<hr />
<h2 id="aufgabe-3_2_2-regelung-der-co2-konzentration">‚úçÔ∏è Aufgabe 3_2_2: Regelung der CO2-Konzentration</h2>
<ul>
<li>Ziel ist der Entwurf eines Reglers zur Steuerung einer Bel√ºftungsanlage auf Basis der Schadstoffkonzentration im Raum in ppm </li>
<li>Zeichnen Sie den Verlauf der Stellgr√∂√üen (Drehzahl der Anlage) f√ºr folgende zwei Regler:</li>
<li>stetiger Proportionalregler: <span class="arithmatex">\(u(t) = \frac{2}{min \cdot ppm} e(t)\)</span> </li>
<li>Regelung nach Logik n√§chste Seite.</li>
</ul>
<hr />
<h3 id="losung_1">‚úîÔ∏è L√∂sung</h3>
<p><img alt="bg right:66% height:600" src="../images/AufgabeRegler.svg" /></p>
<hr />
<h3 id="losung_2">‚úîÔ∏è L√∂sung</h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">regler</span> <span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">letzte_drehzahl</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">e</span> <span class="o">==</span><span class="mi">1000</span><span class="p">:</span>
    <span class="n">drehzahl</span> <span class="o">=</span> <span class="n">letzte_drehzahl</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">e</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
      <span class="n">drehzahl</span> <span class="o">=</span> <span class="n">e</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">drehzahl</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">return</span> <span class="n">drehzahl</span>
</code></pre></div>
<hr />
<h3 id="zusammenfassung-p-regler">Zusammenfassung P-Regler</h3>
<p><img alt="bg right w:500" src="../images/Idealer_P_Sprungantwort.svg" /></p>
<ul>
<li>P-Glied, welches als Regler eingesetzt wird</li>
<li>Zeitverhalten: reagiert <strong>unverz√∂gert</strong> </li>
<li>bleibende Regelabweichung bei Systemen mit Ausgleich (Regelstrecken die bei konstantem Eingang einen konstanten Wert anstreben)</li>
</ul>
<hr />
<h2 id="aufgabe-3_2_3-wassertank-mit-pid-regler">‚úçÔ∏è Aufgabe 3_2_3: Wassertank mit PID-Regler</h2>
<ul>
<li>Entfernen Sie den I und D-Anteil des PID-Reglers in <a href="https://github.com/jhumci/scilab_xcos_solutions/blob/main/Bussysteme/3_2_3/demo_watertank.zcos">demo_watertank.zcos</a> und beobachten Sie die Reaktion des Systems
<img alt="" src="../images/demo_watertank.png" /></li>
</ul>
<hr />
<h2 id="integral-regler">üß† Integral-Regler</h2>
<p><img alt="bg right w:500" src="../images/Idealer_I_Sprungantwort.svg" /></p>
<ul>
<li>Antwort <span class="arithmatex">\(u(t)\)</span> auf Sprung unmittelbar, jedoch nicht sofort mit voller St√§rke</li>
<li>Je l√§nger (<span class="arithmatex">\(t\)</span>) die Regelabweichung besteht und umso gr√∂√üer sie ist, desto st√§rker die Antwort</li>
<li><span class="arithmatex">\(u(t)=\frac{1}{T_n}\int_0^te(\tau)d\tau\)</span></li>
</ul>
<p><a href="Abbildung rechts ist Reaktion auf Sprungfunktion">Quelle</a></p>
<hr />
<p><img alt="bg right w:500" src="../images/Idealer_I_Sprungantwort.svg" /></p>
<ul>
<li><span class="arithmatex">\(u(t)=\frac{1}{T_n}\int_0^te(\tau)d\tau\)</span></li>
<li><span class="arithmatex">\(u(t)=K_I \cdot \int_0^te(\tau)d\tau\)</span></li>
<li><span class="arithmatex">\(T_n\)</span> ... Nachstellzeit bestimmt den Gradienten des Anstieges von <span class="arithmatex">\(u\)</span> </li>
<li><em>summiert</em> die Regelabweichung √ºber die Zeit auf</li>
<li><strong>Regelabweichungen</strong> werden auch bei Strecken mit Ausgleich vollst√§ndig <strong>eliminiert</strong>, daf√ºr <strong>langsamer</strong></li>
</ul>
<hr />
<p><img alt="height:600" src="../images/i-Regler.svg" /></p>
<hr />
<h2 id="proportional-integral-regler">Proportional-Integral-Regler</h2>
<p><img alt="" src="../images/Idealer_PI_Sprungantwort.svg" /></p>
<ul>
<li>Sprungantwort: <span class="arithmatex">\(u(t)=K_Pe(t) + K_I \cdot \int_0^te(\tau)d\tau\)</span></li>
<li>PI-Regler <strong>Kombination</strong> aus P- und I-Regler</li>
<li>schnelle Reaktion (wie P-Regler)</li>
<li>exakte Ausregelung ohne eine bleibende Regelabweichung (wie I-Regler) </li>
</ul>
<hr />
<h2 id="proportional-differenzial-regler">üß† Proportional-Differenzial-Regler</h2>
<p><img alt="" src="../images/Idealer_PD_Sprungantwort.svg" /></p>
<ul>
<li>Sprungantwort: <span class="arithmatex">\(u(t)=K_Pe(t)+K_d \frac{de(t)}{dt}=K_Pe(t)+T_v \frac{de(t)}{dt}\)</span></li>
<li>kombiniert P-Regler mit Differenzial-Anteil</li>
<li>der D-Anteil bewertet die √Ñnderung einer Regelabweichung (differenziert) und berechnet so deren <strong>√Ñnderungsgeschwindigkeit</strong></li>
<li>reagiert schon auf "Ank√ºndigungen" von Ver√§nderungen </li>
<li><strong>sehr schnell</strong>, doch bleibende <strong>Regelabweichung</strong></li>
<li>Unruhe im Regelkreis wird verst√§rkt, wenn Sensorsignal verrauscht </li>
</ul>
<hr />
<p><img alt="height:600" src="../images/d-regler.svg" /></p>
<hr />
<h2 id="aufgabe-3_2_4-reaktion-d-regler">‚úçÔ∏è Aufgabe 3_2_4: Reaktion D-Regler</h2>
<p>‚úçÔ∏è Wie sieht die Reaktion aus?</p>
<p><img alt="height:400" src="../images/d-regler-Aufgabe.svg" /></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../3_1_Blockschaltbild/" class="btn btn-neutral float-left" title="Blockschaltbild "><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../3_3_Regelverhalten/" class="btn btn-neutral float-right" title="Regelverhalten">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../3_1_Blockschaltbild/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../3_3_Regelverhalten/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="/javascripts/mathjax.js"></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
